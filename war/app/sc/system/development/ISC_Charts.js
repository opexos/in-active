
/*

  SmartClient Ajax RIA system
  Version v11.0p_2016-12-17/EVAL Development Only (${date})

  Copyright 2000 and beyond Isomorphic Software, Inc. All rights reserved.
  "SmartClient" is a trademark of Isomorphic Software, Inc.

  LICENSE NOTICE
     INSTALLATION OR USE OF THIS SOFTWARE INDICATES YOUR ACCEPTANCE OF
     ISOMORPHIC SOFTWARE LICENSE TERMS. If you have received this file
     without an accompanying Isomorphic Software license file, please
     contact licensing@isomorphic.com for details. Unauthorized copying and
     use of this software is a violation of international copyright law.

  DEVELOPMENT ONLY - DO NOT DEPLOY
     This software is provided for evaluation, training, and development
     purposes only. It may include supplementary components that are not
     licensed for deployment. The separate DEPLOY package for this release
     contains SmartClient components that are licensed for deployment.

  PROPRIETARY & PROTECTED MATERIAL
     This software contains proprietary materials that are protected by
     contract and intellectual property law. You are expressly prohibited
     from attempting to reverse engineer this software or modify this
     software for human readability.

  CONTACT ISOMORPHIC
     For more information regarding license rights and restrictions, or to
     report possible license violations, please contact Isomorphic Software
     by email (licensing@isomorphic.com) or web (www.isomorphic.com).

*/

if(window.isc&&window.isc.module_Core&&!window.isc.module_Charts){isc.module_Charts=1;isc._moduleStart=isc._Charts_start=(isc.timestamp?isc.timestamp():new Date().getTime());if(isc._moduleEnd&&(!isc.Log||(isc.Log&&isc.Log.logIsDebugEnabled('loadTime')))){isc._pTM={message:'Charts load/parse time: '+(isc._moduleStart-isc._moduleEnd)+'ms',category:'loadTime'};if(isc.Log&&isc.Log.logDebug)isc.Log.logDebug(isc._pTM.message,'loadTime');else if(isc._preLog)isc._preLog[isc._preLog.length]=isc._pTM;else isc._preLog=[isc._pTM]}isc.definingFramework=true;if(window.isc&&isc.version!="v11.0p_2016-12-17/EVAL Development Only"&&!isc.DevUtil){isc.logWarn("SmartClient module version mismatch detected: This application is loading the core module from SmartClient version '"+isc.version+"' and additional modules from 'v11.0p_2016-12-17/EVAL Development Only'. Mixing resources from different SmartClient packages is not supported and may lead to unpredictable behavior. If you are deploying resources from a single package you may need to clear your browser cache, or restart your browser."+(isc.Browser.isSGWT?" SmartGWT developers may also need to clear the gwt-unitCache and run a GWT Compile.":""))}
isc.ClassFactory.defineClass("MultiArray");isc.A=isc.MultiArray.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.addPropertiesOnCreate=false;isc.B.push(isc.A.init=function isc_MultiArray_init(_1,_2,_3,_4,_5){this.data=_1;this.shape=_2;this.stride=_3;this.offset=_4;this.readonly=_5;return this.Super("init",arguments)},isc.A.$16ag=function isc_MultiArray__getDataIndex(_1){var _2=this.stride,_3=this.offset,_4=this.shape.length;if(_4==1&&!isc.isAn.Array(_1)){return _3+_1*_2[0]}else{for(var i=_4;i--;){_3+=_1[i]*_2[i]}}
return _3},isc.A.get=function isc_MultiArray_get(_1){return this.data[this.$16ag(_1)]},isc.A.set=function isc_MultiArray_set(_1,_2){this.data[this.$16ag(_1)]=_2},isc.A.toArray=function isc_MultiArray_toArray(_1){var _2=this.data,_3=this.shape,n=_3.length,_5=this.stride,_6=new Array(n),_7=1;for(var i=0;i<n;++i){_7*=_3[i];_6[i]=0}
var _9=new Array(_7),_10=0,_11=this.offset;for(var i=0;i<_7;++i){var _12=_2[_11];if(!(_1&&_12==null)){_9[_10++]=_12}
for(var d=n-1;d>=0;){var _14=(++_6[d]);_11+=_5[d];if(_14==_3[d]){_6[d--]=0}else{d=-1}}}
if(_1&&_10<_7){_9.setLength(_10)}
return _9},isc.A.slice=function isc_MultiArray_slice(_1){var n=this.shape.length,m=0,_4=[],_5=[],_6=this.offset;for(var i=0;i<n;++i){if(_1[i]!=-1){++m;_6+=_1[i]*this.stride[i]}else{_4.push(this.shape[i]);_5.push(this.stride[i])}}
if(n==m){return this}else{return isc.MultiArray.create(this.data,_4,_5,_6,this.readonly)}});isc.B._maxIndex=isc.C+6;isc.ClassFactory.defineInterface("Chart").addInterfaceMethods({valueProperty:"_value",metricFacetId:"metric",stacked:false,isStacked:function(_1){return(_1||this).stacked},chartType:"Column",threeD:true,animateValuesOnShow:true,labelValues:false,$157r:false,$157s:function(){return this.$157r&&!(this.chartType=="Scatter"||this.chartType=="Bubble")},setupChart:function(){var _1=this.$157s();var _2=this.data,_3=0;if(_2!=null&&isc.isA.List(_2)){_3=_2.getLength()}
if(_3==0){this.$157t=null;this.$157u=null;this.inlinedFacet=this.metricFacet=null;return}
var _4=this.$157t=[],_5=0;if(this.facets!=null&&!isc.isAn.Array(this.facets)){this.facets=[this.facets]}
var _6=this.inlinedFacet=this.facets.find("inlinedValues",true);if(_6)_6.id=_6.id||"inlined";this.metricFacet=null;var _7=this.facets,_8=(isc.isAn.Array(_7)?_7.length:0),_9=[],_10=[];for(var i=0;i<_8;++i){var _12=_7[i];if(isc.isAn.Array(_12.values)&&!_12.autoDerived){_9.push(i)}else{if(_12==_6){this.logWarn("The facet \""+_12.id+"\" with `inlinedValues: true` must have an array of FacetValues specified in its \"values\" property.  Proceeding without an inlined facet.");_6=this.inlinedFacet=null}
_10.push(i)}}
var _13=_9.length,_14=_10.length;var _15=isc.Array.$96c,_16=isc.Chart.$157v,_17=isc.Chart.$157w,_18=isc.Chart.$157x,_19=isc.Chart.$157y,_20=isc.Chart.$157z;for(var i=0;i<_13;++i){var k=_9[i],_12=_7[k],_22=_12.values,_23=_22.length,_24=_16;for(var j=0;j<_23;++j){for(var l=j;;){var _27=_22[l];if(_27==null||_27.id==null||(isc.isA.SpecialNumber(_27.id)&&isNaN(_27.id)))
{++l}else{if(j<l){_22.splice(j,l-j);_23-=(l-j)}
j=l;break}}
_24=this.$1570(_24,_22[j].id)}
if(_23==0){--_13;_9.splice(i,1);++_14;var l=_15(_10,k);_10.splice(-(1+l),0,k);--i;continue}
_12.$1571=_24;var _28=null,_29=null;if(_24==_17||_24==_18){_28=_12.$1572=_22.getProperty("id");_29=_12.$1573=isc.Chart.$1574(_28)}else if(_24==_19){_28=_12.$1572=new Array(_23);for(var l=0;l<_23;++l){_28[l]=_22[l].id.getTime()}
_29=_12.$1573=isc.Chart.$1574(_28)}
if(_28!=null){var _30=false;for(var l=1;l<_23;++l){var m=l;while(_28[m-1]==_28[m]){++m}
if(l<m){if(!_30){this.logWarn("Non-unique values for the facet \""+_12.id+"\" detected.  Omitting duplicated facet values.");_30=true}
var _32=_29[l],_33=_22[_32];while(l+1<m){var _34=_29[l+1],_27=_22[_34],p=0;if(_33.title==null?(_27.title!=null||_34<_32):(_27.title!=null&&_34<_32))
{_32=_34;_33=_27;p=l}else{p=l+1}
_22.splice(_29[p],1);_28.splice(p,1);_29.splice(p,1);--_23;--m;for(var n=0;n<_23;++n){if(p<_29[n]){--_29[n]}}}}}}}
for(var i=0;i<_13;++i){var k=_9[i],_12=_7[k];if(_12.$1571==_17){var _37=_12.$1572,_23=_37.length,_38=true;for(var j=0;j<_23;++j){if(+_37[j]!=_37[j]){_38=false;j=_23}}
if(_38){_12.$1571=_18}}}
for(var i=0;i<_14;++i){var _12=_7[_10[i]];_12.values=[];_12.$1571=_16;_12.$1572=[];_12.$1573=[]}
var _39="_recordIndex_"+this.getID();for(var i=0;i<_3;++i){var _40=_2.get(i),_41=(_40!=null);for(var k=0;_41&&k<_8;++k){var _12=_7[k];if(_12!=_6){var _42=_40[_12.id];if(_42==null||(isc.isA.SpecialNumber(_42)&&isNaN(_42)))
{_41=false}}}
for(var j=0;_41&&j<_13;++j){var _12=_7[_9[j]];if(_12!=_6){var _42=_40[_12.id],_24=_12.$1571;if(_24==_17||_24==_18){_41=(_15(_12.$1572,_42)>=0)}else if(_24==_19){_41=(_15(_12.$1572,_42.getTime())>=0)}else{_41=(_12.values.findIndex("id",_42,this.$114u)!=-1)}}}
if(!_41){continue}
if(_1){if(_40[_39]!=null){continue}
_40[_39]=_5}
_4[_5++]=_40;for(var j=0;j<_14;++j){var _12=_7[_10[j]];var _42=_40[_12.id],_24=_12.$1571=this.$1570(_12.$1571,_42),l=-1;if(_24==_17||_24==_18){l=_15(_12.$1572,_42)}else if(_24==_19){l=_15(_12.$1572,_42.getTime())}else{l=_12.values.findIndex("id",_42,this.$114u)}
if(l<0){var _43=_12.values.length;if(_24!=_20){l=-(1+l);_12.$1572.splice(l,0,_42);_12.$1573.splice(l,0,_43)}
_12.values.push({id:_42,title:_42,$76w:_43})}}}
for(var i=0,_44=0;i<_14;++i){var k=_10[i]-_44,_12=_7[k],_22=_12.values;if(_22.length==0){delete _12.autoDerived;delete _12.values;delete _12.$1571;delete _12.$1572;delete _12.$1573;this.logWarn("Facet '"+_12.id+"' has no values declared, and none could be derived from the data.  This facet will not be used by the chart.");_7.removeAt(k);++_44}else{if(_12.$1571==_20){delete _12.$1572;delete _12.$1573}
_12.autoDerived=true}}
this.metricFacet=this.facets.find("id",this.metricFacetId);if(_5==0){this.$157t=null;this.$157u=null;this.inlinedFacet=this.metricFacet=null;return}
if(this.metricFacet!=null){for(var i=this.metricFacet.values.length;i--;){this.$133d(this.metricFacet.values[i])}}
if(!_1){return}
var _45=_8-(_6!=null?1:0),_46=new Array(_45),_47=new Array(_45),_48=1;for(var k=0,l=0;k<_8;++k,++l){var _12=_7[k];if(_12==_6){--l}else{var _23=_12.values.length;_46[l]=_23;_48*=_23;_47[l]=1;for(var m=0;m<l;++m){_47[m]*=_23}}}
if(_5<_48){_4.setLength(_48)}
var _49=isc.Chart.$1575,_50=isc.MultiArray.create(_4,_46,_47,0,true),_51=isc.BitSet.create(),_52=false,_53=this.$1576();for(var i=0,k=-1,j=_51.nextIndex(k);i<_5;++i){if(i==j){j=_51.firstIndexOf(_52,i,_48);_52=!_52;if(_52){i=(j!=-1?j:_48)-1;continue}}
var _40=_4[i];if(_40==null){continue}
var _54=this.$1577(_40,true,_53);var l=_50.$16ag(_53),_55=_51.set(l,true);if(i==l)continue;if(_55){if(l>=i&&(j==-1||l<j)){j=l}
var _56=_4[l];_4[i]=_56;_4[l]=_40;if(_56!=null){--i}}else{var _56=_4[l];if(_56[_39]>_40[_39]){_4[l]=_40}
_4[i]=null}}
for(var i=0;i<_4.length;++i){var _40=_4[i];if(_40!=null){delete _40[_39]}}
this.$157u=_50},$1578:[new Array(0),new Array(1),new Array(2),new Array(3)],$1576:function(){var n=(this.facets.length-(this.inlinedFacet?1:0)),_2=this.$1578[n];if(_2==null){_2=this.$1578[n]=new Array(n)}
return _2},$1577:function(_1,_2,_3){var _4=isc.Array.$96c,_5=this.facets,_6=this.inlinedFacet,_7=false;for(var k=0,l=0,_10=_5.length;k<_10;++k,++l){var _11=_5[k];if(_11==_6){--l}else{var _12=_1[_11.id],_13=_11.$1571,m=-1;if(_12!=null){if(_13==isc.Chart.$157w){if(_2||isc.isA.String(_12)){m=_4(_11.$1572,_12);if(m>=0){m=_11.$1573[m]}}}else if(_13==isc.Chart.$157x){if(_2||isc.isA.Number(_12)||(isc.isA.SpecialNumber(_12)&&!isNaN(_12))||(isc.isA.String(_12)&&+_12==_12))
{m=_4(_11.$1572,_12);if(m>=0){m=_11.$1573[m]}}}else if(_13==isc.Chart.$157y){if(_2||isc.isA.Date(_12)){m=_4(_11.$1572,_12.getTime());if(m>=0){m=_11.$1573[m]}}}else if(_13==isc.Chart.$157z){m=_11.values.findIndex("id",_12,this.$114u)}
if(m<0){m=-1}}
_3[l]=m;_7=(_7||m==-1)}}
return _7},$1570:function(_1,_2){var _3=false;if(_1==isc.Chart.$157v){_3=(_2!=null)}else if(_1==isc.Chart.$157w){_3=!(_2==null||isc.isA.String(_2))}else if(_1==isc.Chart.$157x){_3=!(_2==null||isc.isA.Number(_2)||isc.isA.SpecialNumber(_2))}else if(_1==isc.Chart.$157y){_3=!(_2==null||isc.isA.Date(_2))}
if(_3){if(_1==isc.Chart.$157v){if(isc.isA.String(_2)){return isc.Chart.$157w}else if(isc.isA.Number(_2)||isc.isA.SpecialNumber(_2)){return isc.Chart.$157x}else if(isc.isA.Date(_2)){return isc.Chart.$157y}}
return isc.Chart.$157z}else{return _1}},getFacetData:function(){if(this.$157t!=null){return this.$157t}else{this.setupChart();return(this.$157t!=null?this.$157t:this.data)}},$114u:Array.DATETIME_VALUES,$133d:function(_1){var _2=this.metricFacetId,_3={};_3[_2]=_1.id;var _4=this.getValue(_3,true,true),_5=true,_6=!!_4;for(var i=_6&&_4.length;_6&&i--;){var _8=_4[i],_9=(_8==null);_5=_5&&_9;_6=(_9||isc.isA.Date(_8))}
_6=_6&&!_5;_1.$133e=(_6?"date":"number")},$133f:function(_1){var _2=this.chartType=="Scatter"||this.chartType=="Bubble",_3=_2&&this.metricFacet,_4=_3&&this.getFacetValue(_3.id,_1);return(_4&&_4.$133e=="date")},getFacet:function(_1){return this.facets.find("id",_1)},getFacetValue:function(_1,_2){var _3=this.getFacet(_1),_4;if(_3){var _5=_3.$1571;if(_5==isc.Chart.$157w){if(isc.isA.String(_2)){var j=isc.Array.$96c(_3.$1572,_2);if(j>=0){return _3.values[_3.$1573[j]]}}}else if(_5==isc.Chart.$157x){if(isc.isA.Number(_2)||(isc.isA.SpecialNumber(_2)&&!isNaN(_2)))
{var j=isc.Array.$96c(_3.$1572,_2);if(j>=0){return _3.values[_3.$1573[j]]}}}else if(_5==isc.Chart.$157y){if(isc.isA.Date(_2)){var j=isc.Array.$96c(_3.$1572,_2.getTime());if(j>=0){return _3.values[_3.$1573[j]]}}}else{return _3.values.find("id",_2,this.$114u)}}
return _4},isMultiFacet:function(){var _1=(this.facets&&this.facets.length)||0;return(_1>(this.metricFacet!=null?2:1))},getValue:function(_1,_2,_3){var _4=this.getFacetData();if(_4==null)return null;_1=_1||{};if(_2==null)_2=this.multiCellData;var _5=this.getDataRecord(_1,_2);if(!_5)return null;return this.getValueFromRecord(_5,_1,_2,_3)},getValueFromRecord:function(_1,_2,_3,_4){if(_1==null)return null;if(!this.metricFacet){if(!this.inlinedFacet||(_2&&_2[this.inlinedFacet.id]!=null)){var _5=this.inlinedFacet?_2[this.inlinedFacet.id]:this.valueProperty;if(_3){var _6=_1.getProperty(_5);return(_4?_6:isc.Chart.$1579(_6))}else{var _7=_1[_5];return(_4?_7:parseFloat(_7))}}
var _8=isc.isAn.Array(_1)?_1:[_1],_6=[],_9=this.inlinedFacet.values,_10=_9.length;for(var i=0,_12=_8.length;i<_12;++i){var _13=_8[i];for(var j=0;j<_10;++j){var _7=_13[_9[j].id];_6.add(_4?_7:parseFloat(_7))}}
if(!_3&&_6.length<2)return _6[0];else return _6}else{if(!this.inlinedFacet||this.metricFacetId!=this.inlinedFacet.id){this.logWarn("the metric facet must be an inlined facet");return null}
var _15=_2[this.metricFacet.id];if(!_15)_15=this.getDefaultMetric();if(_3){var _6=_1.getProperty(_15);return(_4?_6:isc.Chart.$1579(_6))}else{var _7=_1[_15];return(_4?_7:parseFloat(_7))}}},getDataRecord:function(_1,_2){var _3=this.getFacetData();if(!isc.isAn.Array(_3))return _3;if(_2==null)_2=this.multiCellData;var _4=this.$157u;if(!this.inlinedFacet){if(_1!=null&&_4!=null&&this.$157s()){var _5=this.$1576();this.$1577(_1,false,_5);if(_2){return _4.slice(_5).toArray(true)}else{return _4.get(_5)}}else{return(_2?_3.findAll(_1,null,this.$114u):_3.find(_1,null,this.$114u))}}
var _6=isc.addProperties({},_1);delete _6[this.inlinedFacet.id];if(isc.isAn.emptyObject(_6)){return(_2?_3.duplicate():_3[0])}else{if(_4!=null&&this.$157s()){var _5=this.$1576();this.$1577(_6,false,_5);if(_2){return _4.slice(_5).toArray(true)}else{return _4.get(_5)}}else{return(_2?_3.findAll(_6,null,this.$114u):_3.find(_6,null,this.$114u))}}},getDataSeries:function(_1,_2){var _3=isc.isAn.Object(_1)?_1:this.facets.find("id",_1);if(_2==null){_2={}}else if(!isc.isAn.Object(_2)){var _4=_2;var _5=(_3==this.facets[0]?this.facets[1]:this.facets[0]);_2={};_2[_5.id]=_4}else{_2=isc.addProperties({},_2)}
var _6=false;if(this.metricFacet!=null){var _7=_2[this.metricFacet.id];if(!_7)_7=this.getDefaultMetric();_2[this.metricFacet.id]=_7;_6=!this.$133f(_7)}
var _8=[];for(var i=0;i<_3.values.length;i++){var _10=_3.values[i];_2[_3.id]=_10.id;var _11=this.getDataRecord(_2),_12=this.getValueFromRecord(_11,_2,false,_6);_8.add({facetValueId:_10.id,title:(_10.title||_10.id),value:_12,record:_11})}
return _8},getDefaultMetric:function(){return this.metricFacet?this.metricFacet.values.first().id:this.valueProperty},getMinValue:function(_1,_2,_3,_4,_5,_6,_7,_8){return this.getMaxValue(_1,_2,_3,_4,_5,_6,_7,_8,false)},getMaxValue:function(_1,_2,_3,_4,_5,_6,_7,_8,_9){_3=_3||this;if(_7==null)_7=0;if(_9==null)_9=true;if(!_1)_1=this.getDefaultMetric();var _10;if(_9){_10=_3.cachedMaxValues=_3.cachedMaxValues||{}}else{_10=_3.cachedMinValues=_3.cachedMinValues||{}}
var _11=isc.SB.concat(_1,"_",(_4?"true":"false"),"_",(_5?"true":"false"),"_",(_6?"true":"false"));if(!_2&&_10[_11]!=null){return _10[_11]}
var _12=(_3!=this);var _13=this.$133f(_1);_6=_6&&!_13;var _14=null;if(this.isMultiFacet()&&this.chartType!="Scatter"&&this.chartType!="Bubble"&&(!_12||_3.isMultiFacet()))
{var _15=this.facets[1],_16=this.facets[0],_17={};if(this.metricFacet)_17[this.metricFacet.id]=_1;if(_8==null)_8=_16.values.length;for(var i=_7;i<_8;i++){_17[_16.id]=_16.values[i].id;var _19=this.getDataSeries(_15,_17),_20=_19.getProperty("value"),_21=null;if(_4){if(_5){var _22=0;for(var j=0,_24=_20.length;j<_24;++j){var _25=_20[j];if(isc.isA.Number(_25)){_22+=_25;if(!_6||_22>0){if(_21==null){_21=_22}else{_21=(_9?Math.max(_21,_22):Math.min(_21,_22))}}}}
if(_21==null&&!_6){_21=0}}else{_21=_20.sum();if(_6&&_21<=0){_21=null}}}else if(!_6){_21=(_9?_20.max():_20.min())}else{for(var j=_20.length;j--;){var _25=_20[j];if(isc.isA.Number(_25)&&_25>0){if(_21==null){_21=_25}else{_21=(_9?Math.max(_21,_25):Math.min(_21,_25))}}}}
if(_21!=null){if(_14==null){_14=_21}else{_14=(_9?Math.max(_14,_21):Math.min(_14,_21))}}}}else{var _26=null;if(this.chartType!="Scatter"&&this.chartType!="Bubble"&&_12&&this.isMultiFacet())
{_26={};_26[this.facets[1].id]=_3.$1029.id}
if(this.metricFacet){_26=_26||{};_26[this.metricFacet.id]=_1}
var _20=this.getValue(_26,true,_13);if(_20!=null){if(_8==null)_8=_20.length;if(!_6){if(_13){for(var j=_7;j<_8;j++){var _25=_20[j];if(isc.isA.Date(_25)){if(_14==null){_14=_25}else if(_9){_14=isc.DateUtil.$133a(_14,_25)}else{_14=isc.DateUtil.$1329(_14,_25)}}}}else{_14=(_9?_20.max(_7,_8):_20.min(_7,_8))}}else{for(var j=_7;j<_8;j++){var _25=_20[j];if(isc.isA.Number(_25)&&_25>0){if(_14==null){_14=_25}else{_14=(_9?Math.max(_14,_25):Math.min(_14,_25))}}}}}}
return(_10[_11]=_14)},setData:function(){}});isc.A=isc.Chart;isc.A.allChartTypes=[];isc.A=isc.Chart;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.$157v=0;isc.A.$157w=1;isc.A.$157x=2;isc.A.$157y=3;isc.A.$157z=4;isc.B.push(isc.A.$1574=function isc_c_Chart__createSortIndex(_1){var _2=_1.length,_3=new Array(_2);for(var i=0;i<_2;++i){_3[i]=i}
if(_2>1){isc.Chart.$158a(_1,_3,0,_2-1)}
return _3},isc.A.$158b=function isc_c_Chart__partition(_1,_2,_3,_4){var k=Math.floor((_3+_4)/2);if(_1[_3]<_1[_4]){if(_1[k]<_1[_3]){k=_3}else if(_1[_4]<_1[k]){k=_4}}else{if(_1[k]<_1[_4]){k=_4}else if(_1[_3]<_1[k]){k=_3}}
var _6=_1[k],_7=_6,_8=_2[k];_1[k]=_1[_4];_2[k]=_2[_4];_1[_4]=_7;_2[_4]=_8;k=_3;for(var l=_3;l<_4;++l){if(_1[l]<_6){_7=_1[l];_8=_2[l];_1[l]=_1[k];_2[l]=_2[k];_1[k]=_7;_2[k]=_8;++k}}
_7=_1[k];_8=_2[k];_1[k]=_1[_4];_2[k]=_2[_4];_1[_4]=_7;_2[_4]=_8;return k},isc.A.$158a=function isc_c_Chart__quicksort(_1,_2,_3,_4){var n=_4-_3+1;if(n==2){if(_1[_3]>_1[_4]){var _6=_1[_3],_7=_2[_3];_1[_3]=_1[_4];_2[_3]=_2[_4];_1[_4]=_6;_2[_4]=_7}}else if(n==3){var k=_3+1;if(_1[_3]>_1[_4]){var _6=_1[_3],_7=_2[_3];_1[_3]=_1[_4];_2[_3]=_2[_4];_1[_4]=_6;_2[_4]=_7}
if(_1[_3]>_1[k]){var _6=_1[_3],_7=_2[_3];_1[_3]=_1[k];_2[_3]=_2[k];_1[k]=_6;_2[k]=_7}
if(_1[k]>_1[_4]){var _6=_1[k],_7=_2[k];_1[k]=_1[_4];_2[k]=_2[_4];_1[_4]=_6;_2[_4]=_7}}else{var k=isc.Chart.$158b(_1,_2,_3,_4);if(_3<k-1){isc.Chart.$158a(_1,_2,_3,k-1)}
if(k+1<_4){isc.Chart.$158a(_1,_2,k+1,_4)}}},isc.A.$1579=function isc_c_Chart__parseFloats(_1){for(var i=0,_3=_1.length;i<_3;++i){_1[i]=parseFloat(_1[i])}
return _1},isc.A.$102g=function isc_c_Chart__mean(_1){return _1.sum()/_1.length},isc.A.$102h=function isc_c_Chart__variance(_1,_2,_3){var n=_1.length,_5=_3!=null?_3:isc.Chart.$102g(_1),_6=0;for(var i=n;i--;){var t=_1[i];_6+=t*t}
return(_6-n*_5*_5)/(_2?n:(n-1))},isc.A.$102i=function isc_c_Chart__standardDeviation(_1,_2,_3){return Math.sqrt(_1.$102h(_2,_3))},isc.A.$102j=function isc_c_Chart__range(_1){var n=_1.length;if(n==0){return null}else{var _3=_1[n-1],_4=_1[n-1];for(var i=n-1;i--;){var t=_1[i];_3=Math.min(t,_3);_4=Math.max(t,_4)}
return _4-_3}});isc.B._maxIndex=isc.C+8;if(isc.Flashlet){isc.ClassFactory.defineClass("FusionChart","Flashlet","Chart");isc.A=isc.FusionChart;isc.A.allChartTypes=["Area","Bar","Column","Pie","Doughnut","Line","Radar"];isc.A.singleSeriesChartTypes=["Area","Bar","Column","Pie","Doughnut","Line"];isc.A.singleOnlyChartTypes=["Doughnut","Pie"];isc.A.multiSeriesChartTypes=["Area","Bar","Column","Line","Radar"];isc.A.multiOnlyChartTypes=["Radar"];isc.A.stackedChartTypes=["Area","Bar","Column"];isc.A.threeDChartTypes=["Column","Bar","Pie"];isc.A.needsDimension=["Column","Bar","Pie","Doughnut","Area"];isc.A=isc.FusionChart.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.overflow="hidden";isc.A.redrawOnResize=true;isc.A.chartsBaseURL=isc.Page.getIsomorphicDir()+"../FusionCharts/Charts/";isc.A.fusionVersion="3.0";isc.A.dataColors=["CCCCFF","CCCC99","FFCCCC","FFFF99","CCFF99","FFCC99","FF0000","00FF00","0000FF","FF00FF","FFFF00","00FFFF","000000"];isc.A.codeBase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0";isc.A.pluginsPage="http://www.macromedia.com/go/getflashplayer";isc.A.params={};isc.B.push(isc.A.getDataColor=function isc_FusionChart_getDataColor(_1){return this.dataColors[_1]||"FFFFFF"},isc.A.initWidget=function isc_FusionChart_initWidget(){this.Super("initWidget",arguments);this.setChartProperties();this.$43w();this.setData()},isc.A.setSrc=function isc_FusionChart_setSrc(){if(this.chartURL){this.src=this.chartURL;return}
var _1=this.stacked&&isc.FusionChart.stackedChartTypes.contains(this.chartType);var _2,_3,_4=isc.FusionChart.needsDimension.contains(this.chartType);if(this.fusionVersion=="2.3"){_3="FC_2_3_";_2="Stckd";if(this.chartType=="Area"&&this.$43x){_2="Stkcd";_4=!_1}}else{_3="";_2="Stacked";if(this.chartType=="Area"&&this.$43x&&!_1){_4=false}}
var _5=isc.SB.create();_5.append(this.chartsBaseURL,_3,isc.FusionChart.multiOnlyChartTypes.contains(this.chartType)||(!this.$43x&&isc.FusionChart.singleSeriesChartTypes.contains(this.chartType))?"":_1?_2:"MS",this.chartType);if(_4){_5.append(this.threeD&&isc.FusionChart.threeDChartTypes.contains(this.chartType)&&!(this.fusionVersion=="2.3"&&this.chartType=="Bar")?"3D":"2D")}
_5.append(".swf")
this.src=_5.release(false);this.logInfo("src set to: "+this.src)},isc.A.getInnerHTML=function isc_FusionChart_getInnerHTML(){this.setSrc();var _1=isc.SB.concat('&chartWidth=',this.getInnerWidth(),'&chartHeight=',this.getInnerHeight(),'&dataXML=',encodeURIComponent(this.getChartXML()));this.params.FlashVars=_1;return this.Super("getInnerHTML",arguments)},isc.A.getChartXML=function isc_FusionChart_getChartXML(){var _1=isc.SB.concat('<graph ',this.$263,'>',this.$264,this.$265,'</graph>');if(this.logIsDebugEnabled()){this.logWarn("chartXML: "+_1)}
return _1},isc.A.setChartProperties=function isc_FusionChart_setChartProperties(_1){if(!_1)_1=this.chartProperties;else this.chartProperties=_1;_1=isc.addProperties({caption:this.title,subCaption:this.subTitle,yAxisName:this.valueTitle,xAxisName:this.facets[0].title,animation:this.animateValuesOnShow,showValues:this.labelValues},this.chartProperties);var _2=isc.SB.create();for(var _3 in _1){if(_1[_3]===true){_2.append(_3,'="1" ')}else if(_1[_3]===false){_2.append(_3,'="0" ')}else if(_3.endsWith("olor")&&_1[_3].startsWith("#")){_2.append(_3,'="',_1[_3].substring(1),'" ')}else{_2.append(_3,'="',_1[_3],'" ')}}
this.$263=_2.release(false);if(this.isDrawn())this.markForRedraw()},isc.A.$43w=function isc_FusionChart__generateCategoriesXML(_1){if(!_1)_1=this.facets[0].values;var _2=isc.SB.create();_2.append('<categories>');for(var i=0;i<_1.length;i++){if(_1[i].vLine){this.$768(_1[i],_2);continue}
_2.append('<category name="',isc.makeXMLSafeAttribute(_1[i].title||_1[i].id),'"');if(_1[i].longTitle){_2.append(' hoverText="',isc.makeXMLSafeAttribute(_1[i].longTitle),'"')}
if(_1[i].showTitle===false)_2.append(' showName="0"');_2.append('/>')}
_2.append('</categories>');this.$264=_2.release(false);if(this.isDrawn())this.markForRedraw()},isc.A.$768=function isc_FusionChart__writeVLineXML(_1,_2){_2.append('<vLine');for(var _3 in _1){if(_3=="vLine")continue;_2.append(' ',_3,'="',isc.makeXMLSafeAttribute(_1[_3]),'"')}
_2.append('/>')},isc.A.setFacets=function isc_FusionChart_setFacets(_1){this.facets=_1;if(this.data&&this.data.length>0){this.setupChart()}
this.$43w()},isc.A.setData=function isc_FusionChart_setData(_1,_2){var _1=this.data=_1||this.data;if(_1==null||(isc.isAn.Array(_1)&&_1.length==0)){return this.$265=""}
if(_1&&_1.length>0){this.setupChart()}
var _3=isc.SB.create();var _4=this.facets.first(),_5=_4.values,_6={};this.$43x=this.isMultiFacet();if(this.isMultiFacet()&&isc.FusionChart.singleOnlyChartTypes.contains(this.chartType))
{this.logWarn("'"+this.chartType+"' charts support one facet only; showing only first value for second facet");this.$43x=false;_6[this.facets[1].id]=this.facets[1].values[0].id}
if(this.$43x){var _7=this.facets[1],_8=_7.values;var _9='<set value="',_10='"',_11='/>';for(var i=0;i<_8.length;i++){_3.append('<dataset seriesname="',isc.makeXMLSafeAttribute(_8[i].title),'" color="',this.getDataColor(i),'">');for(var j=0;j<_5.length;j++){if(_5[j].vLine)continue;_6[_7.id]=_8[i].id||_8[i].name;_6[_4.id]=_5[j].id||_5[j].name;var _14=this.getValue(_6);_3.append(_9,_14,_10);var _15=this.getLink(_6,_14);if(_15)_3.append(' link="'+_15+'"');_3.append(_11)}
_3.append("</dataset>")}}else{for(var i=0;i<_5.length;i++){if(_5[i].vLine){this.$768(_5[j],_3);continue}
_6[_4.id]=_5[i].id||_5[i].name;var _14=this.getValue(_6);_3.append('<set value="',_14,'"');var _15=this.getLink(_6,_14);if(_15){_3.append(' link="'+_15+'"')}
_3.append(' name="',isc.makeXMLSafeAttribute(_5[i].title||_5[i].id),'"');_3.append(' color="',this.getDataColor(i),'"');if(_5[i].longTitle){_3.append(' hoverText="',isc.makeXMLSafeAttribute(_5[i].longTitle),'"')}
if(_5[i].showTitle===false)_3.append(' showName="0"');_3.append('/>')}}
this.$265=_3.release(false);if(this.isDrawn())this.markForRedraw()},isc.A.getLink=function isc_FusionChart_getLink(_1,_2){},isc.A.setChartType=function isc_FusionChart_setChartType(_1){if(!isc.FusionChart.allChartTypes.contains(_1)){this.logWarn("'"+_1+"' is not a recognized chart type")}else{_1=this.chartType=_1||this.chartType;this.setData();if(this.isDrawn())this.markForRedraw()}},isc.A.setFusionVersion=function isc_FusionChart_setFusionVersion(_1){this.fusionVersion=_1;this.setSrc();if(this.isDrawn())this.markForRedraw()},isc.A.setStacked=function isc_FusionChart_setStacked(_1){this.stacked=_1;if(_1&&!isc.FusionChart.stackedChartTypes.contains(this.chartType)){this.logWarn("'"+this.chartType+"' charts do not support stacking")}else{if(this.isDrawn())this.markForRedraw()}},isc.A.setThreeD=function isc_FusionChart_setThreeD(_1){if(_1&&!isc.FusionChart.threeDChartTypes.contains(this.chartType)){this.logWarn("'"+this.chartType+"' charts do not support 3D effects")}else{this.threeD=_1;if(this.isDrawn())this.markForRedraw()}});isc.B._maxIndex=isc.C+15}
if(isc.DrawPane){isc.ClassFactory.defineClass("$983","DrawSector");isc.A=isc.$983.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.$150e=true;isc.B.push(isc.A.destroy=function isc__PieSeriesSector_destroy(){var _1=this.fillGradient;if(isc.isA.String(_1)){if(this.drawPane&&this.drawPane.gradients){_1=this.drawPane.getGradient(_1);if(_1.$984)this.drawPane.removeGradient(_1)}}
if(isc.isAn.Object(_1)&&_1.$984){var _2=_1.$982;if(_2!=null){if(_2.parentNode)_2.parentNode.removeChild(_2);delete _1.$982}}
this.Super("destroy",arguments)});isc.B._maxIndex=isc.C+1;isc.ClassFactory.defineClass("FacetChart","DrawPane","Chart");isc.addGlobal("BarChart",isc.FacetChart);isc.A=isc.FacetChart.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.defaultHeight=300;isc.A.defaultWidth=400;isc.A.overflow="hidden";isc.A.xGutter=30;isc.A.yGutter=80;isc.A.padding=5;isc.A.$157r=true;isc.A.styleName="scChart";isc.A.chartType="Column";isc.A.stacked=null;isc.A.connected=true;isc.A.proportionalAxisLabel="Percent";isc.A.title="Chart";isc.A.showTitle=true;isc.A.titleProperties={fontSize:14};isc.A.valueAxisLabelProperties={fontSize:11};isc.A.dataAxisLabelProperties={fontSize:11};isc.A.axisLabelMargin=5;isc.A.pixelsPerGradation=28;isc.A.minDataSpreadPercent=30;isc.A.minXDataSpreadPercent=30;isc.A.gradationLabelProperties={fontFamily:"Tahoma",fontSize:10,fontWeight:"normal",fontStyle:"normal",lineColor:"#444444"};isc.A.gradationLineProperties={excludeFromQuadTree:true,lineWidth:1,lineColor:"#BBBBBB"};isc.A.gradationZeroLineProperties={lineWidth:2,lineColor:"#999999"};isc.A.bandedBackground=true;isc.A.backgroundBandProperties={excludeFromQuadTree:true,lineOpacity:0,fillColor:"#F7F7F7"};isc.A.showRadarGradationLabels=true;isc.A.radarGradationLabelOffset=2;isc.A.expectedValueLineProperties={lineWidth:1,lineColor:"#333333"};isc.A.standardDeviationLineProperties={lineWidth:2,lineColor:"#999999"};isc.A.useSymmetricStandardDeviations=true;isc.A.standardDeviations=[-1,1];isc.A.standardDeviationBandProperties=[];isc.A.regressionLineProperties={lineWidth:1,lineColor:"#0000EE"};isc.A.regressionLineType="line";isc.A.regressionPolynomialDegree=3;isc.A.dataPointSize=5;isc.A.dataPointDefaults={cursor:"crosshair",click:function(){if(this.dataRecord!=null){var _1=this.$104q,_2=_1;if(!isc.isA.FacetChart(_2)){_2=_1.$103y}
_2.$120g();if(_1.pointClick){return _1.pointClick(this.dataValue,this.dataRecord,this.metricId,this)}}else{return this.Super("click",arguments)}},hover:function(){if(this.dataRecord!=null){var _1=this.$104q;if(_1.pointHover){return _1.pointHover(this.dataValue,this.dataRecord,this)}}else{return this.Super("hover",arguments)}},getHoverHTML:function(){if(this.dataRecord!=null){var _1=this.$104q;if(_1.getPointHoverHTML){return _1.getPointHoverHTML(this.dataValue,this.dataRecord,this.metricId,this)}
return null}else{return this.Super("getHoverHTML",arguments)}}};isc.A.dataPointProperties={fillColor:"#FFFFFF",lineWidth:1};isc.A.pointShapes=["Oval","Square","Diamond","Triangle"];isc.A.minDataPointSize=3;isc.A.maxDataPointSize=14;isc.A.pointSizeLogBase=10;isc.A.bubbleProperties={lineOpacity:0,fillGradient:{direction:15}};isc.A.allowBubbleGradients=!(isc.Browser.isIE&&isc.Browser.version<=8);isc.A.pointSizeGradations=5;isc.A.pointSizeLogGradations=[1,5];isc.A.autoSortBubblePoints=true;isc.A.pointColorLogBase=10;isc.A.logScale=false;isc.A.useLogGradations=false;isc.A.logBase=10;isc.A.logGradations=[1,2,4,6,8];isc.A.showChartRect=false;isc.A.chartRectProperties={rounding:0.02,lineWidth:1,lineColor:"#111111",backgroundColor:"#CCCCCC",fillGradient:{x1:'0%',y1:'100%',x2:'100%',y2:'0%',colorStops:[{color:"#FFFFFF",offset:0.0},{color:"#FFFFFF",offset:0.5},{color:"#CCCCCC",offset:0.9},{color:"#C2c2c2",offset:1.0}]},shadow:{blur:8,color:"#555555",offset:[2,2]}};isc.A.padChartRectByCornerRadius=true;isc.A.chartRectMargin=5;isc.A.dataMargin=10;isc.A.rotateLabels="auto";isc.A.dataLabelProperties={fontFamily:"Tahoma",fontSize:10,fontWeight:"normal",fontStyle:"normal",lineColor:"#444444"};isc.A.showDataLabels=true;isc.A.decimalPrecision=2;isc.A.zoomChartDefaults={canZoom:false,padding:0,showTitle:false,showValueAxisLabel:false,showDataAxisLabel:false,axisLabelMargin:0,showDataPoints:false,showChartRect:false,chartRectMargin:0,dataMargin:0,rotateLabels:"never",showLegend:false,legendMargin:0,legendPadding:0,showPointSizeLegend:false,pointSizeLegendMargin:0,pointSizeLegendPadding:0,$1057:false,bandedBackground:false,pixelsPerGradation:40,useAutoGradients:false};isc.A.$1057=true;isc.A.zoomSelectionChartDefaults={canZoom:false,padding:0,showTitle:false,showValueAxisLabel:false,showDataAxisLabel:false,axisLabelMargin:0,showDataPoints:false,showChartRect:false,chartRectMargin:0,dataMargin:0,rotateLabels:"never",showLegend:false,legendMargin:0,legendPadding:0,showPointSizeLegend:false,pointSizeLegendMargin:0,pointSizeLegendPadding:0,$1057:false,bandedBackground:false,pixelsPerGradation:40,useAutoGradients:false};isc.A.zoomShowSelection=true;isc.A.zoomChartSliderDefaults={};isc.A.zoomChartHeight=100;isc.A.colorMutePercent=0;isc.A.zoomMutePercent=-35;isc.A.printZoomChart=true;isc.A.showInlineLabels=false;isc.A.showGradationsOverData=false;isc.A.legendMargin=10;isc.A.legendPadding=5;isc.A.legendSwatchSize=16;isc.A.legendSwatchProperties={lineWidth:1,lineColor:"#000000"};isc.A.legendTextPadding=5;isc.A.legendItemPadding=5;isc.A.legendRowPadding=5;isc.A.showLegendRect=false;isc.A.legendRectProperties={lineWidth:1,lineColor:"#333333"};isc.A.legendLabelProperties={fontFamily:"Arial",fontSize:10,fontWeight:"normal",fontStyle:"normal",lineColor:"#333333"};isc.A.showShadows=true;isc.A.shadowProperties={fillColor:"#333333",lineWidth:1.1};isc.A.barMargin=4;isc.A.minBarThickness=4;isc.A.maxBarThickness=150;isc.A.clusterMarginRatio=4;isc.A.barProperties={fillColor:"#FFCCCC",lineWidth:1,opacity:0.5,lineColor:"#333333"};isc.A.dataLineProperties={lineWidth:3,lineColor:"#333333",shadow:{blur:5,color:"#333333",offset:[2,3]}};isc.A.dataOutlineProperties={lineWidth:1,lineColor:"#333333"};isc.A.dataShapeProperties={lineWidth:0,lineOpacity:0,lineColor:"#333333",fillOpacity:0.5};isc.A.valueLineProperties={lineWidth:1,lineColor:"#BBBBBB"};isc.A.singlePointMarkerSize=4;isc.A.radarBackgroundProperties={lineWidth:1};isc.A.radialLabelOffset=5;isc.A.pieStartAngle=0;isc.A.pieSliceProperties={lineOpacity:0,lineWidth:0.1};isc.A.pieBorderProperties={lineColor:"#333333",lineWidth:1};isc.A.pieRingBorderProperties={lineColor:"#333333",lineWidth:1};isc.A.showDoughnut=null;isc.A.doughnutRatio=0.2;isc.A.doughnutHoleProperties={lineWidth:0,fillColor:"white"};isc.A.pieLabelLineProperties={lineColor:"#111111",lineWidth:2};isc.A.pieLabelAngleStart=20;isc.A.pieLabelLineExtent=7;isc.A.errorBarWidth=6;isc.A.errorLineProperties={lineWidth:1};isc.A.errorBarColorMutePercent=-60;isc.A.canDrag=false;isc.A.cursor="auto";isc.A.hoverLabelProperties={fontFamily:"Arial",fontSize:12,fontWeight:"bold",fontStyle:"normal",lineColor:"#333333"};isc.A.hoverLabelPadding=4;isc.A.hoverRectProperties={rounding:0.3,lineWidth:1,lineColor:"#333333",fillColor:"#f0f0f0",shadow:{blur:8,color:"#555555",offset:[2,2]}};isc.A.hoverLabelOffset=25;isc.A.brightenPercent=30;isc.A.showDataValues=false;isc.A.bubbleHoverMaxDistance=50;isc.A.valueAxisMargin=10;isc.A.gradationTickMarkLength=5;isc.A.tickMarkToValueAxisMargin=7;isc.A.extraAxisMetrics=[];isc.A.extraAxisSettings=[];isc.B.push(isc.A.isStacked=function isc_FacetChart_isStacked(_1){_1=_1||this;return _1.stacked!=null?_1.stacked:_1.chartType!="Line"},isc.A.isFilled=function isc_FacetChart_isFilled(_1){_1=_1||this;return _1.filled!=null?_1.filled:(_1.isMultiFacet()&&this.isStacked(_1))||_1.chartType=="Area"},isc.A.$159w=function isc_FacetChart__supportsProportionalMode(_1){var _2=_1.chartType;var _3=(_1.isMultiFacet()&&this.isStacked(_1)&&(_2=="Column"||_2=="Bar"||((_2=="Area"||_2=="Line"||_2=="Radar")&&(_1.filled==null||_1.filled)))&&!_1.logScale&&!this.$133f(this.getDefaultMetric()));if(_1.$124a!=null){var _4=_1.$124a;for(var i=_4.length;_3&&i--;){var c=_4[i];_3=(c.isMultiFacet()&&this.isStacked(c)&&(c.chartType=="Column"||c.chartType=="Bar"||((c.chartType=="Area"||c.chartType=="Line"||c.chartType=="Radar")&&(c.filled==null||c.filled))))}}
return _3},isc.A.setProportional=function isc_FacetChart_setProportional(_1,_2){_2=_2||this;var _3=this.$159w(_2),_4=_2.proportional&&_3,_5=_1&&_3;_2.proportional=_1;if(_2.$124a!=null){var _6=_2.$124a;for(var i=_6.length;i--;){_6[i].proportional=_1}}
if(_4!=_5){this.setData(this.data)}},isc.A.$140g=function isc_FacetChart__getProportionalAxisLabel(_1){var _2=this.getLegendFacet(),_3=_2.proportionalTitle;return(_3!=null?_3:this.proportionalAxisLabel)},isc.A.$127s=function isc_FacetChart__getMinDataSpreadPercent(_1,_2){var _3=(_1?"minDataSpreadPercent":"minXDataSpreadPercent");return(_2[_3]!=null?_2[_3]:this[_3])},isc.A.setShowScatterLines=function isc_FacetChart_setShowScatterLines(_1,_2){_2=_2||this;if(_2.chartType!="Scatter"&&_2.chartType!="Bubble"){this.logWarn("showScatterLines property works only for charts of type Scatter")}else{_2.showScatterLines=_1;if(this.data)this.$105a(false)}},isc.A.setDataLineType=function isc_FacetChart_setDataLineType(_1,_2){_2=_2||this;if(_2.chartType!="Scatter"&&_2.chartType!="Bubble"&&_2.chartType!="Line")
{this.logWarn("dataLineType property works only for charts of type Scatter and Line")}else{_2.dataLineType=_1;if(this.data)this.$105a(false)}},isc.A.$1095=function isc_FacetChart__getDataLineType(_1){_1=_1||this;var _2=_1.chartType;if(_1.dataLineType=="smooth"&&!(_2=="Area"||_2=="Radar")){return"smooth"}else{return"straight"}},isc.A.$135z=function isc_FacetChart__getShowDataPoints(_1){if(!(_1.chartType=="Line"||_1.chartType=="Area"||_1.chartType=="Radar"||_1.chartType=="Scatter"||_1.chartType=="Bubble"))
{return false}else if(this.$159w(_1)&&_1.proportional){return false}else if(_1.showDataPoints!=null){return _1.showDataPoints}else{return(this.pointSizeMetric!=null||_1.chartType=="Bubble")}},isc.A.$1351=function isc_FacetChart__getLogScalePointSize(){return(this.logScalePointSize||(this.logScalePointSize==null&&this.logScale))},isc.A.$1352=function isc_FacetChart__getUseMultiplePointShapes(){var _1=this.useMultiplePointShapes;return(_1!=null?_1:!(this.chartType=="Bubble"||this.$159s()!=null))},isc.A.setUseMultiplePointShapes=function isc_FacetChart_setUseMultiplePointShapes(_1){var _2=this.$1352();this.useMultiplePointShapes=_1;var _3=this.$1352();if(_2!=_3){this.setData(this.data)}},isc.A.$136l=function isc_FacetChart__getShowPointSizeLegend(){var _1=this.showPointSizeLegend;return(_1==null?(this.chartType=="Bubble"):_1)},isc.A.$138q=function isc_FacetChart__getLogScalePointColor(){return(this.logScalePointColor||(this.logScalePointColor==null&&this.logScale))},isc.A.$138r=function isc_FacetChart__getShowColorScaleLegend(){var _1=this.showColorScaleLegend;return(_1==null?(this.$159s()!=null):_1)},isc.A.setScaleStartColor=function isc_FacetChart_setScaleStartColor(_1){var _2=this.$138s().startColor;this.scaleStartColor=_1;delete this.$138t;var _3=this.$138s().startColor;if(_2!=_3){this.setData(this.data)}},isc.A.setScaleEndColor=function isc_FacetChart_setScaleEndColor(_1){var _2=this.$138s().endColor;this.scaleEndColor=_1;delete this.$138t;var _3=this.$138s().endColor;if(_2!=_3){this.setData(this.data)}},isc.A.$138s=function isc_FacetChart__getColorScaleGradient(){if(this.$138t!=null){return this.$138t}
var _1=this.scaleStartColor,_2=this.scaleEndColor;if(!(isc.isA.color(_1)&&_1.startsWith("#"))){_1=null}
if(!(isc.isA.color(_2)&&_2.startsWith("#"))){_2=null}
var _3={x1:"0%",x2:"100%",y1:0,y2:0};if(_1==null&&_2==null){_3.colorStops=[{color:"#eb00f9",opacity:1,offset:0.0},{color:"#0307ff",opacity:1,offset:0.2},{color:"#01fefb",opacity:1,offset:0.4},{color:"#00ff00",opacity:1,offset:0.6},{color:"#f7fd00",opacity:1,offset:0.8},{color:"#fd0d00",opacity:1,offset:1.0}]}else{if(_1==null){var l=isc.DrawPane.$138p(_2);_1=(l<0.5?"#ffffff":"#000000")}else if(_2==null){var l=isc.DrawPane.$138p(_1);_2=(l<0.5?"#ffffff":"#000000")}
_3.startColor=_1;_3.endColor=_2}
return(this.$138t=_3)},isc.A.$138b=function isc_FacetChart__getCornerRadiusPadding(_1,_2){if(this.padChartRectByCornerRadius&&this.showChartRect&&this.chartType!="Radar"&&!this.isPieChart())
{var _3=Math.max(0.0,Math.min(1.0,this.chartRectProperties.rounding||0)),_4=Math.floor(_3*Math.min(_1,_2)/2);return(_4<3?0:_4)}else{return 0}},isc.A.$116c=function isc_FacetChart__canRotateLabels(){return(this.rotateLabels=="always"||(this.rotateLabels=="auto"&&!(isc.isA.Boolean(this.autoRotateLabels)&&this.autoRotateLabels==false)))},isc.A.$1059=function isc_FacetChart__getRequireZeroGradation(_1){_1=_1||this;return!_1.logScale},isc.A.$1334=function isc_FacetChart__showShadows(_1){return(this.hasShadows&&_1.showShadows)},isc.A.shouldShowDoughnut=function isc_FacetChart_shouldShowDoughnut(){return this.showDoughnut||(this.chartType=="Doughnut"&&this.showDoughnut!==false)},isc.A.$140h=function isc_FacetChart__supportsErrorBars(_1){return(_1==this&&!this.$1035()&&(this.$1066()!=null||this.$1064()!=null)&&!(this.$159w(_1)&&_1.proportional))},isc.A.$1045=function isc_FacetChart__getCanMoveAxes(){return this.$1035()&&(this.canMoveAxes!=null?this.canMoveAxes:this.$1036().visible.length>1)});isc.B._maxIndex=isc.C+26;isc.A=isc.FacetChart.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.redrawOnResize=true;isc.A.allContentAndChildren=true;isc.A.$103i=[0.7,1.0,0.9,0.4,0.8,0.5,0.8];isc.A.$1046={getDataColor:function(_1){var _2=this.$103y;return _2.getDataColor.apply(_2,(this.$103z?[_1,this]:[_1+this.$1030,_2]))},getDataGradient:function(_1,_2,_3){var _4=this.$103y;return _4.getDataGradient.apply(_4,(this.$1031?[_1,_2,_3,this,this.$103z]:[_1+this.$1032,_2,_3,_4,this.$103z]))}};isc.A.$1047="#0000ff";isc.A.angleMargin=5;isc.A.formatStringFacetValueIds=true;isc.A.$1375=[NaN,NaN];isc.A.$126c="Oval";isc.A.$126d="Square";isc.A.$126e="Diamond";isc.A.$1353="Triangle";isc.A.$126j={type:isc.DrawShape.$1252};isc.A.$1253=isc.DrawShape.$1253;isc.A.$1254=isc.DrawShape.$1254;isc.A.$1255=isc.DrawShape.$1255;isc.A.$106a=5;isc.A.$106b=2;isc.A.$102k=null;isc.A.interactivePoints=true;isc.A.$1354=2/(7*Math.LN2);isc.A.pointSizeLegendMargin=1;isc.A.pointSizeLegendPadding=5;isc.A.pointSizeLegendShapePadding=5;isc.A.pointSizeLegendTextPadding=5;isc.A.pointSizeLegendRowPadding=5;isc.A.showPointSizeLegendRect=false;isc.A.pointSizeLegendRectProperties={lineWidth:1,lineColor:"#333333"};isc.A.pointSizeLegendLabelProperties={fontFamily:"Arial",fontSize:10,fontWeight:"normal",fontStyle:"normal",lineColor:"#333333"};isc.A.pointSizeLegendTitleLabelProperties={fontFamily:"Arial",fontSize:12,fontWeight:"bold",fontStyle:"normal",lineColor:"#333333"};isc.A.colorScaleLegendWidth="60%";isc.A.colorScaleRectProperties={height:13,lineWidth:1,lineOpacity:1,lineColor:"#000000"};isc.A.useColorScaleLogGradations=true;isc.A.colorScaleLogGradations=[1,5];isc.A.colorScaleLegendTopMargin=10;isc.A.colorScaleLegendBottomMargin=1;isc.A.colorScaleLegendPadding=5;isc.A.colorScaleLegendTitlePadding=8;isc.A.colorScaleLegendMinLabelGap=5;isc.A.colorScaleLegendTickMarkLength=4;isc.A.colorScaleLegendTickMarkProperties={lineWidth:1,lineColor:"#000000"};isc.A.colorScaleLegendTickMarkInset=2;isc.A.colorScaleLegendTextPadding=5;isc.A.showColorScaleLegendRect=false;isc.A.colorScaleLegendRectProperties={lineWidth:1,lineColor:"#333333"};isc.A.colorScaleLegendLabelProperties={fontFamily:"Arial",fontSize:10,fontWeight:"normal",fontStyle:"normal",lineColor:"#333333"};isc.A.colorScaleLegendRotateLabels="auto";isc.A.colorScaleLegendTitleLabelProperties={fontFamily:"Arial",fontSize:12,fontWeight:"bold",fontStyle:"normal",lineColor:"#333333"};isc.A.useAutoGradients=true;isc.A.dataColors=["#df5545","#7ae02d","#4d89f9","#2de0e0","#e0e02d","#e02de0","#FF9933","#99FF33","#9933FF","#639966","#63CCCC","#6366FF","#800080","#999999","#FF00FF","#FFCC00","#00FF00","#00CCFF","#996366","#C0C0C0","#000000","#996100","#636300","#006300","#006366","#000080","#636399","#636363","#800000","#FF6600","#808000","#8000FF","#008080","#666699","#808080","#FF99CC","#FFCC99","#FFFF99","#CCFFCC","#CCFFFF","#99CCFF","#CC99FF","#FFFFFF"];isc.A.rotateProps={rotation:90};isc.A.$106c=4;isc.A.multiAxisLayoutMaxIterations=200;isc.A.multiAxisLayoutMaxImprovementIterations=50;isc.B.push(isc.A.$163h=function isc_FacetChart__getViewPortEdgeOffsets(_1){if(this.$106d()){return{top:0,right:0,bottom:(((_1!==true||!this.printZoomChart)?this.$106c+this.zoomChartHeight:0)+this.$106e),left:0}}else{return this.$163e}},isc.A.getChartTop=function isc_FacetChart_getChartTop(){return this.$78t.height+this.$1235(true)},isc.A.getChartHeight=function isc_FacetChart_getChartHeight(_1){return this.getInnerContentHeight()
-this.getChartTop()
-this.chartRectMargin
-Math.max(this.getXLabelsHeight(_1),this.$104e(_1))
-(this.$78k?this.legendMargin+this.$78k.height:0)
-(this.$138u?(this.colorScaleLegendTopMargin+this.$138u.height+this.colorScaleLegendBottomMargin):0)
-(this.$106d()?this.$106c+this.zoomChartHeight+this.$106e:0)},isc.A.$106f=function isc_FacetChart__getAvailableHeight(){return this.getInnerContentHeight()
-this.getChartTop()
-this.$1235(true)
-(this.$78k?this.legendMargin+this.$78k.height:0)
-(this.$138u?(this.colorScaleLegendTopMargin+this.$138u.height+this.colorScaleLegendBottomMargin):0)
-(this.$106d()?this.$106c+this.zoomChartHeight+this.$106e:0)
-this.getAxisLabelSpace(false)},isc.A.getChartLeft=function isc_FacetChart_getChartLeft(){var _1=this.getYLabelsWidth()+this.$1236;if(this.$1035()&&this.$1057){var _2=this.$1036();var _3=_2.left,_4=_3.length;_1+=_3.getProperty("$104f").sum();_1+=_4*this.valueAxisMargin}
return _1},isc.A.getChartWidth=function isc_FacetChart_getChartWidth(_1){var _2=(this.getInnerContentWidth()-this.getChartLeft()-this.$1237
-(this.$136m?2*this.pointSizeLegendMargin+this.$136m.width:0));if(this.$1035()&&this.$1057){var _3=this.$1036(),_4=_3.right,_5=_4.length;if(this.$104g()){_2-=this.getValueAxisLabelHeight(_4[0])}
_2-=_4.getProperty("$104f").sum();_2-=Math.max(0,_5-1)*this.valueAxisMargin}
return _2},isc.A.$1235=function isc_FacetChart__getDataAndChartRectMargin(_1){var _2=this.chartRectMargin;if(_1==this.hasXGradations()&&(this.chartType=="Column"||this.chartType=="Bar"||this.chartType=="Line"||this.chartType=="Area"))
{_2+=this.dataMargin}
return _2},isc.A.$106h=function isc_FacetChart__getAvailableWidth(){var _1=(this.getInnerContentWidth()
-2*this.$1235(false)
-this.getAxisLabelSpace(false)
-(this.$136m?2*this.pointSizeLegendMargin+this.$136m.width:0));if(this.$1035()&&this.$1057){var _2=this.$1036(),_3=_2.left.length,_4=_2.right.length;_1-=(_3+Math.max(0,_4-1))*this.valueAxisMargin;for(var i=_2.visible.length;i--;){_1-=this.$1108(_2.visible[i])}}
return _1},isc.A.$1108=function isc_FacetChart__getValueAxisExtraWidth(_1){if(_1==this||_1.showAxis==false||!this.$1057){return 0}else{var _2=((this.$104m(_1)&&this.$104n(_1).lineWidth)||0),_3=_2+this.gradationTickMarkLength+this.tickMarkToValueAxisMargin;return _3}},isc.A.getDataAxisLength=function isc_FacetChart_getDataAxisLength(_1){if(this.chartType=="Radar")return this.getChartHeight(_1)/2;if(this.hasYGradations()){var _2=this.getChartHeight(_1);return _2}else{return this.getChartWidth()}},isc.A.$181r=function isc_FacetChart__getDataStartMargin(_1,_2){_1=_1||this;var _3=_1.chartType;if(_3!="Column"&&_3!="Bar"){return this.dataMargin}
if(_1.$181s==null){var _4=this.getOrderedData(),_5=_3=="Column",_6=this.$1068(),_7=_6[0].index,_8=_6[1].index;this.$115t(_1,_4,_8-_7+1,_5?this.getChartWidth():this.getChartHeight(),_5?this.getChartLeft():this.getChartTop())}
var _9=_2?Math.floor(this.$181t/2):0;return(_1.$181s||this.dataMargin)+_9},isc.A.$78g=function isc_FacetChart__drawChartRect(_1){var _2=this.getChartTop(),_3=this.getChartHeight(),_4=this.getChartLeft(),_5=this.getChartWidth();var _6=this.$778={top:_2,left:_4,width:_5,height:_3};if(_1&&this.showChartRect){this.drawRect(_4,_2,_5,_3,this.chartRectProperties,this)}},isc.A.getChartRect=function isc_FacetChart_getChartRect(){if(this.$778==null)this.logWarn("getChartRect(): chart rect not available yet");return this.$778},isc.A.getChartRectLineWidth=function isc_FacetChart_getChartRectLineWidth(){var _1=this.chartRectProperties;var _2=_1.lineWidth;if(_1.lineOpacity==0)_2=0;if(!this.showChartRect)_2=0;return(_2||0)},isc.A.$1355=function isc_FacetChart__getMainChartAreaLeft(){return this.getChartLeft()+(this.$1356||0)},isc.A.$1357=function isc_FacetChart__getMainChartAreaRight(){return this.getChartLeft()+this.getChartWidth()-(this.$1358||0)},isc.A.$1359=function isc_FacetChart__getMainChartAreaTop(){return this.getChartTop()+(this.$136a||0)},isc.A.$136b=function isc_FacetChart__getMainChartAreaBottom(){return this.getChartTop()+this.getChartHeight()-(this.$136c||0)},isc.A.getStackFacet=function isc_FacetChart_getStackFacet(){return this.$106i()[1]},isc.A.isPieChart=function isc_FacetChart_isPieChart(_1){_1=_1||this.chartType;return _1=="Pie"||_1=="Doughnut"},isc.A.$1350=function isc_FacetChart__isBubbleChart(_1){return(_1.chartType=="Bubble"&&this.$136d()!=null)},isc.A.hasYAxisLabels=function isc_FacetChart_hasYAxisLabels(){return this.chartType!="Radar"&&!this.isPieChart()},isc.A.setStacked=function isc_FacetChart_setStacked(_1,_2){_2=_2||this;var _3=this.$159w(_2);_2.stacked=_1;if(_2.proportional&&_3&&!this.$159w(_2))
{this.logInfo("Setting stacked to "+isc.echo(_1)+" makes the state of the FacetChart "+this.getID()+" incompatible with proportional rendering.  Automatically disabling proportional mode.");_2.proportional=false}
if(this.data)this.$105a(false)},isc.A.setFilled=function isc_FacetChart_setFilled(_1,_2){_2=_2||this;var _3=this.$159w(_2);_2.filled=_1;if(_2.proportional&&_3&&!this.$159w(_2))
{this.logInfo("Setting filled to "+isc.echo(_1)+" makes the state of the FacetChart "+this.getID()+" incompatible with proportional rendering.  Automatically disabling proportional mode.");_2.proportional=false}
if(this.data)this.$105a(false)},isc.A.swapFacets=function isc_FacetChart_swapFacets(){if(!this.$134z()){return}
var _1=this.$106i();if(_1){var _2=_1[0];_1[0]=_1[1];_1[1]=_2;this.erase(false);this.setData(this.$106j())}},isc.A.$134z=function isc_FacetChart__canSwapFacets(){if(!this.isMultiFacet()){return false}else if(this.$1035()){var _1=this.$1036(),_2=_1.visible.length;for(var j=0;j<_2;++j){if(!_1.visible[j].isMultiFacet()){return false}}}
return true},isc.A.setChartType=function isc_FacetChart_setChartType(_1,_2){_2=_2||this;if(!isc.FacetChart.allChartTypes.contains(_1)){this.logWarn("'"+_1+"' is not a recognized chart type")}else if((_2.chartType=="Scatter"||_2.chartType=="Bubble")!=(_1=="Scatter"||_1=="Bubble"))
{this.logWarn("Cannot switch chart type from '"+_2.chartType+"' to '"+_1+"'.")}else if(_2.chartType!=_1){var _3=(this.reversePieFacets&&this.isMultiFacet()&&(this.isPieChart(_2.chartType)||this.isPieChart(_1))),_4=(this.$106d(_2.chartType)!=this.$106d(_1)),_5=this.$159w(_2);_2.chartType=_1;_2.$106k=true;delete _2.$181s;if(_2.proportional&&_5&&!this.$159w(_2))
{this.logInfo("With the chartType set to \""+_1+"\", the state of FacetChart "+this.getID()+" is incompatible with proportional rendering.  Automatically disabling proportional mode.");_2.proportional=false}
if(this.data){_2.$136s();this.$105a(_3,_4)}}},isc.A.showContextMenu=function isc_FacetChart_showContextMenu(){var _1=this,_2=null,_3=this.$159w(this);_2=this.$16ah();if(_2!=null){_3=false}else if(this.chartType=="Scatter"||this.chartType=="Bubble"){if(this.$133f(this.getXAxisMetric())||this.$133f(this.getYAxisMetric())){return true}
var _4=!(this.showRegressionLine!=null&&this.showRegressionLine),_5=(!_4&&this.regressionLineType=="line"),_6=(!_4&&this.regressionLineType=="polynomial");_2=[{title:isc.FacetChart.regressionLinesContextMenuItemTitle,submenu:[{title:isc.FacetChart.hideRegressionLinesContextMenuItemTitle,click:"target.setShowRegressionLine(false)",checked:_4},{title:isc.FacetChart.linearRegressionLinesContextMenuItemTitle,click:"target.setRegressionLineType(\"line\"); target.setShowRegressionLine(true)",checked:_5},{title:isc.FacetChart.polynomialRegressionLinesContextMenuItemTitle,click:"target.setRegressionLineType(\"polynomial\"); target.setShowRegressionLine(true)",checked:_6},{title:isc.FacetChart.polynomialDegreeRegressionLinesContextMenuItemTitle,click:function(){var _7=function(_19){var _8=(_19==null);if(_8)return;var _9=isc.isA.emptyString(_19),_10;if(!_9){_10=parseInt(_19,10);_9=(!isc.isA.Number(_10)||_19!=_10.toString(10)||!_1.$112m(_10))}
if(_9){isc.warn(isc.FacetChart.invalidPolynomialDegreeMessage)}else if(_10!=_1.regressionPolynomialDegree){_1.setRegressionPolynomialDegree(_10);_1.setRegressionLineType("polynomial");_1.setShowRegressionLine(true)}};isc.askForValue(isc.FacetChart.polynomialDegreePrompt,_7,{defaultValue:_1.regressionPolynomialDegree})}}]}]}else{var _11=this.$1035(),_12=(_11?isc.FacetChart.$1340:isc.FacetChart.$138v),_13=this.$134z();if(this.allowedChartTypes){_12=_12.intersect(this.allowedChartTypes)}
var _14=this.$106d(),_15=this.$181j(),_16=this.$181k();_2=[{title:isc.FacetChart.chartTypeContextMenuItemTitle,submenu:_12.filter(function(_19){return(!_14||_1.$106d(_19))&&(!_15||_1.$181n(_19))&&(!_16||_1.$181k(_19))}).map(function(_19){return{chartType:_19,title:isc.FacetChart.getChartTypeTitle(_19),click:"target.setChartType('"+_19+"')",checked:_1.chartType==_19}})},{title:isc.FacetChart.fillContextMenuItemTitle,submenu:[{title:isc.FacetChart.fillFilledContextMenuItemTitle,checked:this.filled!=null&&this.filled,filled:true},{title:isc.FacetChart.fillUnfilledContextMenuItemTitle,checked:this.filled!=null&&!this.filled,filled:false},{title:isc.FacetChart.fillAutoContextMenuItemTitle,checked:this.filled==null,filled:null}].filter(function(_19){_19.click="target.setFilled("+_19.filled+")";return!_15||_1.$181n(null,null,_19.filled)})}];var _17;if(this.isMultiFacet()){_2.add({title:isc.FacetChart.stackContextMenuItemTitle,submenu:[{title:isc.FacetChart.stackStackedContextMenuItemTitle,checked:this.stacked!=null&&this.stacked,stacked:true},{title:isc.FacetChart.stackUnstackedContextMenuItemTitle,checked:this.stacked!=null&&!this.stacked,stacked:false},{title:isc.FacetChart.stackAutoContextMenuItemTitle,checked:this.stacked==null,stacked:null}].filter(function(_19){_19.click="target.setStacked("+_19.stacked+")";return!_15||_1.$181n(null,null,_17,_19.stacked)})});if(_13){_2.add({title:isc.FacetChart.swapFacetsContextMenuItemTitle,click:"target.swapFacets()"})}}}
if(this.$117r!=null){this.$117r.destroy()}
if(_3){_2.push({title:isc.FacetChart.proportionalContextMenuItemTitle,click:"target.setProportional(!target.proportional)",checked:this.proportional})}
var _18=this.$117r=this.getMenuConstructor().create({data:_2});return _18.showContextMenu(this)},isc.A.click=function isc_FacetChart_click(){var _1=this.$16ah();if(_1!=null){if(this.$117r!=null){this.$117r.destroy()}
var _2=this.$117r=this.getMenuConstructor().create({data:_1});return _2.showContextMenu(this)}},isc.A.$16ah=function isc_FacetChart__getMoveAxesContextMenuItems(){var _1=null;if(this.$1045()){var x=this.getOffsetX()-this.getLeftMargin()-this.getLeftPadding(),y=this.getOffsetY()-this.getTopMargin()-this.getTopPadding(),_4=this.$778;if(_4!=null){var _5=this.$1036(),_6=_5.visible.length,_7=-_5.left.length,_8=_5.right.length;for(var j=0;j<_6;++j){var _10=_5.visible[j],_11=this.$103v(_10),_12=_11+_10.$104f;if(_11<=x&&x<=_12&&y>=_4.top&&_10.$1048!=null&&y<=_10.$1048.getBoundingBox()[3])
{var _13=[],_14=this.$1049(_10);for(var i=_7;i<=_8;++i){if(i==0){continue}
var c=(i<0?_5.left[-i-1]:_5.right[i-1]);if(_10==c){continue}
var _17=this.$1049(c);var _18;if(c.valueTitle!=null){_18=c.valueTitle}else{var _19=this.metricFacet.values.find("id",c.$103o);_18=_19.title||_19.id}
_13.push({title:_18,click:"target.changeValueAxisPositions(["+_14+","+_17+","+_17+","+_14+"])"})}
if(!_13.isEmpty()){_1=[{title:"Swap Metric Axes",submenu:_13}];break}}}}}
return _1},isc.A.initWidget=function isc_FacetChart_initWidget(){this.errorBarColorMutePercent=this.$105v(this.errorBarColorMutePercent,isc.FacetChart.getInstanceProperty("errorBarColorMutePercent"));this.colorMutePercent=this.$105v(this.colorMutePercent,isc.FacetChart.getInstanceProperty("colorMutePercent"));if(this.$106d()){this.allowContentAndChildren=true}
var _1=this.createAutoChild("zoomChartSlider",{_constructor:"RangeSlider",autoDraw:false,minValue:0,maxValue:1,startValue:0,endValue:1});this.$106e=_1.scrollbar.getHeight();_1.destroy();this.Super("initWidget",arguments);this.origDataGradients=this.dataGradients;this.dataGradients=isc.addProperties({},this.origDataGradients);this.isVML=this.drawingType=="vml";this.hasShadows=!this.isVML;if(this.facets&&this.facets.length>2&&this.chartType!="Scatter"&&this.chartType!="Bubble"&&!((this.chartType=="Line"||this.chartType=="Area")&&(this.highErrorMetric!=null||this.lowErrorMetric!=null))&&!(this.extraAxisMetrics!=null&&isc.isAn.Array(this.extraAxisMetrics)&&!this.extraAxisMetrics.isEmpty())&&this.pointSizeMetric==null&&this.colorScaleMetric==null)
{this.logWarn("The FacetChart \""+this.getID()+"\" has "+this.facets.length+" facets, but it is not a scatter plot and it does not have any extraAxisMetrics, pointSizeMetric, or colorScaleMetric.  This is probably an error as the chart cannot utilize more than two facets.")}
var _2=this.$159s();if(_2!=null&&this.getLegendFacet()!=null){this.logWarn("The FacetChart \""+this.getID()+"\" is configured to use data point colors to both represent the values of the colorScaleMetric \""+_2+"\" and to distinguish between facetValues of the legend facet.  This is probably an error because the data point colors cannot be used for both purposes.")}
this.$106k=true;if(this.$106l==null){this.setData(this.$106j())}else{this.$1037()}
this.$35z=this.getWidth();this.$106o=this.getHeight()},isc.A.draw=function isc_FacetChart_draw(){if(isc.$cv)arguments.$cw=this;if(!this.readyToDraw())return this;this.Super("draw",arguments);this.drawChart();return this},isc.A.clear=function isc_FacetChart_clear(){this.destroyItems();return this.Super("clear",arguments)},isc.A.resized=function isc_FacetChart_resized(_1,_2,_3){this.Super("resized",arguments);if(this.$106d()){var _4=this.getWidth(),_5=this.getHeight();if(_4!=this.$35z){this.$35z=_4;this.$106k=true}
if(_5!=this.$106o){this.$106o=_5;if(this.$106p){var _6=this.$106q();this.zoomChart.setTop(_6);this.zoomChartSlider.setTop(_6);if(this.zoomShowSelection){this.$106r.setTop(_6)}}}}
if(this.$106l==null&&_3!="init"){this.$105a(false)}},isc.A.setFacets=function isc_FacetChart_setFacets(_1){this.facets=_1;var _2=this.$106j();if(_2&&_2.length>0)this.setupChart()},isc.A.setData=function isc_FacetChart_setData(_1){if(_1&&!isc.isAn.Array(_1)){_1=[_1]}
this.data=_1;if(_1&&_1.length>0){this.setupChart()}
this.$106k=true;this.orderedData=null;delete this.$114q;delete this.$102o;delete this.$107n;if(this.zoomChart!=null){delete this.zoomChart.$107n}
if(this.zoomSelectionChart!=null){delete this.zoomSelectionChart.$107n}
delete this.$179a;if(this.$122i()){var _2=this.isStacked(this),_3=this.getMaxValue(null,true,this,_2,false,false);this.logInfo("setData: maxValue: "+_3);this.$1037();if(this.$106d()){if(this.zoomChart)this.zoomChart.$1037();if(this.zoomSelectionChart)this.zoomSelectionChart.$1037()}}
delete this.$181o;this.$105a(false)},isc.A.$122i=function isc_FacetChart__hasFacetValues(){var _1=this.getDataLabelFacet(),_2=this.getLegendFacet(),_3=this.$111a(),_4=this.$1065();return((this.chartType=="Scatter"||this.chartType=="Bubble"||!(_1==null&&_2==null))&&(_1==null||_1.values)&&(_2==null||_2.values)&&(_3==null||_3.values)&&(_4==null||_4.values))},isc.A.$105a=function isc_FacetChart__redrawFacetChart(_1,_2){if(this.drawingType=="vml"){if(!isc.FacetChart.$127a){var _3=!isc.FacetChart.$127b?isc.FacetChart.$127c:isc.FacetChart.$127c-
(new Date().getTime()-isc.FacetChart.$127b);if(_3<10)_3=10;this.logDebug("Delaying redraw of FacetChart '"+this.ID+"' by "+_3+"ms","drawing");this.delayCall("$105a",[_1,_2],_3);return}else{this.logDebug("VML redraw is marked safe drawing FacetChart '"+this.ID+"' - continuing on-thread","drawing")}}
this.$10k();if(!this.isDrawn())return;if(_1){this.orderedData=null;delete this.$114q}
delete this.cachedMaxValues;delete this.cachedMinValues;delete this.$1277;delete this.$1278;delete this.gradations;delete this.$127t;delete this.$1279;delete this.$117i;delete this.$106w;delete this.$128a;delete this.$128b;delete this.$778;delete this.$85f;delete this.$85g;delete this.$106x;delete this.$107p;delete this.$1373;delete this.$1374;delete this.$140i;if(_2){this.$1063();delete this.$107n;if(this.$106z!=null){isc.Timer.clear(this.$106z);delete this.$106z}
if(this.$1061!=null){isc.Timer.clear(this.$1061);delete this.$1061}
this.$117l()}else{if(this.zoomChart!=null){this.zoomChart.setChartType(this.chartType);this.zoomChart.setStacked(this.stacked);this.zoomChart.setFilled(this.filled)}
if(this.zoomSelectionChart!=null){this.zoomSelectionChart.setChartType(this.chartType);this.zoomSelectionChart.setStacked(this.stacked);this.zoomSelectionChart.setFilled(this.filled)}}
delete this.$104j;delete this.$78k;delete this.$136m;delete this.$138u;delete this.$138w;delete this.$138t;delete this.$101c;delete this.$101d;delete this.$181s;if(this.$1035()){var _4=this.$1036().all;for(var i=0;i<_4.length;++i){var _6=_4[i];delete _6.cachedMaxValues;delete _6.cachedMinValues;delete _6.$1277;delete _6.$1278;delete _6.gradations;delete _6.$127t;delete _6.$1279;delete _6.$107p;delete _6.$101c;delete _6.$101d;delete _6.$181s}}
this.xLabelsHeight=this.yLabelsWidth=null;this.drawChart()},isc.A.drawChart=function isc_FacetChart_drawChart(){this.beginBatchDrawing();try{this.$125v()}finally{this.endBatchDrawing(true)}},isc.A.shouldUseAutomatedLabelLayoutAlgorithm=function isc_FacetChart_shouldUseAutomatedLabelLayoutAlgorithm(){return this.chartType!="Radar"&&!this.isPieChart()},isc.A.$125v=function isc_FacetChart__drawChart(){this.drawTitle();if(this.$122j()){this.drawLegend()}
var _1=this.$106j();if(!isc.isAn.Array(_1)||_1.length==0||!this.$122i()){return}
if(this.$138r()&&this.$159s()!=null){this.$138x()}
if(this.$136l()&&this.$136d()!=null){this.$136n()}
this.$117l();var _2=this.hasYGradations(),_3=this.hasXGradations();var _4,_5,_6=this.$116c(),_7,_8,_9,_10,_11,_12,_13,_14,_15,_16;this.$1236=this.$1237=this.chartRectMargin;this.$106g=this.shouldUseAutomatedLabelLayoutAlgorithm();this.$1569=!this.$106g;if(this.$106g){delete this.xLabelsHeight;delete this.yLabelsWidth;delete this.$1277;delete this.$1278;delete this.gradations;delete this.$127t;delete this.$1279;delete this.$106w;delete this.$128a;delete this.$128b;delete this.$106x;delete this.$104c;var _17=this.$106h(),_18=this.$106f(),_19=this.$104i(),_20=1+_19,_21=(_20>2?this.$1036().visible:null),_22=this.$1035(),_23=null,_24=1,_25=false,_26=null,_27=null,_7=new Array(_19);if(_22){var _28=this.$1036();_23=_28.groups;_24=_23.length;_25=this.$104g();_26=new Array(_20-1);_27=new Array(_20-1)}else if(this.hasYGradations()){_23=[[this]]}else{_23=[this]}
var _29=this.$1109=new Array(1+_24);for(;;){var _30=_29[0]=this.$106t(false,this,0);for(var j=0,k=0;j<_24;++j){var _33=_23[j],_34;if(_22){_34=new Array(_33.length);for(var l=0;l<_33.length;++k,++l){var _36=_33[l],_37=_27[k]=this.$1108(_36);if(!_25&&this.shouldShowValueAxisLabel(_36)){var _38=_26[k]=this.measureLabel(_36.valueTitle,_36.valueAxisLabelProperties).width;_34[l]=Math.max(0,_38-_37)}else{_26[k]=0;_34[l]=0}}}else if(isc.isAn.Array(_33)){_34=[0]}else{_34=0}
_29[1+j]=this.$106t(true,_33,_34)}
var _39=this.$106v(_29,_30,_17,_18);this.$136a=this.$136c=_39.$136e;this.$1356=this.$1358=_39.$136f;var _40=_39.axisMeasures,_41=_39.axisWidths,_42=_39.axisHeights;var _43=_40[0],_44=_41[0],_45=_42[0],_46=_30.rotateLabels(_43),_47=_30.useGradations(_43),_48=_30.getLabelDataPairs(_44,_45,_43),_49=_30.logScale(_43);if(isc.isAn.Array(_44)){_44=_44[0]}
if(isc.isAn.Array(_45)){_45=_45[0]}
var _50=_43.$1238||0,_51=_43.$1239||0;this.$1236+=_50;this.$1237+=_51;if(this.chartType=="Scatter"||this.chartType=="Bubble"||_2){_5=false;_6=_46}else{_5=_46;_6=false}
var _52;if(this.chartType=="Scatter"||this.chartType=="Bubble"){var _53=_29[1],_54=_40[1],_55=_41[1][0],_56=_42[1][0];_4=true;_52=_55;var _57=_7[0]=_53.getLabelDataPairs(_55,_58,_54)[0];_9=_57.getProperty("dataValue");_11=_53.$127u(_55,_58,_54);_13=_53.$128c(_55,_58,_54);_15=_53.logScale(_54);_8=_48[0];_10=_8.getProperty("dataValue");_12=_30.$127u(_44,_45,_43);_14=_30.$128c(_44,_45,_43);_16=_49}else if(_3){var _53=_29[1],_54=_40[1],_55=_41[1],_58=_42[1];_4=false;_52=_55;var _57=_7[0]=_48[0];_9=_57.getProperty("dataValue");_11=_30.$127u(_44,_45,_43),_13=_30.$128c(_44,_45,_43);_15=_49;_8=_53.getLabelDataPairs(_55,_58,_54);_16=_53.logScale(_54);if(_53.useGradations(_54)){_10=_8.getProperty("dataValue")}}else{_4=true;_8=_48;_16=_49;if(_47){_10=_8.getProperty("dataValue")}
_44-=_50+_51;for(var j=0,k=0;j<_24;++j){var _33=_23[j],_59=_29[1+j],_60=_59.getLabelDataPairs(_41[1+j],_42[1+j],_40[1+j]);for(var l=0;l<_33.length;++l,++k){if(k==0){var _61=_59,_62=_40[1+j],_63=_41[1+j][l],_64=_42[1+j][l];var _65=_7[0]=_60[l];_9=_65.getProperty("dataValue");_11=_61.$127u(_63,_64,_62);_13=_61.$128c(_63,_64,_62);_52=_63;_15=_61.logScale(_62);this.$85f=this.$16ac(_65.getProperty("label"),"width",this.gradationLabelProperties);this.$104f=_63}else{var _66=_59,_36=_33[l],_67=_40[1+j],_68=_41[1+j][l],_69=_42[1+j][l];var _70=_7[k]=_60[l];_36.gradations=_70.getProperty("dataValue");_36.$127t=_66.$127u(_68,_69,_67);_36.$1279=_66.$128c(_68,_69,_67);_36.$85f=this.$16ac(_70.getProperty("label"),"width",_36.gradationLabelProperties);_36.$104f=_68+_27[k]}}}}
this.xLabelsHeight=_45+this.getAxisLabelSpace(false);this.yLabelsWidth=_52+this.getAxisLabelSpace(true);if(_9!=null){this.gradations=_9;this.$127t=_11;this.$1279=_13}
if(_10!=null){this.$106w=_10;this.$128a=_12;this.$128b=_14}
var _71=!this.$1569;if(_71){_71=false;var _72=(_22?this.$1036().all:null);for(var j=0;!_71&&j<_19;++j){var _36=(j==0?this:_72[j-1]);_71=(_36.showDataValues&&(_36.chartType=="Bar"||_36.chartType=="Column"))}}
if(_71){this.$78g(false);this.$140k();_71=this.$157a(_10,_16,_8,_6,true);if(_71){delete this.orderedData;delete this.$778;delete this.$136a;delete this.$136c;delete this.$1356;delete this.$1358;this.$1236=this.$1237=this.chartRectMargin;this.$1569=true;continue}}
break}
if(this.showDataLabels){this.$106x=_8.getProperty("label")}}else{if(this.hasYGradations()){this.getXLabelsHeight(true)}else{this.getYLabelsWidth(true)}
this.$103m();this.measureGradationLabels(true)}
this.$78g(true);if(this.chartType=="Radar"){this.$140j()}
if(!this.isPieChart(this.chartType)){this.$140k()}
this.drawGradationLabels(_4,_7,_5);var _73=this.showGradationsOverData;if(_22){this.$103n()}else{this.$103n(_4,_9,_11,_13,false,_73);if(_10!=null&&this.chartType!="Scatter"&&this.chartType!="Bubble"){this.$103n(!_4,_10,null,null,_73)}}
if(this.chartBackgroundDrawn){this.chartBackgroundDrawn()}
this.logDebug("drawing data","chartDraw");this.$1002();if(!this.showStatisticsOverData&&this.chartType!="Scatter"&&this.chartType!="Bubble")
{this.$102l()}
this.$157a(_10,_16,_8,_6,false);if(this.showStatisticsOverData){this.$102l()}
if(_73){this.$127v(_4,_9,_11,_13,true,false);if(_10!=null){this.$127v(!_4,_10,null,null,true,false)}}
this.drawDataAxisLabel();this.$104h();if(this.chartDrawn){this.chartDrawn()}
if(this.$106k&&this.$106d()){if(!this.$106p){this.$106y()}
var _74=this;if(this.$106z==null){this.$106z=isc.Timer.setTimeout(function(){if(_74.destroyed)return;delete _74.$106z;if(_74.$106p){var _75=_74.$1060(),_76=_74.$106q(),_77=_74.getChartWidth();_74.zoomChart.setRect(_75,_76,_77);delete _74.zoomChart.$181s;var _78=_74.zoomChart.$181r();_74.zoomChartSlider.setRect(_75+_78,_76,_77-2*_78);if(!_74.zoomChart.isDrawn()){_74.zoomChart.draw()}else{_74.zoomChart.$105a(false)}
if(_74.zoomShowSelection){if(_74.$1061==null){_74.$1061=isc.Timer.setTimeout(function(){delete _74.$1061;if(_74.$106p){var _76=_74.$106q(),_77=_74.getChartWidth();_74.$106r.setTop(_76);_74.zoomSelectionChart.setWidth(_77);if(!_74.zoomSelectionChart.isDrawn()){_74.zoomSelectionChart.draw()}else{_74.zoomSelectionChart.$105a(false)}}
_74.$106k=false},0)}}else{_74.$106k=false}}else{_74.$106k=false}},0)}}});isc.evalBoundary;isc.B.push(isc.A.$163i=function isc_FacetChart__getChildrenSvgString(_1){if(!this.printZoomChart||!this.$106d())return;var _2=this.zoomChart;if(_2==null)return;var _3="<g transform="+isc.FacetChart.$1775(_2)+">"+_2.getSvgString(_1)+"</g>";var _4=this.$106r;if(_4==null)return _3;var _5=_4.getLeft(),_6=_4.getTop(),_7=_4.getWidth(),_8=_4.getHeight();return _3+"<g transform="+isc.FacetChart.$1775(_4)+"><rect width='"+_7+"' height='"+_8+"' fill='"+this.$106n()+"'/><svg  width='"+_7+"' height='"+_8+"' viewBox='"+(_5-_2.getLeft())+" 0 "+_7+" "+_8+"'>"+this.zoomSelectionChart.getSvgString(_1)+"</svg></g>"},isc.A.hasXGradations=function isc_FacetChart_hasXGradations(_1){return(_1||this.chartType)=="Bar"},isc.A.hasYGradations=function isc_FacetChart_hasYGradations(_1){return(_1||this.chartType)!="Bar"},isc.A.erase=function isc_FacetChart_erase(_1,_2){this.$1002();delete this.$1062;if(this.$1035()){var _3=this.$1036().all;for(var i=0;i<_3.length;++i){delete _3[i].$1062}}
this.Super("erase",arguments);this.dataGradients=isc.addProperties({},this.origDataGradients)},isc.A.destroyItems=function isc_FacetChart_destroyItems(){this.$1063();this.$10k()},isc.A.$10k=function isc_FacetChart__destroyItems(){this.Super("destroyItems",arguments)},isc.A.$128d=function isc_FacetChart__getMultiMinMaxValues(_1,_2){var _3=(_1?_2.$1277:_2.$1278);if(_3!=null){return _3}else if(_1){_3=_2.$1277={}}else{_3=_2.$1278={}}
var _4=(_2.chartType=="Scatter"||_2.chartType=="Bubble"),_5=!_4&&this.isStacked(_2),_6=this.$1065(),_7=_4&&this.getYAxisMetric(),_8=_4&&this.getXAxisMetric(),_9=this.$1066(),_10=this.$1064();var _11=(!this.$1035()&&_6!=null),_12=false;var _13=(_1&&_2.logScale);var _14,_15;if(_2==this){if(_4){var _16=(_1?_7:_8);if(_6!=null&&_16!=null){var _17=(_1?this.$127u(false,null,null,null,_2):this.$127u(true,null,null,null,_2)),_18=(_1?_8:_7),_19=this.$133f(_16),_20=this.$133f(_18);if(_17!=null){var _21={};_21[_6.id]=_16;var _22=this.getValue(_21,true,_19);_21[_6.id]=_18;var _23=this.getValue(_21,true,_20);if(_22!=null&&_23!=null){var _24,_25;if(_11&&_9!=null&&!(_1?_19:_20))
{_21[_6.id]=_9;if(_1){_24=this.getValue(_21,true,false);_25=null}else{_24=null;_25=this.getValue(_21,true,false)}}
var _26,_27;if(_11&&_10!=null&&!(_1?_19:_20))
{_21[_6.id]=_10;if(_1){_26=this.getValue(_21,true,false);_27=null}else{_26=null;_27=this.getValue(_21,true,false)}}
var _28=(!_1&&_2.logScale);_13=_13&&!_19;_28=_28&&!_20;for(var j=_22.length;j--;){var _30=(_19?isc.isA.Date(_22[j]):isc.isA.Number(_22[j])&&(!_13||_22[j]>0)),_31=(_20?isc.isA.Date(_23[j]):isc.isA.Number(_23[j])&&(!_28||_23[j]>0));if(_30&&_31){var _32=_23[j];if(_25!=null&&(!_28||_25[j]>0)){_32=Math.max(_32,_25[j])}
if(_27!=null&&(!_28||_27[j]>0)){_32=Math.max(_32,_27[j])}
if(_20?_32.getTime()>=_17.getTime():_32>=_17)
{var _33=_22[j],_34=_22[j];if(_24!=null&&isc.isA.Number(_24[j])&&(!_13||_24[j]>0))
{_33=Math.min(_33,_24[j]);_34=Math.max(_34,_24[j])}
if(_26!=null&&isc.isA.Number(_26[j])&&(!_13||_26[j]>0))
{_33=Math.min(_33,_26[j]);_34=Math.max(_34,_26[j])}
if(_14==null){_14=_33;_15=_34}else if(_19){_14=isc.DateUtil.$1329(_14,_33);_15=isc.DateUtil.$133a(_15,_34)}else{_14=Math.min(_14,_33);_15=Math.max(_15,_34)}}}}}}else{_14=this.getMinValue(_16,false,this,_5,false,_13);_15=this.getMaxValue(_16,false,this,_5,false,_13);_12=!this.$133f(_16)}}}else{var _16=this.getDefaultMetric();_14=this.getMinValue(_16,false,this,_5,_5,_13);_15=this.getMaxValue(_16,false,this,_5,_5,_13);_12=!this.$133f(_16)}}else{_14=this.getMinValue(_2.$103o,false,_2,_5,_5,_13);_15=this.getMaxValue(_2.$103o,false,_2,_5,_5,_13);_12=false}
if(_13&&_14==null&&_15==null){_14=_15=0}
_3.minValue=_14;_3.maxValue=_15;if(_12&&_1&&_11){if(_9!=null){this.$128e(_9,_3,_13)}
if(_10!=null){this.$128e(_10,_3,_13)}}
return _3},isc.A.$128e=function isc_FacetChart__minMaxWithErrorMetric(_1,_2,_3){var _4=this.isStacked(this),_5=_2.minValue,_6=_2.maxValue,_7=this.getMinValue(_1,false,this,_4,false,_3),_8=this.getMaxValue(_1,false,this,_4,false,_3);if(_5==null){_5=_7}else if(_7!=null){_5=Math.min(_5,_7)}
if(_6==null){_6=_8}else if(_8!=null){_6=Math.max(_6,_8)}
_2.minValue=_5;_2.maxValue=_6},isc.A.getMagnitude=function isc_FacetChart_getMagnitude(_1,_2,_3){_3=_3||this;if(_1==0)return 0;if(_2==null)_2=_3.logBase;var _4=this.logValue(_1,_2,_3);return Math.ceil(_4)},isc.A.getGradations=function isc_FacetChart_getGradations(_1){return this.$914(false,true,null,_1)},isc.A.$914=function isc_FacetChart__getGradations(_1,_2,_3,_4){_4=_4||this;var _5=_2&&this.$159w(_4)&&_4.proportional,_6,_7;if(_5){_6=0;_7=1}else{var _8=this.$128d(_2,_4);_6=_8.minValue;_7=_8.maxValue}
var _9=!_5&&_2&&this.shouldUseLogGradations(_4);if(_9){return this.getLogGradations(_7,_6,_1,_4)}
if(!_1&&(_2?_4.gradations:_4.$106w)){return(_2?_4.gradations:_4.$106w)}
var _3=_3||this.getDataAxisLength(true);var _10=Math.round(_3/this.pixelsPerGradation);var _11=this.$127w(_2,_6,_7,this);var _12=false,_13,_14=Number.MAX_VALUE;for(var i=0;i<_11.length;i++){var _16=_11[i],_17=(this.$128f(_2,_6,_7,_16,this).numGradations-1),_18=Math.abs(_10-_17);if((!_12||_17<_10)&&_18<_14){_12=_12&&_17<_10;_13=_16;_14=_18}}
var _16=_13,_19=this.$128f(_2,_6,_7,_16,this),_20=_19.startValue,_21=_19.endValue,b=_19.b,_23=_19.numGradations,_24=_19.oneGradationLabel;var _17=new Array(_23);for(var i=_23;i--;){_17[i]=((b+i)*_16)}
if(_2){_4.gradations=_17;_4.$127t=_20;_4.$1279=_21;_4.$117i=_24}else{_4.$106w=_17;_4.$128a=_20;_4.$128b=_21}
if(this.logIsDebugEnabled("chartScale")&&_4==this){this.logDebug("chose increment: "+_16+". "+_23+" gradations (ideal "+_10+"): "+_17,"chartScale")}
return _17},isc.A.$127u=function isc_FacetChart__getAxisStartValue(_1,_2,_3,_4,_5){var _6=this.$128f(_1,_2,_3,_4,_5);return(_6!=null?_6.startValue:null)},isc.A.$128g=function isc_FacetChart__validateLogGradations(_1,_2){var _3=_2*1e-6,_4=false,_5=(isc.isAn.Array(_1)&&_1.length>0);for(var i=0;_5&&i<_1.length;++i){var _7=_1[i];_5=isc.isA.Number(_7);if(!(1<=_7)){if(1-_3<_7){if(!_4){_4=true;_1=_1.duplicate()}
_1[i]=1}else{_5=false}}
if(!(_7<_2)){if(_7-_3<_2){if(!_4){_4=true;_1=_1.duplicate()}
_1.removeAt(i);if(!_1.contains(1)){_1.unshift(1)}else{--i}}else{_5=false}}}
for(var i=1;_5&&i<_1.length;++i){var a=_1[i-1],b=_1[i];if(Math.abs(a-b)<_3){if(!_4){_4=true;_1=_1.duplicate()}
_1.removeAt(i);--i}else if(!(a<b)){_5=false}}
if(!_5){this.logWarn("The chart's logGradations were invalid.  Continuing with logGradations set to [1].")}
return(_5?_1:[1])},isc.A.$128f=function isc_FacetChart__getAxisBoundaryValues(_1,_2,_3,_4,_5){var _6=_1&&this.shouldUseLogGradations(_5);var _7=false;if(_5.chartType=="Scatter"||_5.chartType=="Bubble"){_7=this.$133f(_1?this.getYAxisMetric():this.getXAxisMetric())}else{_7=this.$133f(this.getDefaultMetric())}
_6=_6&&!_7;var _8=!(_1||_5.chartType=="Scatter"||_5.chartType=="Bubble"),_9=false,_10=false,_11=null,_12=null;if(_8){_9=true;_10=true;_11=_2;_12=_3}else{var _13=(_1&&_5.proportional&&this.$159w(_5)),_14=(_1?"axisStartValue":"xAxisStartValue"),_15=(_1?"axisEndValue":"xAxisEndValue");if(_13){_9=true;_10=true;_11=0;_12=_3}else{if(_7?isc.isA.Date(_5[_14]):isc.isA.Number(_5[_14])){_9=true;_11=_5[_14]}
if(_7?isc.isA.Date(_5[_15]):isc.isA.Number(_5[_15])){_10=true;_12=_5[_15]}}}
var _16={startValue:_11,endValue:_12,increment:_4};if(!_6&&_4==null){return _16}
if(_2==null||_3==null){this.logInfo("Attempt to drawn an empty chart - returning empty axis boundary values");_16.b=-1;_16.c=0;_16.numGradations=0;return _16}
var _17=null;if(!_9&&!_10){_17=this.$127s(_1,_5);if(!(isc.isA.Number(_17)&&0<_17&&_17<100))
{_17=null}}
if(_6){if(_9&&_11<0){this.logWarn("Logarithmic scaling is not supported with negative values for axisStartValue.  Continuing with a zero start value.");_11=0}
var _18=(_9&&_11==0);var _19=_5.logBase,_20=this.$128g(_5.logGradations,_19),_21=_20.length;var _22=this.getMagnitude((_9?Math.max(_11,_3):_3),null,_5),_23=this.getMagnitude((_9&&!_18?_11:_2),null,_5);if((Math.pow(_19,_23-1)*_20[0])>(_9&&!_18?_11:_2)){--_23}
var b,c;if(_9&&!_18){b=0;for(;;){var i=_23-1+Math.floor(b/_21),j=(b%_21);if(Math.pow(_19,i)*_20[j]>=_11){break}else{++b}}}else{b=0;_11=Math.pow(_19,_23-1)*_20[0]}
c=(_22-_23+1)*_21;_12=Math.pow(_19,_22);var _28=(c-b+1),_29=(_18?3:2);if(_28<_29){var _30=_19*1e-6,_31=(Math.abs(_20[0]-1)<_30);for(;_28<_29;++_28){if(_9&&!_18){if(_31){_31=false;--_28;_12=_12*_20[0]}else{++c;var i=_23-1+Math.floor(c/_21),j=(c%_21);_12=Math.pow(_19,i)*_20[j]}}else{--b;var i=_23-1+Math.floor(b/_21),j=(b%_21);_11=Math.pow(_19,i)*_20[j]}}}
var _32=0,_33=0,_34=0;if(_2>0){var _35=this.logValue(_3,_19,_5),_36=this.logValue(_2,_19,_5);_32=this.logValue(_12,_19,_5),_33=this.logValue(_11,_19,_5);_34=(_35-_36)}
if(_17!=null&&0<_34&&_34<(_17/100)*(_32-_33)){var _37=Math.abs((_34/(_32-_33))-0.75);for(var _38=b+1,_39=c-1;_29<c-b+1;){var _40=_23-1+Math.floor(_38/_21),_41=(_38%_21),_42=Math.pow(_19,_40)*_20[_41],_43=this.logValue(_42,_19,_5),_44=Math.abs((_34/(_32-_43))-0.75);var _45=_23-1+Math.floor(_39/_21),_46=(_39%_21),_47=Math.pow(_19,_45)*_20[_46],_48=this.logValue(_47,_19,_5),_49=Math.abs((_34/(_48-_33))-0.75);if(_42>_2){_44=_37}
if(_47<_3){_49=_37}
if(_44<_49){if(_44<_37){_37=_44;b=_38;_11=_42;_33=_43}else{break}}else{if(_49<_37){_37=_49;c=_39;_12=_47;_32=_48}else{break}}}}
_16.startValue=_11;_16.endValue=_12;_16.b=b;_16.c=c;_16.numGradations=(c-b+1);_16.minMagnitude=_23;_16.maxMagnitude=_22;_16.logGradations=_20;_16.includeZeroGradation=_18;return _16}
var _50=_7&&isc.FacetChart.$133g(_4,_2),_51=(_7?0:Math.floor(_2/_4)),_52=(!_7&&!_9&&_1&&(_2!=null&&_2>0)&&this.$1059(_5)),_53=(!_7&&!_10&&(!_9||_11<_3)&&_1&&(_3!=null&&_3<0)&&this.$1059(_5)),b,c;if(_9){if(_7){b=isc.FacetChart.$133h(_4,isc.FacetChart.$133i(_4,_11),_50)}else{b=Math.ceil(_11/_4)}}else if(_52){b=0;_11=0}else{b=_51;_11=(_7?_50:b*_4)}
if(_10){c=(_7?isc.FacetChart.$133h(_4,isc.FacetChart.$133g(_4,_12),_50):Math.floor(_12/_4))}else{var _54,_55;if(_8){var _56=_12;if(_56==null)_56=_11;_55=Math.max(_56,_3);_54=Math.floor(_55/_4)}else{if(_1||this.$136d()!=null){if(_7){_55=isc.FacetChart.$133i(_4,isc.DateUtil.$133a(_11,_3));_54=isc.FacetChart.$133h(_4,_55,_50)}else{_54=Math.ceil(Math.max(_11,_3)/_4);_55=_54*_4}}else{if(_7){_55=isc.FacetChart.$133i(_4,isc.DateUtil.$133a(_11,_3));_54=isc.FacetChart.$133h(_4,_55,_50)}else{_55=Math.max(_11,_3);_54=Math.floor(_55/_4)}}}
if(_53){_12=0;c=0}else{_12=_55;c=_54}}
var _57=false;if(!_8){if(!_10){if(!_7&&_1&&(_5.chartType=="Bar"||_5.chartType=="Column")&&_5.showDataValues&&(_3!=null&&_3>=0)&&this.$1569)
{++c;_12=c*_4}}
var _28=(c-b+1);if(_28<2){if(!_9){if(_7){_11=isc.FacetChart.$133g(_4,_2);b=isc.FacetChart.$133h(_4,_11,_50)}else{b=Math.floor(_2/_4);_11=b*_4}}
if(!_10){if(_7){_12=isc.FacetChart.$133i(_4,isc.DateUtil.$133a(_11,_3));c=isc.FacetChart.$133h(_4,_12,_50)}else{c=Math.ceil(Math.max(_11,_3)/_4);_12=c*_4}
if(b==c){++c;if(_7){_12=isc.FacetChart.$133j(_4,_12)}else{_12=c*_4}
_57=true}}}}
var _28=(c-b+1);var _34;var _58,_59;if(_9){_58=_7?isc.DateUtil.$133a(_11,_2):Math.max(_11,_2)}else{_58=_7?_2.getTime():_2}
if(_10){_59=_7?isc.DateUtil.$1329(_12,_3):Math.min(_12,_3)}else{_59=_7?_3.getTime():_3}
if(_9&&_58>_59)_59=_58;if(_10&&_59<_58)_58=_59;_34=_59-_58;var _60=(_7?_12.getTime()-_11.getTime():_12-_11);if(_17!=null&&0<_34&&_34<(_17/100)*_60)
{var _61=false;if(!_1&&(_5.chartType=="Scatter"||_5.chartType=="Bubble")){if(_7){_12=isc.FacetChart.$133i(_4,_12);c=isc.FacetChart.$133h(_4,_12,_50)}else{c=Math.ceil(_12/_4);_12=c*_4}
_28=(c-b+1);_60=(_7?_12.getTime()-_11.getTime():_12-_11);_61=(_34<(_17/100)*_60)}
if(!_61){var _62=Math.min(_28-2,(_51-b)+(c-_54));var n=c-b-_34/_4/0.75,_64=Math.max(0,Math.min(_62,Math.floor(n))),_65=Math.max(0,Math.min(_62,Math.ceil(n)));if(_64==_65){n=_64}else if(c-b-_65==0){n=_64}else if(c-b-_64==0){n=_65}else{var _66=(_34/(c-b-_64)/_4),_67=(_34/(c-b-_65)/_4);if(Math.abs(_66-0.75)<Math.abs(_67-0.75)){n=_64}else{n=_65}}
var _68=0,_69=0;if(!_7&&_2!=null&&_2>0){_68=Math.min(n,_51-b);_69=n-_68}else if(!_7&&_3!=null&&_3<0){_69=Math.min(n,c-_54);_68=n-_69}else{_68=Math.min(Math.ceil(n/2),_51-b);_69=n-_68}
b+=_68;if(_7){if(_68>0){_11=isc.FacetChart.$133k(_4,_11,_68)}}else{_11+=_68*_4}
c-=_69;if(_7){if(_69>0){_12=isc.FacetChart.$133k(_4,_12,-_69)}}else{_12-=_69*_4}
_28=(c-b+1)}}
_57=(_57||(_28==1));_16.startValue=_11;_16.endValue=_12;_16.b=b;_16.c=c;_16.numGradations=_28;_16.oneGradationLabel=_57;_16.isDateValued=_7;if(_7){_16.zero=_50}
return _16},isc.A.$127w=function isc_FacetChart__getPossibleIncrements(_1,_2,_3,_4){var _5,_6,_7=this.$128f(_1,_2,_3,null,_4);if(_7!=null){_5=_7.startValue;_6=_7.endValue}
if(_5!=null){if(_6!=null)_3=_6;var _8=Math.max(0,_3-_5);var _9=this.getMagnitude(_8,10,_4);var _10=Math.pow(10,_9-1),_11=Math.pow(10,(_9-2));var _12=[_11,2*_11,5*_11,10*_11,2*_10,5*_10];return _12}
var _8=_3-_2;if(_8==0)_8=Math.abs(_3);var _9=this.getMagnitude(_8,10,_4),_13=_9,_14=_9;for(var _15=true;_15;){_15=false;var _11=Math.pow(10,_14-2),_10=10*_11;for(var i=0;i<6;++i){var _17;switch(i){case 0:_17=_11;break;case 1:_17=2*_11;break;case 2:_17=5*_11;break;case 3:_17=_10;break;case 4:_17=2*_10;break;case 5:_17=5*_10;break}
var _18=this.$128f(_1,_2,_3,_17,_4),m=this.getMagnitude((_18.c-_18.b)*_17,10,_4);if(!(_13<=m&&m<=_14)){_15=_15||!(m<=_14);_13=Math.min(_13,m);_14=Math.max(_14,m)}}}
var _20=new Array(6*(_14-_13+1));for(var m=_13;m<=_14;++m){var _11=Math.pow(10,m-2),i=6*(m-_13);_20[i]=_11;_20[i+1]=2*_11;_20[i+2]=5*_11;_20[i+3]=10*_11;_20[i+4]=20*_11;_20[i+5]=50*_11}
return _20},isc.A.$103m=function isc_FacetChart__calculateAllGradations(_1){var _2=true,_3=true;this.$914(_2,_3,_1,this);var _4=this.$1036();if(_4!=null){_4=_4.all;for(var i=0,_6=_4.length;i<_6;++i){var _7=_4[i];this.$914(_2,_3,_1,_7)}}},isc.A.logValue=function isc_FacetChart_logValue(_1,_2,_3){if(_2==null)_2=(_3||this).logBase;return Math.log(_1)/Math.log(_2)},isc.A.shouldUseLogGradations=function isc_FacetChart_shouldUseLogGradations(_1){_1=_1||this;if(_1.logScale==false)return false;if(_1.useLogGradations!=null)return _1.useLogGradations;return _1.logBase==10},isc.A.getLogGradations=function isc_FacetChart_getLogGradations(_1,_2,_3,_4){_4=_4||this;if(!_3&&_4.gradations)return _4.gradations;if(_2<0)this.logWarn("logarithmic scaling is not supported with negative values");var _5=_4.logBase,_6=this.$128f(true,_2,_1,null,_4);if(_4==this){this.logDebug("magnitude of max,min: "+[_6.maxMagnitude,_6.minMagnitude],"chartScale")}
var _7=_6.logGradations,_8=_7.length,_9=_6.numGradations,_10=new Array(_9),_11=_6.minMagnitude,b=_6.b;for(var i=_9;i--;){if(i==0&&_6.includeZeroGradation){_10[i]=0}else{var j=_11-1+Math.floor((b+i)/_8),k=((b+i)%_8);_10[i]=Math.pow(_5,j)*_7[k]}}
_4.gradations=_10;_4.$127t=_6.startValue;_4.$1279=_6.endValue;if(_4==this){this.logDebug("log gradations: "+_10,"chartScale")}
return _10},isc.A.getMaxGradation=function isc_FacetChart_getMaxGradation(_1){_1=_1||this;return _1.gradations.last()},isc.A.measureGradationLabels=function isc_FacetChart_measureGradationLabels(){if(this.isPieChart()||this.chartType=="Radar"){this.$85f=this.$85g=0;return}
var _1=this.hasYGradations(),_2=this.gradationLabelProperties;if(!(_1||this.$116c())){this.$85g=this.measureLabel("Xy",_2).height}else{var _3=this.$159w(this)&&this.proportional,_4=this.gradations,_5=0;for(var i=_4.length,_7=!_1;i--;){var _8;if(_3){_8=this.formatProportion(_4[i],_7)}else{_8=this.formatAxisValue(_4[i],_7)}
var _9=this.measureLabel(_8,_2).width;_5=Math.max(_5,_9)}
this.$85f=_5}},isc.A.getGradationsWidth=function isc_FacetChart_getGradationsWidth(){if(this.$85f==null)this.logWarn("Gradation width not available");return this.$85f},isc.A.getGradationsHeight=function isc_FacetChart_getGradationsHeight(){if(this.$85g==null)this.logWarn("Gradation height not available");return this.$85g},isc.A.drawGradationLabels=function isc_FacetChart_drawGradationLabels(_1,_2,_3){if(this.isPieChart()||this.chartType=="Radar")return;var _1=(_1==null?this.hasYGradations():_1===true);if(_1&&!this.$1057){return}
_3=(!_1&&(_3==null?this.$116c():_3===true));var _4=this.$1035(),_5=this.$1036(),_6=this.$104i(),_7;if(_1){_7=this.getAxisLabelSpace(true)}
for(var j=0;j<_6;++j){var _9=(j==0?this:_5.all[j-1]),_10=!(_9!=this&&_9.showAxis==false);if(!_10){continue}
var _11=this.$159w(_9)&&_9.proportional,_12=isc.addProperties({$104x:true},_9.gradationLabelProperties),_13=_9.gradations,_14=_9.$117i,_15=this.measureLabel("Xy",_12).height,_16=_2&&_2[j],_17=(_16==null),_18=(_17?(_14?1:_13.getLength()):_16.getLength());if(_1){var _19=this.$1049(_9),_20;if(_4){_20=this.$103p(_9)}else{_20=_7}
for(var i=0;i<_18;i++){var _22=_9.$140l.transformY(_17?_13[i]:_16[i].dataValue),_23;if(_17){if(_11){_23=this.formatProportion(_13[i],!_1)}else{_23=_9.formatAxisValue(_13[i],!_1)}}else{_23=_16[i].label}
var _24=_20;if(_19<=0){if(_9.$85f!=null){_24+=_9.$85f}else{_24+=this.getChartLeft()-this.$1236}
_24-=this.measureLabel(_23,_9.gradationLabelProperties).width}
this.drawLabel(_24,_22-(_15/2),_23,_12)}}else{if(this.chartType=="Scatter"||this.chartType=="Bubble"){_13=this.getSecondGradations()}
var _22=this.getChartTop()+this.getChartHeight()+this.chartRectMargin;for(var i=0;i<_18;i++){var _25=_17?_13[i]:_16[i].dataValue,_24=this.$140m(false,_25),_23;if(_17){if(_11){_23=this.formatProportion(_25,!_1)}else{_23=this.formatAxisValue(_25,!_1)}}else{_23=_16[i].label}
if(_3){this.drawLabel(_24+this.getRotatedCenteringOffset(_15),_22,_23,_12,true)}else{var _26=this.measureLabel(_23,_12);this.drawLabel(_24-(_26.width/2),_22,_23,_12)}}}}},isc.A.getGradationLineWidth=function isc_FacetChart_getGradationLineWidth(){return(this.gradationLineProperties.lineWidth||0)},isc.A.$127v=function isc_FacetChart__drawGradations(_1,_2,_3,_4,_5,_6){this.logDebug("drawing gradations","chartDraw");_2=_2||this.gradations;if(this.isPieChart())return;if(this.chartType=="Radar")return this.drawRadarGradations(_2);_1=(_1==null?this.hasYGradations():_1===true);if(_1&&!this.$1057){return}
_5=_5||!(this.bandedBackground&&_1);var _7=!_6,_8=!_5;if(_6&&_5){return}
var _9=this.getChartRect(),_10=_1?_9.height:_9.width;var _11=this.getChartRectLineWidth();var i=0,_13=_2.length;if(_11!=0){if((isc.isA.Date(_3)&&isc.isA.Date(_2[0])?_3.getTime()==_2[0].getTime():_3==_2[0])&&(_1?this.getChartTop()+this.getChartHeight()-this.$136b():this.$1355()-this.getChartLeft())
<=_11)
{++i}
if((isc.isA.Date(_4)&&isc.isA.Date(_2[_13-1])?_4.getTime()==_2[_13-1].getTime():_4==_2[_13-1])&&(_1?this.$1359()-this.getChartTop():this.getChartLeft()+this.getChartWidth()-this.$1357())
<=_11)
{--_13}}
var _14,_15;if(!_1&&(_3==null||_4==null)){if(this.hasXGradations()){_14=this.$127t;_15=this.$1279}else if(this.chartType=="Scatter"||this.chartType=="Bubble"){_14=this.$128a;_15=this.$128b}else{var _16=this.$1068();_14=_16[0].dataValue;_15=_16[1].dataValue;if(!(_16[0].index<_16[1].index)||_14==_15){return}}}
for(;i<_13;i++){if(_7){if(_1){var _17=_9.left+_11,_18=_9.left+_9.width-_11,_19=this.$140l.transformY(_2[i]),_20=(_2[i]==0);isc.DrawLine.create(_20?this.gradationZeroLineProperties:this.gradationLineProperties,{drawPane:this,startLeft:_17,startTop:_19,endLeft:_18,endTop:_19,autoDraw:true})}else{var _17=this.$140m(false,_2[i]);isc.DrawLine.create(this.gradationLineProperties,{drawPane:this,startLeft:_17,startTop:_9.top+_11,endLeft:_17,endTop:_9.top+_9.height-(2*_11),autoDraw:true})}}
if(_8&&(i%2==1)&&i!=(_2.length-1)){var _21=this.$140l.transformY(_2[i+1]),_22=_19-_21,_23=this.gradationLineProperties.lineWidth||0;isc.DrawRect.create(this.backgroundBandProperties,{drawPane:this,left:_17,top:_21+_23,width:_18-_9.left-_11*2,height:_22-(_23*2),autoDraw:true})}}});isc.evalBoundary;isc.B.push(isc.A.$103n=function isc_FacetChart__drawAllGradations(_1,_2,_3,_4,_5,_6){this.$127v(_1,_2,_3,_4,_5,_6);var _7=this.$1035();if(_7){var _8=this.$1036().visible;for(var j=_8.length;j--;){var _10=_8[j],_2=_10.gradations,_11=this.$103q(_10),_12=_11+this.gradationTickMarkLength;for(var i=_2.length;i--;){var _14=this.$140m(true,_2[i],_10),_15=(_2[i]==0);isc.DrawLine.create(_15?_10.gradationZeroLineProperties:_10.gradationLineProperties,{drawPane:this,startLeft:_11,startTop:_14,endLeft:_12,endTop:_14,autoDraw:true})}
this.$104o(_10)}}},isc.A.getValueRatio=function isc_FacetChart_getValueRatio(_1,_2,_3,_4,_5){_5=_5||this;_4=_4!=null?_4:_5.logScale;if(isc.isA.Date(_2)&&isc.isA.Date(_3)&&isc.isA.Date(_1)){var _6=_2.getTime(),_7=_3.getTime()-_6;return(_1.getTime()-_6)/_7}else if(!_4){var _7=_3-_2;return(_7!=0?(_1-_2)/_7:0)}else{if(_1==0)return 0;var _8=this.logValue(_3,_5.logBase,_5),_9=_2==0?0:this.logValue(_2,_5.logBase,_5),_10=_8-_9;if(_10==0){return 0}else{return(this.logValue(_1,_5.logBase,_5)-_9)/_10}}},isc.A.getYCoord=function isc_FacetChart_getYCoord(_1,_2){_2=_2||this;var _3=_2.chartType;if(_3=="Radar"||this.isPieChart(_3)){return null}else if(_3!="Scatter"&&_3!="Bubble"&&!this.hasYGradations(_3))
{if(_1==null||!isc.isAn.Object(_1)){return null}else{_1=this.$111k(_1,_2);var _4=this.getDrawnValue(_1,false);return(_4!=null?_4.y:null)}}else{return this.$140m(true,_1,_2)}},isc.A.$111k=function isc_FacetChart__completeCriteria(_1,_2){_2=_2||this;var _3=this.getDataLabelFacet(),_4=this.getFacetValue(_3.id,_1[_3.id]),_5,_6={};if(_4==null){return null}else{_6[_3.id]=_4.id}
if(this.isMultiFacet()){_5=this.getLegendFacet();var _7=_2.chartType,_8=(_7=="Bar"||_7=="Column")&&!this.isStacked(_2),_9=_2.isMultiFacet()&&_8&&(_5.values.length>1);if(_9){var _10=this.getFacetValue(_5.id,_1[_5.id]);if(_10==null){return null}else{_6[_5.id]=_10.id}}else{_6[_5.id]=_5.values[0].id}}
var _11=(this.inlinedFacet!=null&&this.inlinedFacet!=_3&&this.inlinedFacet!=_5?this.inlinedFacet:null);if(_11!=null){var _9=(_11.values.length>1);if(_9){var _12=this.getFacetValue(_11.id,_1[_11.id]);if(_12==null){return null}else{_6[_11.id]=_11.values[0].id}}else{_6[_11.id]=_11.values[0].id}}
return _6},isc.A.$140m=function isc_FacetChart__getValueCoord(_1,_2,_3){_3=_3||this;var _4=_3.chartType;var _5=!_1&&(_4=="Scatter"||_4=="Bubble"),_6=!_5&&!_1&&!this.hasXGradations(),_7=!(_5||_6),_8,_9,_10,_11;if(_5){_8=this.$128a;_9=this.$128b}else if(_6){_10=this.$1068();_8=_10[0].dataValue;_9=_10[1].dataValue}else{_11=_3.gradations;_8=_3.$127t;_9=_3.$1279}
var _12=_1==this.hasXGradations()?this.$181r(_3,true):0;var _13;if(_8==null||_9==null||_8==_9||(_6&&!(_10[0].index<_10[1].index))||(_7&&!_11.length))
{_13=0}else{_13=this.getValueRatio(_2,_8,_9,_3.logScale,_3)}
if(_1){var _14=this.$1359()+_12,_15=this.$136b()-_14-_12;return Math.round(_14+(1-_13)*_15)}else{var _16=this.$1355()+_12,_17=this.$1357()-_16-_12;return Math.round(_16+_13*_17)}},isc.A.getXCoord=function isc_FacetChart_getXCoord(_1,_2){_2=_2||this;var _3=_2.chartType;if(_3=="Radar"||this.isPieChart(_3)){return null}else if(_3!="Scatter"&&_3!="Bubble"&&!this.hasXGradations(_3))
{if(_1==null||!isc.isAn.Object(_1)){return null}else{_1=this.$111k(_1,_2);var _4=this.getDrawnValue(_1,false);return(_4!=null?_4.x:null)}}else{return this.$140m(false,_1,_2)}},isc.A.$140k=function isc_FacetChart__calculateTransforms(){var _1=this.chartType=="Radar",_2=this.hasXGradations(),_3=this.hasYGradations(),_4;if(!_1){var _5=this.$1355(),_6=this.$1357()-_5,_7=this.$1359(),_8=this.$136b()-_7;_4=isc.FacetChart.$140n(_5,_7,_6,_8)}
var _9=this.$1036(),_10=this.$104i();for(var j=0;j<_10;++j){var _12=(j==0?this:_9.all[j-1]),_13=_12.chartType,_14=this.$159w(_12)&&_12.proportional,_15,_16;if(_13=="Scatter"||_13=="Bubble"){var _17=this.$133f(this.getXAxisMetric()),_18=this.$128a,_19=this.$128b,_20=this.$127t,_21=this.$1279;if(_18==null||_19==null){if(_17){_18=_19=new Date()}else{_18=_19=0}}
if(_20==null||_21==null){_20=_21=0}
_15=isc.FacetChart.$140o((_17?isc.FacetChart.$140p(_18,_19):isc.FacetChart.$140q(_18,_19)),(_12.logScale?isc.FacetChart.$140r(_12.logBase,_20,_21):isc.FacetChart.$140q(_20,_21)))}else if(_1){var _22=this.getChartCenter(),_23=this.$1373,_24=this.$1374;var _25,_26;if(_14){_25=0;_26=1}else{_25=this.$127t;_26=this.$1279}
var m=0,b=0;if(_12.logScale){var _29=Math.log(_12.logBase),_30=(_25==0?0:Math.log(_25)/_29),_31=(_26==0?0:Math.log(_26)/_29),_32=Math.max(0,_31-_30);if(_32!=0){m=(_24-_23)/_29/_32;b=_23-_30*(_24-_23)/_32}
_16={$140s:true,$140t:m,$1270:b,transform:function(_43){if(_43<=0){return 0}else{return this.$140t*Math.log(_43)+this.$1270}}}}else{var _33=_26-_25;if(_33!=0){m=1/_33;b=-_25/_33}
_16={$140u:true,$140t:m,$1270:b,transform:function(_43){return this.$140t*_43+this.$1270}}}
_15={$140v:true,$140w:_22,$140x:_16,transform:function(_43,_44){return isc.GraphMath.polar2screen(_44,this.$140x.transform(_43),this.$140w,true)}}}else if(_2||_3){var _25,_26;if(_14){_25=0;_26=1}else{_25=_12.$127t;_26=_12.$1279}
if(_25==null||_26==null){_25=_26=0}
var _34=(_12.logScale?isc.FacetChart.$140r(_12.logBase,_25,_26):isc.FacetChart.$140q(_25,_26));var _35=null;if(!_2){var _36=this.$1068(),_25=_36[0].dataValue,_26=_36[1].dataValue,_37=!(_36[0].index<_36[1].index),_38=this.$179b(_37);if(_38=="time"){if(_37){_25=_26=new Date()}
_35=isc.FacetChart.$140p(_25,_26)}else if(_38=="numeric"){if(_37){_25=_26=0}
_35=isc.FacetChart.$140q(_25,_26)}}
if(_35==null){var _36=this.$1068(),_39=_36[0].index,_40=_36[1].index,_41=_40-_39+1;_35=isc.FacetChart.$140q(0,_41-1)}
if(_2){_15=isc.FacetChart.$140o(_34,_35)}else{_15=isc.FacetChart.$140o(_35,_34)}}
if(!_1){if(_15.$140y){_15.leftMultiply(_4)}else{_15={$140v:true,$140z:_4,$1400:_15,transform:function(_43,_44){var w=this.$1400.transform(_43,_44);return this.$140z.transform(w[0],w[1])},transformX:function(_43){return this.$140z.transformX(this.$1400.transformX(_43))},transformY:function(_43){return this.$140z.transformY(this.$1400.transformY(_43))}}}
_15=isc.FacetChart.$1401(_15)}
_12.$140l=_15;if(_1){_12.$140x=_16}}},isc.A.$1547=function isc_FacetChart__getDataLabels(){if(this.$106x)return this.$106x;if(this.chartType=="Scatter"||this.chartType=="Bubble"){return(this.$106x=this.getSecondGradations())}
var _1=this.getOrderedData(),_2=this.getDataLabelFacet(),_3=new Array(_1.length);for(var i=0;i<_1.length;i++){var _5=_1[i];_3[i]=this.$1811(_5.facetValueId,_5.title,_2)}
return this.$106x=_3},isc.A.getDataLabelHeight=function isc_FacetChart_getDataLabelHeight(){return this.measureLabel("Xy",this.dataLabelProperties).height},isc.A.getXLabelsHeight=function isc_FacetChart_getXLabelsHeight(_1){if(!_1&&this.xLabelsHeight!=null)return this.xLabelsHeight;if(this.chartType=="Radar"||this.isPieChart()||this.showInlineLabels){return(this.xLabelsHeight=0)}
if(this.hasXGradations()){return this.getGradationsHeight()+this.getValueAxisLabelHeight()}
var _2=0;if(!this.showDataLabels){_2=0}else if(this.$116c()){_2=this.$1548()}else{_2=this.getDataLabelHeight()}
_2+=this.getDataAxisLabelHeight();return(this.xLabelsHeight=_2)},isc.A.getYLabelsWidth=function isc_FacetChart_getYLabelsWidth(_1){if(!_1&&this.yLabelsWidth!=null)return this.yLabelsWidth;var _2=0;if(this.hasYGradations()){var _3=this.getGradationsWidth();if(this.$104g()){_2=_3+this.getValueAxisLabelHeight()}else{_2=this.$104f}}else{_2=((this.showDataLabels?this.$1548():0)+this.getDataAxisLabelHeight())}
return(this.yLabelsWidth=_2)},isc.A.$1548=function isc_FacetChart__measureDataLabels(_1,_2){return this.$16ac(this.$1547(),"width",this.dataLabelProperties)},isc.A.$16ac=function isc_FacetChart__measureLabels(_1,_2,_3){var _4=0;for(var i=0,_6=_1.length;i<_6;++i){var _7=this.measureLabel(_1[i],_3)[_2];_4=Math.max(_4,_7)}
return _4},isc.A.$107a=function isc_FacetChart__getGradationLabelHeight(_1){_1=_1||this;return this.measureLabel("Xy",_1.gradationLabelProperties).height},isc.A.$1035=function isc_FacetChart__hasExtraAxes(){return this.$1038!=null},isc.A.$1039=function isc_FacetChart__getExtraAxisMetrics(){return this.$1038},isc.A.$1036=function isc_FacetChart__getExtraAxisSettings(){return this.$104a},isc.A.$103u=function isc_FacetChart__getFixedFacetValue(_1){var _2=this.getLegendFacet(),_3=_2&&_2.id,_4=_1.fixedFacetValue;if(_2==null){return null}else if(isc.isA.String(_4)||isc.isA.Number(_4)){return this.getFacetValue(_3,_4)}else if(isc.isA.Object(_4)){var _5=this.getFacetValue(_3,_4.id);return(_5==_4?_5:null)}else{return null}},isc.A.$103p=function isc_FacetChart__getValueAxisGradationLabelLeft(_1){var _2=this.$1036(),_3=this.$103v(_1);if(_1==this){_3+=this.$104f-this.$85f}else{var _4=this.$104m(_1),_5=(_4&&this.$104n(_1).lineWidth)||0;if(_2.right.indexOf(_1)!=-1){_3+=_5+this.gradationTickMarkLength+this.tickMarkToValueAxisMargin}else{_3+=_1.$104f-_1.$85f-_5
-this.gradationTickMarkLength-this.tickMarkToValueAxisMargin}}
return _3},isc.A.$103q=function isc_FacetChart__getValueAxisGradationLineLeft(_1){var _2=this.$1036(),_3=this.$103v(_1),_4=this.$104m(_1),_5=(_4&&this.$104n(_1).lineWidth)||0;if(_2.left.indexOf(_1)!=-1){_3+=_1.$104f-_5-this.gradationTickMarkLength}else{_3+=_5}
return _3},isc.A.$104p=function isc_FacetChart__getValueAxisLineLeft(_1){var _2=this.$104n(_1).lineWidth||0,_3=Math.floor(_2/2),_4=this.$103v(_1),_5=this.$1036();if(_5.left.indexOf(_1)!=-1){_4+=_1.$104f+(_3-_2)}else{_4+=_3}
return _4},isc.A.$103v=function isc_FacetChart__getValueAxisLeft(_1){var _2=this.$1036();var _3;if(_1==this){_3=this.getChartLeft()-this.$1236-this.$104f}else{var _4=_2.left,_5=_2.right,_6=_4.findIndex(_1),_7=_5.findIndex(_1),_8=this.valueAxisMargin;if(_7==-1){_3=(_4.length-1-_6)*_8;for(var i=_4.length;--i>_6;){_3+=_4[i].$104f}}else if(_6==-1){_3=this.getChartLeft()+this.getChartWidth()+this.$1237+_7*_8;for(var i=0;i<_7;++i){_3+=_5[i].$104f}}}
return _3},isc.A.$104o=function isc_FacetChart__drawValueAxisLine(_1){var _2=this.$104m(_1);if(_2){var _3=this.getChartTop(),_4=this.getChartHeight(),_5=this.$104p(_1),_6=this.$104n(_1);isc.DrawLine.create(_6,{autoDraw:true,drawPane:this,startLeft:_5,startTop:_3,endLeft:_5,endTop:_3+_4})}},isc.A.$104i=function isc_FacetChart__getNumValueAxes(){return 1+(this.$1035()?this.$1036().all.length:0)},isc.A.$104g=function isc_FacetChart__hasSideValueAxisLabels(){if(!this.$1035()||(this.hasYGradations()&&!this.$1057)){return true}else{var _1=this.$1036();return(_1.left.length==0&&_1.right.length==1)}},isc.A.$104e=function isc_FacetChart__getValueAxisLabelsHeight(_1){if(!_1&&this.$104j!=null){return this.$104j}
var _2=0;if(!this.$104g()){var _3=this.$1036(),_4=this.$104i();for(var j=0;j<_4;++j){var _6=(j==0?this:_3.all[j-1]);if(this.shouldShowValueAxisLabel(_6)){var _7=this.measureLabel(_6.valueTitle,_6.valueAxisLabelProperties).height;_2=Math.max(_2,_7)}}}
return(this.$104j=_2)},isc.A.$104m=function isc_FacetChart__shouldShowValueAxisLine(_1){if(_1==this||_1.showAxis==false){return false}
var _2=this.$1036(),_3=_1.showAxisLine;return(_2.right.length==0||_1!=_2.right[0])&&(_3!=null?_3:this.showChartRect)},isc.A.$104n=function isc_FacetChart__getValueAxisLineProperties(_1){if(_1.axisLineProperties!=null){return _1.axisLineProperties}else{var _2={};if(isc.isAn.Object(this.chartRectProperties)){var _3=this.chartRectProperties;if(_3.lineCap!=null)_2.lineCap=_3.lineCap;if(_3.lineColor!=null)_2.lineColor=_3.lineColor;if(_3.lineOpacity!=null)_2.lineOpacity=_3.lineOpacity;if(_3.linePattern!=null)_2.linePattern=_3.linePattern;if(_3.lineWidth!=null)_2.lineWidth=_3.lineWidth}
return _2}},isc.A.$104b=function isc_FacetChart__createExtraAxisLegendSwatch(_1,_2,_3,_4,_5,_6){var _7=_5,_8=_5,_9=_1.chartType,_10=[];if(_9=="Column"){var _11=2;var _12=3,_13=5;var _14=this.$103i;var _15=this.$107b(_2,_1),_16=this.$99i(_2,null,null,_1);var _17=Math.floor((_7+_11)/(_12+_11)),_18=Math.floor((_7+_11)/(_13+_11)),_19,_20,_21;for(_19=_17;_19>=_18;--_19){_20=Math.min((_7+_11)/_19)-_11;_21=_7+_11-_19*(_20+_11);if(_21%2==0)break}
var _22=_3+Math.max(_21/2);for(var i=0;i<_19;++i){var _24=Math.round(_14[i%_14.length]*_8);var _25=isc.addProperties({},this.barProperties,{drawPane:this,autoDraw:false,width:_20,height:_24,left:_22,top:_4+_8-_24},_6);if(!this.useAutoGradients){_25.fillColor=_15}else{_25.fillGradient=_16}
_10.push(isc.DrawRect.create(_25));_22+=_20+_11}}else if((_9=="Area"||_9=="Line")&&this.isFilled(_1)){var _26=1,_27=3;var _14=this.$103i;var _15=this.$107b(_2,_1),_16=this.$99i(_2,null,null,_1);var _28=Math.floor((_7+1)/(_26+1)),_29=Math.floor((_7+1)/(_27+1)),_30,_31,_21;for(_30=_28;_30>=_29;--_30){_31=Math.min((_7+1)/_30)-1;_21=_7+1-_30*(_31+1);if(_21%2==0)break}
var _32=[];var x=_3+Math.max(_21/2);for(var i=0;i<_30;++i){var _34=_14[i%_14.length];_32.push([isc.DrawItem.$1503(x),isc.DrawItem.$1503(_4+_8*(1-_34))]);x+=_31+1}
var _35=_32.duplicate();_35.add([_32.last()[0],_4+_8]);_35.add([_32.first()[0],_4+_8]);_10.addList([this.drawDataLineSegment(_32,0,_32.length,isc.addProperties({lineColor:_15},_6),_1,false,false),this.$120t(_35,isc.addProperties({lineColor:_15,fillColor:!this.useAutoGradients?_15:null,fillGradient:this.useAutoGradients?_16:null},_6),false,false,_1)])}else if(_9=="Area"||_9=="Line"){var y=_4+Math.round(_8/2),_37=[_3,y],_38=[_3+Math.round(_7/2),y],_39=[_3+_7,y],_40=Math.min(_1.dataPointSize,_5);_10.push(this.drawDataLineSegment([_37,_39],0,2,isc.addProperties({lineColor:this.$107b(_2,_1),shadow:null},_6),_1,false,false));if(this.$135z(_1)){_10.push(this.drawDataPoint(_38,_2,_40,null,null,_1,false,false))}}
return isc.DrawGroup.create(this.legendSwatchProperties,{drawPane:this,autoDraw:true,drawItems:_10,left:_3,top:_4,width:_7,height:_8})},isc.A.$104z=function isc_FacetChart__getMetricSettingsDefaults(){var _1={multiFacet:this.isMultiFacet(),chartType:"Line"};var _2=["dataLineProperties","dataOutlineProperties","dataPointProperties","dataPointSize","dataShapeProperties","decimalPrecision","formatAxisValue","formatDataValue","gradationLabelProperties","gradationLineProperties","gradationZeroLineProperties","logBase","logGradations","logScale","proportionalAxisLabel","shadowProperties","showDataPoints","showShadows","useLogGradations","valueAxisLabelProperties","valueLineProperties"];for(var i=0,_4=_2.length;i<_4;++i){var _5=_2[i];_1[_5]=isc.FacetChart.getInstanceProperty(_5)}
return _1},isc.A.$1037=function isc_FacetChart__initExtraAxes(){var _1=this.extraAxisMetrics,_2=this.extraAxisSettings;if(!(_1!=null&&isc.isAn.Array(_1)&&!_1.isEmpty())){this.$1038=null;this.$104a=null;return}
if(_2==null||!isc.isAn.Array(_2)){_2=[]}
this.$1038=_1;this.$104a={left:[],right:[],all:_2,visible:[],hidden:[]};var _3,_4;if(!this.isMultiFacet()){_3=_4=(this.chartType=="Column"?this.getDataLabelFacet().values.length:1)}else{_3=_4=this.getLegendFacet().values.length}
var _5=_1.length,_6=0,_7=_5>0&&this.$104z(),_8=this.getLegendFacet(),_9=this.$111a();for(var i=0;i<_5;++i){var j=i-_6,_12=_1[j],_13,_14=!(isc.isA.String(_12)&&(_9?this.getFacetValue(_9.id,_12)!=null:(_12==this.valueProperty)));if(!_14){_13=_2[j]=isc.addDefaults(_2[j]||{},_7);var _15=_13.chartType;if(_15==null){_15=_13.chartType=(i==0&&this.chartType!="Column"?"Column":"Line")}
if(_15=="Radar"||this.isPieChart(_15)){_14=true;this.logWarn("The MetricSettings of metric value axis number "+i+" in FacetChart \""+this.getID()+"\" has a non-rectangular chart type, which is not allowed.  Skipping this extra value axis.")}else if(!this.hasYGradations(_15)){_14=true;this.logWarn("The MetricSettings of metric value axis number "+i+" in FacetChart \""+this.getID()+"\" has a chart type which does not use a vertical value axis and thus is not supported as an extra value axis.  Skipping this extra value axis.")}}
var _16,_17;if(!_14){var _16=!(this.isMultiFacet()&&_13.multiFacet),_17=_16?this.$103u(_13):null;_16&=(!this.isMultiFacet()||_17!=null);var _18={};if(_9!=null){_18[_9.id]=_12}
if(_17!=null&&_8!=null&&_8!=_9){_18[_8.id]=_17.id}
var _19=this.getValue(_18,true),_20=true;for(var l=(_19!=null?_19.length:0);_20&&l--;){_20=!isc.isA.Number(_19[l])}
_14=_20}
if(_14){_1.removeAt(j);_2.removeAt(j);++_6;continue}
var _22=_13.filled;_13.$103o=_12;_13.$103x=!_16;_13.$1029=_17;if(_13.showAxis===false){this.$104a.hidden.push(_13)}else{var k=this.$104a.visible.length;this.$104a[(k%4<2)?"right":"left"].push(_13);this.$104a.visible.push(_13)}
var _24=this.$1046,_25=isc.isAn.Array(_13.dataColors)||(isc.isA.Function(_13.getDataColor)&&_13.getDataColor!=_24.getDataColor),_26=isc.isAn.Array(_13.dataGradients)||(isc.isA.Function(_13.getDataGradient)&&_13.getDataGradient!=_24.getDataGradient);isc.addDefaults(_13,_24);isc.addProperties(_13,{$103y:this,$103z:_25,$1031:_26,$1030:_3,$1032:_4,isMultiFacet:function(){return this.$103x},getXCoord:function(_60){var _27=this.$103y;return _27.getXCoord.apply(_27,[_60,this])},getYCoord:function(_60){var _27=this.$103y;return _27.getYCoord.apply(_27,[_60,this])},getGradations:function(){var _27=this.$103y;return _27.getGradations.apply(_27,[this])},setChartType:function(_15){var _27=this.$103y;return _27.setChartType.apply(_27,[_15,this])},setStacked:function(_60){var _27=this.$103y;return _27.setStacked.apply(_27,[_60,this])},setFilled:function(_60){var _27=this.$103y;return _27.setFilled.apply(_27,[_60,this])},setProportional:function(_60){var _27=this.$103y;return _27.setProportional.apply(_27,[_60,this])},setDataColors:function(_60){var _27=this.$103y;return _27.setDataColors.apply(_27,[_60,this])}});if(!_25){if(_16){_3+=(_15=="Column"?this.getDataLabelFacet().values.length:1)}else{_3+=this.getLegendFacet().values.length}}
if(!_26){if(_16){_4+=(_15=="Column"?this.getDataLabelFacet().values.length:1)}else{_4+=this.getLegendFacet().values.length}}}
if(_1.isEmpty()){this.$1038=null;this.$104a=null;return}
var _28=this.$1065(),_29=_28&&_28.values[0],_30=_29&&_29.id;_5=_1.length;for(var j=0;j<_5;++j){var _12=_1[j],_13=_2[j];if(_13.matchGradations!=null){var k=_1.indexOf(_13.matchGradations),_31=(k!=-1?_2[k]:(_13.matchGradations==_30?this:null));if(_31!=null&&_13!=_31&&(_13.$124a==null||_13.$124a!=_31.$124a))
{var _32=(_13.logScale!=null),_33=(_31.logScale!=null),_34=null,_35=true;if(_32^_33){if(_32){_35=_13.logScale;_34=_31}else{_35=_31.logScale;_34=_13}}else if(_32&&_13.logScale!=_31.logScale){this.logWarn("The extra axis settings for metric '"+_13.$103o+"' "+(_13.logScale?"has":"does not have")+" a log scale, whereas the extra axis settings specified by its matchGradations property "+(_31.logScale?"has":"does not have")+" a log scale.  Assuming a log scale for the extra value axis for metric '"+(_13.logScale?_31.$103o:_13.$103o)+"'.");_35=true;_34=(_13.logScale==_35?_31:_13)}
if(_34!=null){_34.logScale=_35;if(_34.$124a!=null){for(var l=_34.$124a.length;l--;){_34.$124a[l].logScale=_35}}}
var _36=(_13.logBase!=null),_37=(_31.logBase!=null),_38=2;_34=null;if(_36^_37){if(_36){_38=_13.logBase;_34=_31}else{_38=_31.logBase;_34=_13}}else if(_36&&_13.logBase!=_31.logBase){_38=Math.max(_13.logBase,_31.logBase);this.logWarn("The extra axis settings for metric '"+_13.$103o+"' uses logBase "+_13.logBase.toString()+" but the extra axis settings specified by its matchGradations property uses logBase "+_31.logBase.toString()+".  Assuming a logBase of "+_38.toString()+" for both extra value axes.");_34=(_13.logBase==_38?_31:_13)}
if(_34!=null){var _39=(_34.$124a||[_34]);for(var l=_39.length;l--;){if(isc.isAn.Array(_39[l].logGradations)){var _40=_39[l].logBase,_41=_39[l].logGradations,_42=[1];for(var m=0;m<_41.length;++m){var _44=_41[m];if(isc.isAn.Number(_44)&&1<_44&&_44<_40)
{_42.push(_44*_38/_40)}}
_39[l].logGradations=_42}
_39[l].logBase=_38}}
var _45=this.$127s(true,_13),_46=this.$127s(true,_31),_47=Math.max(_45,_46);_34=null;if(_45<_47){_34=_13}else if(_46<_47){_34=_31}
if(_34!=null){if(_34.$124a!=null){for(var l=_34.$124a.length;l--;){_34.$124a[l].minDataSpreadPercent=_47}}else{_34.minDataSpreadPercent=_47}}
var _48=(_13.axisStartValue!=null),_49=(_31.axisStartValue!=null),_50=null;_34=null;if(_48){if(_49){_50=Math.min(_13.axisStartValue,_31.axisStartValue);if(_50<_13.axisStartValue){_34=_13}else if(_50<_31.axisStartValue){_34=_31}}else{_50=_13.axisStartValue;_34=_31}}else if(_49){_50=_31.axisStartValue;_34=_13}
if(_34!=null){_34.axisStartValue=_50;if(_34.$124a!=null){for(var l=_34.$124a.length;l--;){_34.$124a[l].axisStartValue=_50}}}
var _51=(this.$159w(_13)&&_13.proportional),_52=(this.$159w(_31)&&_31.proportional);_34=null;if(_51&&!_52){_34=_13}else if(!_51&&_52){_34=_31}
if(_34!=null){if(_34.$124a!=null){for(var l=_34.$124a.length;l--;){_34.$124a[i].proportional=false}}else{_34.proportional=false}}
var _53=(_13.proportionalAxisTitle!=_24.proportionalAxisTitle&&isc.isA.String(_13.proportionalAxisTitle)),_54=(_31.proportionalAxisTitle!=_24.proportionalAxisTitle&&isc.isA.String(_31.proportionalAxisTitle)),_55=null;_34=null;if(_54){_55=_31.proportionalAxisTitle;_34=_13}else if(_53){_55=_13.proportionalAxisTitle;_34=_31}
if(_34!=null){_34.proportionalAxisTitle=_55;if(_34.$124a!=null){for(var l=_34.$124a.length;l--;){_34.$124a[l].proportionalAxisTitle=_55}}}
var _56=[_13,_31];_56.sortUnique=true;if(_13.$124a!=null){_56.addAll(_13.$124a)}
if(_31.$124a!=null){_56.addAll(_31.$124a)}
_13.$124a=_31.$124a=_56}}}
var _57=this.$104a.groups=[];_57.sortUnique=true;for(var j=0;j<_5;++j){var _58=_2[j].$124a;if(_58==null){_57.add([_2[j]])}else{_57.add(_58);if(_58.contains(this)){this.$104a.mainGroup=_58}}}
var _59=this.$104a.mainGroup;if(_59==null){_59=this.$104a.mainGroup=[this]}else{var _59=this.$104a.mainGroup;this.$104a.groups.remove(_59)}
this.$104a.groups.unshift(_59);_59.remove(this);_59.unshift(this)});isc.evalBoundary;isc.B.push(isc.A.$141m=function isc_FacetChart__cloneExtraAxisSettings(){var _1=this.extraAxisSettings;if(_1==null){return null}else{var _2=new Array(_1.length);for(var i=_1.length;i--;){var _4=_1[i];if(_4!=null){_2[i]=_4.$124a;_4.$124a=null}}
var _5=isc.clone(_1);for(var i=_1.length;i--;){var _6=_2[i];if(isc.isAn.Array(_6)){_1[i].$124a=_6;var _7=new Array();for(var j=_6.length;j--;){var _9=_1.indexOf(_6[j]);if(_9>=0){_7[_7.length]=_5[_9]}}
_5[i].$124a=_7}}
return _5}},isc.A.$1049=function isc_FacetChart__getValueAxisIndex(_1){if(_1==this){return 0}else{var _2=this.$1036(),_3=_2.left.indexOf(_1);if(_3!=-1){_3=-(1+_3)}else{_3=_2.right.indexOf(_1);_3=1+_3}
return _3}},isc.A.changeValueAxisPositions=function isc_FacetChart_changeValueAxisPositions(_1){if(!this.$1035()){return}
var _2=this.$1036();var _3=isc.FacetChart.$105b,_4=isc.FacetChart.$105c,_5=isc.isA.Array(_1)&&_1.length%2==0,_6=-_2.left.length,_7=_2.right.length,_8,_9;for(var i=0,_11=_1.length;i<_11;i+=2){var _12=_1[i],_13=_1[i+1];_5=isc.isA.Number(_12)&&isc.isA.Number(_13)&&Math.round(_12)==_12&&Math.round(_13)==_13&&_12!=0&&_13!=0&&_6<=_12&&_12<=_7&&_3(_1,_12,i+2)==-1&&_4(_1,_13,i+3)==-1;_8=i!=0?Math.min(_8,_13):_13;_9=i!=0?Math.max(_9,_13):_13}
var _14,_15;if(_5){_14=Math.min(_6,_8);_15=Math.max(_7,_9);while(_14<=_15&&!(_4(_1,_14)!=-1||_3(_1,_14)==-1)){++_14}
while(_15>_14&&!(_4(_1,_15)!=-1||_3(_1,_15)==-1)){--_15}
_5=(_7-_6==_15-_14)&&_14<=0&&0<=_15}
if(!_5){this.logWarn("An invalid indexMap argument was passed to FacetChart.changeValueAxisPositions().");return}
var _16=[],_17=[],_18=[];for(var i=_6;i<=_7;++i){if(i==0){continue}
var j=_3(_1,i),_12=j!=-1?_1[j]:i,_13=j!=-1?_1[j+1]:i,_20;if(_12>0){_20=_2.right[_12-1]}else if(_12<0){_20=_2.left[-_12-1]}
if(_13>0){_18[_13-1]=_20}else{_17[-_13-1]=_20}}
_2.left=_17;_2.right=_18;this.$105a(false)},isc.A.$105d=function isc_FacetChart__hoverValueAxisLabel(_1){if(_1!=this.$105e){this.$105f();var _2=_1.$1048;_1.$105g=_2.lineColor;_2.lineColor=this.$1047;_2.erase();_2.setDrawPane(this);_2.draw();this.$105e=_1}},isc.A.$105f=function isc_FacetChart__unhoverValueAxisLabel(){var _1=this.$105e;if(_1!=null){var _2=_1.$1048;_2.lineColor=_1.$105g;_2.erase();_2.setDrawPane(this);_2.draw();delete this.$105e}},isc.A.getChartCenter=function isc_FacetChart_getChartCenter(_1){_1=_1||this.getChartRect();return[Math.round(_1.left+(_1.width/2)),Math.round(_1.top+(_1.height/2))]},isc.A.getChartRadius=function isc_FacetChart_getChartRadius(_1){_1=_1||this.getChartRect();var _2=0,_3=0;if(this.showDataLabels){var _4=this.radialLabelOffset;if(this.isPieChart()&&this.isStacked())_4+=this.pieLabelLineExtent;_2=2*(this.$1548()+_4);_3=2*(this.getDataLabelHeight()+_4)}
var _5=this.getChartRectLineWidth(),_6=Math.min(_1.width-_2,_1.height-_3),_7=Math.round((_6-2*_5)/2);return(this.maxRadius=_7)},isc.A.$140j=function isc_FacetChart__calculateMinMaxAndChartRadii(){var _1=this.getChartRect(),_2=this.getChartRadius(_1);var _3=this.$159w(this)&&this.proportional,_4=this.$136d(),_5,_6;if(_4!=null){var _7=1e-6,_8=(this.maxDataPointSize-this.minDataPointSize),_9=this.$1351(),_10=this.getMinValue(_4,false,this,false,false,_9),_11=this.getMaxValue(_4,false,this,false,false,_9),_12=this.$1352(this),_13=2*_2,_14=_13;var _15=this.getOrderedData(),_16=(this.isMultiFacet()?_15[0].series.length:1),_17=this.isMultiFacet()&&this.isStacked(this),_18=this.$1068(),_19=_18[0].index,_20=_18[1].index,_21=_20-_19+1,_22=this.$127t,_23;for(var i=0;i<_16;++i){var _25,_26,_27=null;if(this.isMultiFacet()){var _28=_15.getProperty("series").getProperty(i);_26=_28.getProperty("record");_25=_28.getProperty("value");_27=i}else{_26=_15.getProperty("record");_25=_15.getProperty("value")}
if(_3){_23=this.$141n(_25,_23)}else if(_17){_23=this.addValues(_25,_23)}else{_23=_25}
var _29=this.pointShapes[(_12?(i%this.pointShapes.length):0)],_30=(_29==this.$126d||_29==this.$126e?Math.SQRT2:1.0);for(var j=0,k=_19;j<_21;++j,++k){var _33=_23[k],_34=(!isc.isA.Number(_25[k])||_23[k]<_22);if(!_34){var _35=this.getValueRatio(_26[k][_4],_10,_11,_9,this),_36=Math.round(this.minDataPointSize+_8*_35),_37=this.getValueRatio(_33),_38=Math.abs(1-2*_37);if(_38>=_7){_14=Math.min(_14,(_13-2*_30*_36)/_38)}}}}
_5=Math.ceil((_13-_14)/4);_6=Math.floor((_13+_14)/4)}else{_5=0;_6=_2}
this.$1373=_5;this.$1374=_6;this.$140i=_2},isc.A.drawRadarGradations=function isc_FacetChart_drawRadarGradations(_1){_1=_1||this.gradations;var _2=this.$140i,_3=this.$1373,_4=this.$1374;isc.DrawOval.create(this.radarBackgroundProperties,{drawPane:this,autoDraw:true,centerPoint:this.getChartCenter(),radius:_2});var _5=this.$159w(this)&&this.proportional,_6=this.getChartCenter(),_7=this.showRadarGradationLabels,_8=_7&&this.radarGradationLabelOffset,_9=_7&&(this.getDataLabelHeight()/2);for(var i=0;i<_1.length;i++){var _11=(_3+(_4-_3)*this.getValueRatio(_1[i],this.$127t,this.$1279));if(_11>0){isc.DrawOval.create(_1[i]==0?this.gradationZeroLineProperties:this.gradationLineProperties,{drawPane:this,autoDraw:true,centerPoint:_6,radius:_11})}
if(_7){var _12;if(_5){_12=this.formatProportion(_1[i],true)}else{_12=this.formatAxisValue(_1[i],true)}
this.drawLabel(_6[0]+_8,_6[1]-_11-_9+_8,_12,this.gradationLabelProperties)}}},isc.A.drawRadarData=function isc_FacetChart_drawRadarData(_1,_2,_3){var _4;_1=_1||this.getChartRect();_3=_3||this.getOrderedData();_2=_2||this.getMaxGradation();var _5=this.getDataLabelFacet();if(this.$107c()){this.drawRadarSet(_5);return}
var _6=this.getChartCenter();var _7=360/_5.values.length;var _8=this.showDataLabels;for(var i=0;i<_3.length;i++){var _10=_7*i,_11=isc.GraphMath.polar2screen(_10,this.maxRadius,_6,true);this.drawValueLine(_6,_11);if(_8){var _12=this.$1811(_3[i].facetValueId,_3[i].title,_5),_13={id:_3[i].facetValueId,title:_12};this.$1549(_6,this.maxRadius,_10,_12,_13)}}
this.$127x(_4,_4,_4,_4,this,true)},isc.A.drawRadarSet=function isc_FacetChart_drawRadarSet(_1){var _2=_1.values,_3=_2.length;var _4=Math.round(360/_3),_5=Math.round(_4/2);var _6=this.showDataLabels,_7=this.getChartCenter();for(var i=0;i<_3;++i){var _9=_2[i];var _10=(i*_4);var _11=isc.GraphMath.polar2screen(_10,this.maxRadius,_7,true);this.drawValueLine(_7,_11);if(_6){var _12=_9.title||_9.id,_13=_10+_5;this.$1549(_7,this.maxRadius,_13,_12)}
var _14={};_14[_1.id]=_9.id;var _15=this.getDataRecord(_14);if(_15==null)return;this.drawPointsAcrossAngle(_15,_10+this.angleMargin,_10+_4-this.angleMargin)}},isc.A.drawPointsAcrossAngle=function isc_FacetChart_drawPointsAcrossAngle(_1,_2,_3){var _4=Math.round((_3-_2)/_1.length),_5=this.getChartCenter(),_6=this.isStacked(this),_7=this.getMaxValue(null,false,this,_6,false,false),_8,_9,_10;var _11=this.$1065();if(_11){_9=_11.values[1].id;_8=_11.values[0].id;_10=this.getMaxValue(_9)}
for(var i=0;i<_1.length;i++){var _13=_1[i];var _14,_15=this.dataPointSize;if(_11){_14=parseFloat(_13[_8]);var _16=parseFloat(_13[_9]);_15=Math.max(this.minDataPointSize,Math.ceil((_16/_10)*this.maxDataPointSize))}else{_14=_13[this.getDefaultMetric()]}
var _17=Math.round((_14/_7)*this.maxRadius);var _18=isc.GraphMath.polar2screen(_2+(i*_4),_17,_5,true);this.drawDataPoint(_18,0,_15,_13,_14,null,null,true)}},isc.A.$1549=function isc_FacetChart__drawRadialLabel(_1,_2,_3,_4,_5){var _6=this.$100k(_1,_2,_3,_4,this.dataLabelProperties);var _7=this.drawLabel(_6[0],_6[1],_4,this.dataLabelProperties);this.$129o(_7,_5)},isc.A.$100k=function isc_FacetChart__getRadialLabelCoordinates(_1,_2,_3,_4,_5){var _6=isc.GraphMath.polar2screen(_3,_2+this.radialLabelOffset,_1,true);var _7=this.measureLabel(_4,_5);if(_3>=360)_3-=360;if(_3>180&&_3<=360){_6[0]-=_7.width}
if((_3>=0&&_3<90)||(_3>270&&_3<=360)){_6[1]-=_7.height}
var _8=isc.GraphMath.angleDifference(0,_3),_9=isc.GraphMath.angleDifference(_3,180),_10=isc.GraphMath.angleDifference(90,_3),_11=isc.GraphMath.angleDifference(_3,270),_12=Math.min(Math.abs(_8),Math.abs(_9)),_13=Math.min(Math.abs(_11),Math.abs(_10));if(_12<=20){var _14=Math.abs(_8)==_12?_8:_9,_15=_14==_12?1:-1,_16=_15*(_7.width/2),_17=1-(_12/20),_18=Math.round(_17*_16);_6[0]-=Math.round(_17*_16)}else if(_13<=20){var _14=Math.abs(_11)==_13?_11:_10,_15=_14==_13?1:-1,_16=_15*(_7.height/2),_17=1-(_13/20),_18=Math.round(_17*_16);_6[1]-=_18}
return[_6[0],_6[1]]},isc.A.formatAxisValue=function isc_FacetChart_formatAxisValue(_1,_2){if(isc.isA.Number(_1)){return isc.NumberUtil.toUSString(_1,0,1,this.decimalPrecision,null,null)}else if(isc.isA.Date(_1)){return isc.FacetChart.$177h(_1)}else{return _1}},isc.A.formatFacetValueId=function isc_FacetChart_formatFacetValueId(_1,_2){if(isc.isA.Number(_1)){return isc.NumberUtil.toUSString(_1,0,1,this.decimalPrecision,null,null)}else if(isc.isA.Date(_1)){return isc.FacetChart.$177h(_1)}else{return _1}},isc.A.$1811=function isc_FacetChart__formatFacetValueId(_1,_2,_3){if(_2!=_1&&_2!=null)return _2;if(isc.isA.String(_1)&&!this.formatStringFacetValueIds)return _1;return isc.isAn.Object(_3)?this.formatFacetValueId(_1,_3):this.formatAxisValue(_1,_3)},isc.A.formatProportion=function isc_FacetChart_formatProportion(_1,_2){if(!isc.isA.Number(_1)){return _1}else{return isc.NumberUtil.$141e(_1,1,0,this.decimalPrecision,null,null)}},isc.A.formatDataValue=function isc_FacetChart_formatDataValue(_1){if(!isc.isA.Number(_1)){return _1}else{return isc.NumberUtil.toUSString(_1,0,1,this.decimalPrecision,null,null)}},isc.A.formatPointSizeValue=function isc_FacetChart_formatPointSizeValue(_1){if(!isc.isA.Number(_1)){return _1}else{return isc.NumberUtil.toUSString(_1,0,1,this.decimalPrecision,null,null)}},isc.A.formatColorScaleValue=function isc_FacetChart_formatColorScaleValue(_1){if(!isc.isA.Number(_1)){return _1}else{return isc.NumberUtil.toUSString(_1,0,1,this.decimalPrecision,null,null)}},isc.A.getOrderedData=function isc_FacetChart_getOrderedData(_1){if(this.orderedData&&!_1)return this.orderedData;if(this.chartType=="Scatter"||this.chartType=="Bubble"){var _2=this.getLegendFacet(),_3;if(_2!=null){_3=new Array(_2.values.length);for(var j=0;j<_2.values.length;++j){var _5=_2.values[j],_6={};_6[_2.id]=_5.id;var _7=this.getDataRecord(_6,true),_8=_3[j]={facetValueId:_5.id,title:_5.title||_5.id},_9=_8.series=new Array(_7.length);for(var i=_7.length;i--;){_9[i]={record:_7[i]}}}}else{var _7=this.getDataRecord({},true);_3=new Array(_7.length);for(var i=_7.length;i--;){_3[i]={record:_7[i]}}}
this.orderedData=_3;return _3}
var _3=this.orderedData=[],_11=this.$107c(),_12=this.getDataLabelFacet()||this.getLegendFacet();var _13=_12.values,_14={};if(this.isMultiFacet()){var _15=this.getLegendFacet(),_16=_15.values;for(var i=0;i<_13.length;i++){var _6={};_6[_12.id]=_13[i].id;var _8={title:_13[i].title||_13[i].id,facetValueId:_13[i].id,series:[]}
_3.add(_8);for(var j=0;j<_16.length;j++){var _17=_16[j];var _18={facetValueId:_16[j].id,title:_16[j].title||_16[j].id};_8.series.add(_18);_6[_15.id]=_16[j].id;_18.record=this.getDataRecord(_6,_11);_18.value=this.getValueFromRecord(_18.record,_6,_11)}}}else{var _6={};for(var i=0;i<_13.length;i++){var _17=_13[i];var _18={title:_17.title||_17.id,facetValueId:_17.id};_3.add(_18);_6[_12.id]=_13[i].id;_18.record=this.getDataRecord(_6,_11);_18.value=this.getValueFromRecord(_18.record,_6,_11)}}
return _3},isc.A.$157a=function isc_FacetChart__drawData(_1,_2,_3,_4,_5){var _6=this.$1035(),_7=this.$104i(),_8=1+_7,_9=_6&&this.$1036().all;for(var i=0,_11=(_6?3*_7:1);i<_11;++i){var j=i%_7,k=(i-j)/_7,_14=(j==0?this:_9[j-1]);if(_6){var _15=(_14.chartType=="Column"),_16=(!_15&&(_14.chartType=="Area"||(_14.chartType=="Line"&&_14.filled))),_17=!(_15||_16)&&(_14.chartType=="Line");if(!((k==0&&_15)||(k==1&&_16)||(k==2&&_17))){continue}}
if(_14.chartType=="Column"||_14.chartType=="Bar"){this.$127y((_14==this?_3:null),_4,_14,!_5)}else if(_14.chartType=="Line"||_14.chartType=="Area"){this.$127x((_14==this?_1:null),(_14==this?_2:null),(_14==this?_3:null),_4,_14,!_5)}else if(_14.chartType=="Radar"){this.drawRadarData()}else if(this.isPieChart(_14.chartType)){this.drawPieData()}else if(_14.chartType=="Scatter"||_14.chartType=="Bubble"){this.drawScatterData(_4)}else{this.logWarn("chart type: '"+_14.chartType+"' not supported")}}
var _18=this.getOrderedData(),_19=false;for(var j=0;j<_7&&!(_5&&_19);++j){var _14=(j==0?this:_9[j-1]);_19=this.$1003(_18,_14,_5)}
return _19},isc.A.$122z=function isc_FacetChart__getDiscontinuousLines(_1){_1=_1||this;var _2=false;if(this.chartType!="Scatter"&&this.chartType!="Bubble"){var _3=this.$1068(),_4=_3[0].index,_5=_3[1].index,_6=_5-_4+1;_2=this.isFilled(_1)&&_6>=2}
return(_1.discontinuousLines!=null?_1.discontinuousLines:_2)},isc.A.$127x=function isc_FacetChart__drawLines(_1,_2,_3,_4,_5,_6){var _7;var _8={left:this.$1355(),top:this.$1359(),width:this.$1357()-this.$1355(),height:this.$136b()-this.$1359()},_9=this.getOrderedData(),_10=_5.$127t,_11=_5.$1279;var _12=this.$1068();var _13=_12[0].dataValue,_14=_12[1].dataValue;var _15=_12[0].index,_16=_12[1].index,_17=_16-_15+1;var _18=(this.$107d()||_1==null||_17==1);var _19=_5.chartType=="Radar";var _20,_21,_22,_23,_24,_25;if(_19){_20=this.getChartCenter();_21=this.$1373;_22=this.$1374;_23=360/this.getDataLabelFacet().values.length}else{var _26=(this.$1035()&&isc.isA.Number(this.$104c)?this.$104c:this.dataMargin),_27=(_8.width-2*_26);_24=_8.left+_26;_25=_17>1?_27/(_17-1):0}
var _28=this.isMultiFacet(),_29=_5.isMultiFacet()&&this.isStacked(_5),_30=this.isFilled(_5)&&_17>=2,_31=this.$159w(_5)&&_5.proportional;var _32=_5.isMultiFacet()?_9[0].series.length:1;var _33=(_5!=this),_34;if(_33){_34=_5.$103o}
var _35=this.$122z(_5),_36,_37,_38,_39,_40,_41,_42=this.$1375,_43,_44,_45,_46,k=_15,_48=[];if(!_19){_46=Math.min(_5.$140l.transformY(0),_8.top+_8.height);if(_46<_8.top)_46=_8.top}
if(_6&&_30&&_29&&_35){_36=new Array(_17);_37=new Array(_17)}
var _49=this.$135z(_5),_50=this.$136d(),_51=(_49&&_50!=null&&this.autoSortBubblePoints),_52,_53,_54;if(_6&&_51){_52=new Array(_32*_17);_53=new Array(_32*_17);_54=new Array(_32*_17)}
var _55=this.isMultiFacet()&&(!_33||_5.isMultiFacet()),_56=!_55&&_33&&this.isMultiFacet(),_57=!(_55||_56)&&_33,_58=!(_55||_56||_57),_59,_60;if(_56){var _61=this.$103u(_5);_59=this.getLegendFacet().values.findIndex("id",_61.id);_60=_9.getProperty("series").getProperty(_59)}
var _62,_63=false;if(_31){_62=new Array(_17);_63=true;for(var j=_17;j--;){var k=_15+j,_65=0;for(var i=_32;i--;){var _67;if(_55){_67=(_33?_9[k].series[i].record[_34]:_9[k].series[i].value)}else if(_56){_67=_9[k].series[_59].record[_34]}else if(_57){_67=_9[k].record[_34]}else{_67=_9[k].value}
if(isc.isA.Number(_67)&&_67>=0){_65+=_67}}
_63=_63&&!(_65>0);_62[j]=_65}}
for(var i=0;i<_32;++i){var _68,_69,_70=null;if(_55){var _71=_9.getProperty("series").getProperty(i);_69=_71.getProperty("record");_68=_33?_69.getProperty(_34):_71.getProperty("value");_70=i}else{if(_56||_57){if(_56){_70=_59;_69=_60.getProperty("record")}else{_69=_9.getProperty("record")}}
_68=(_33?_69.getProperty(_34):_9.getProperty("value"))}
if(_31){_44=this.$141n(_68,_44)}else if(_29){_44=this.addValues(_68,_44)}else{_44=_68}
var _72=(i%2!=0);_45=_72?-1:1;var _73=_6&&new Array(_17),_74=_30&&[],_75=false,_76=false,_77=(!_19?true:this.connected&&(_31?_63:(!isc.isA.Number(_68[_72?_15:_16])||(_44[_72?_15:_16]<_10)||(_44[_72?_15:_16]>_11)))),_78=(_31?_63:(!isc.isA.Number(_68[k])||(_44[k]<_10)||(_44[k]>_11)));for(var j=0;j<_17;++j,k+=_45){var _79=(j<_17-1?(_31?_63:(!isc.isA.Number(_68[k+_45])||(_44[k+_45]<_10)||(_44[k+_45]>_11))):(!_19?true:this.connected&&(_31?_63:(!isc.isA.Number(_68[_72?_16:_15])||(_44[_72?_16:_15]<_10)||(_44[_72?_16:_15]>_11)))));var _67=_44[k],_80;if(_31&&!(isc.isA.Number(_67)&&_67>=0)){_67=0}
if(i==0&&!_19){_48[k]=(_18?Math.round(_24+(k-_15)*_25):this.$140m(false,_9[k].facetValueId,_2,_5))}
if(_78){if(k==_15){_75=true}else if(k==_16){_76=true}
_80=_42}else if(_19){var _81=0;if(_31){if(_62[k-_15]>0){_81=_67/_62[k-_15]}else{_81=0}}else{_81=this.getValueRatio(_67,this.$127t,this.$1279)}
var _82=Math.round(_21+_81*(_22-_21)),_83=_23*(k-_15);_80=isc.GraphMath.polar2screen(_83,_82,_20,true)}else{var y;if(_31){if(_62[k-_15]>0){y=_5.$140l.transformY(_67/_62[k-_15])}else{y=_5.$140l.transformY(0)}}else{y=_5.$140l.transformY(_67)}
_80=[_48[k],y]}
if(_6){_73[j]=_80}
if(_6&&_30){if(_78){if(_29&&_35){var _85=_36[k-_15],_86=_37[k-_15];if(_85==_86){var _87=(_85||(_19?_20:[_48[k],_46]));_74.push(_87)}else{_85=_85||(_19?_20:[_48[k],_46]);_86=_86||(_19?_20:[_48[k],_46]);if(_72){_74.push(_86);_74.push(_85)}else{_74.push(_85);_74.push(_86)}}}}else{if(_35&&_77){var _88=(_72?_37:_36),_87=((_29&&_88[k-_15])||(_19?_20:[_48[k],_46]));_74.push(_87)}
_74.push(_80);if(_35&&_79){var _88=(_72?_36:_37),_87=((_29&&_88[k-_15])||(_19?_20:[_48[k],_46]));_74.push(_87)}
if(_29){if(_35){if(!_77||(k==(_72?_16:_15)&&!_19&&!_79)){(_72?_37:_36)[k-_15]=_80}
if(!_79||(k==(_72?_15:_16)&&!_19&&!_77)){(_72?_36:_37)[k-_15]=_80}}else{if(k==_15){_40=_80}else if(k==_16){_41=_80}}}}}
if(!_78){var _89=this.$1040(_5,k,_70);_89.drawnX=_80[0];_89.drawnY=_80[1];_89.value=_68[k]}
_77=_78;_78=_79}
if(_19&&this.connected){if(!(_75||_76)){_73.add(_73[0])}
if(_30&&_74.length>0){_74.add(_74[0])}}
k-=_45;var _90,_91;if(_6){_90=this.$107b(i,_5);_91={lineColor:_90};this.$1376(_73,0,_73.length,_91,_5)}
if(_6&&_30){if(_43==null||!_29){if(_19){_43=[]}else{_38=[_48[_15],_46];_39=[_48[_16],_46];if(_45==1){_43=[_39,_38]}else{_43=[_38,_39]}}}
var _92=_74.concat(_43);_43=_74;if(!_35&&_30&&_29&&!_19){if(_75){var _93=_40||_38;if(_45==1)_43.unshift(_93);else _43.push(_93)}
if(_76){var _94=_41||_39;if(_45==1)_43.push(_94);else _43.unshift(_94)}}
var _95=this.useAutoGradients&&(!_28||!this.isVML);if(!_92.isEmpty()){if(!_28||_5.chartType=="Area"||_5.chartType=="Line"){this.$120t(_92,{lineColor:_90,fillColor:!_95?_90:null,fillGradient:_95?this.$99i(i,null,null,_5):null},false,true,_5)}else if(_5.chartType=="Radar"){var _96=this.$120t(_92,{lineColor:_90,fillColor:!_95?_90:null,fillGradient:null},this.connected,false,_5);if(_95){_96.fillGradient=this.getRadarShapeGradient(_90,_96,_20,i==0)}
_96.draw()}}}
if(_6&&_28&&this.$1066()!=null&&!this.$1035()){this.$127z(i,_73,0,_17,_72,_69,_15,1+_16)}
if(_6&&_49){if(_69==null){_69=_9.getProperty("record")}
if(_51){var m=i*_17;for(var j=0;j<_17;++j){var l=(_72?_17-j-1:j);_52[m+j]=_73[l];_53[m+j]=_69[_15+j];_54[m+j]=_44[_15+j]}}else{this.$1377(_5,i,_73,0,_17,_72,_69,_15,1+_16,_44,_15,1+_16)}}
if(_6&&this.showDataLabels&&i==0&&!_19&&_5==this){if(_3==null){this.$155a(_48,_9.getProperty("title"),true,_4,_9.getProperty("facetValueId"))}else{var _99=_3.getProperty("dataValue");var _100=_99.length;var _101=[],_102=[];if(_18){for(var l=0;l<_100;++l){var _103=_99[l],m=_9.findNextIndex(_15,"facetValueId",_103,_16,Array.DATETIME_VALUES);if(m!=-1){_101.push(Math.round(_24+(m-_15)*_25));_102.push(_3[l].label)}}}else{for(var l=0;l<_100;++l){var _103=_99[l];if(!(_103<_13||_103>_14)){_101.push(this.$140m(false,_103,_2,_5));_102.push(_3[l].label)}}}
this.$155a(_101,_102,true,_4,_99)}}}
if(_6&&_51){var _104=_53.sortByProperties({property:_50,direction:false,normalizer:_7,context:_7},true);var _105=_32*_17,_106=_104.duplicate();for(var i=0;i<_105;++i){if(i!=_106[i]){var j=i,k=_106[j],_107=_52[i],_108=_54[i];do{_52[j]=_52[k];_54[j]=_54[k];_106[j]=j;j=k;k=_106[k]}while(k!=i);_52[j]=_107;_54[j]=_108;_106[j]=j}}
if(_32==1){this.$1377(_5,0,_52,0,_17,false,_53,0,_17,_54,0,_17)}else{for(var i=0;i<_105;++i){var _109=Math.floor(_104[i]/_17),_110=_109*_17,_111=_110+_17,j=i;while(j<_105&&_110<=_104[j]&&_104[j]<_111){++j}
this.$1377(_5,_109,_52,i,j,false,_53,i,j,_54,i,j);i=j}}}},isc.A.getBasePoints=function isc_FacetChart_getBasePoints(_1){var _2=this.getChartRect(),y=_2.top+_2.height,_4=[[_1[0][0],y],[_1[_1.length-1][0],y]];return _4},isc.A.addValues=function isc_FacetChart_addValues(_1,_2){if(_2==null)return _1;if(_1==null)return _2;var _3=new Array(_1.length);for(var i=_1.length;i--;){var _5=_1[i],_6=_2[i];_3[i]=(isc.isA.Number(_5)?_5:0)+(isc.isA.Number(_6)?_6:0)}
return _3},isc.A.$141n=function isc_FacetChart__addNonnegativeValues(_1,_2){var _3=new Array(_1!=null?_1.length:_2.length);for(var i=_3.length;i--;){var _5=_1!=null&&_1[i],_6=_2!=null&&_2[i];_3[i]=((isc.isA.Number(_5)&&_5>0?_5:0)+(isc.isA.Number(_6)&&_6>0?_6:0))}
return _3},isc.A.$1377=function isc_FacetChart__drawPoints(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12,_13){var _14=_5-_4;var _15=this.drawingType=="vml",_16=this.$159s(),_17=this.$136d(),_18=0,_19=0,_20=(this.maxDataPointSize-this.minDataPointSize),_21=false;if(_17!=null){_21=this.$1351();_18=this.getMinValue(_17,false,this,false,false,_21);_19=this.getMaxValue(_17,false,this,false,false,_21)}
var _22=this.$1352(this),_23=this.pointShapes[(_22?(_2%this.pointShapes.length):0)],_24=!(_17!=null&&this.allowBubbleGradients)&&[];for(var i=0;i<_14;i++){var _26=_3[_4+(_6?_14-i-1:i)],_27=_10[_11+i];if(isc.isA.Number(_27)&&!isNaN(_26[1]))
{var _28=_7[_8+i],_29=0;if(_17!=null){var _30=this.getValueRatio(_28[_17],_18,_19,_21,_1);_29=Math.round(this.minDataPointSize+_20*_30)}else{_29=_1.dataPointSize}
if(_13){for(var j=0;j<_13.length;j++){if(_13[j].drawnX==_26[0]&&_13[j].drawnY==_26[1]){_13[j].pointSize=_29;break}}}
if(_16!=null||(_17!=null&&this.allowBubbleGradients))
{this.drawDataPoint(_26,_2,_29,_28,_1,null,true);continue}
if(_23==this.$126c){var _32=_26[0],_33=_26[1],_34=Math.round(_29/2);_24.push({type:this.$1253,args:[_32+_34,_33]},{type:this.$1255,args:[[_32,_33],_34,0,360]},this.$126j)}else if(_23==this.$126d){var _35=Math.round(_29/2),_36=_26[0]-_35,_37=_26[1]-_35;if(_15){_36=_36<<0;_37=_37<<0}
_24.push({type:this.$1253,args:[_36,_37]},{type:this.$1254,args:[[_36+_29,_37],[_36+_29,_37+_29],[_36,_37+_29]]},this.$126j)}else if(_23==this.$126e){var _32=_26[0],_33=_26[1],_38=Math.round(_29*Math.SQRT2/2);_24.push({type:this.$1253,args:[_32,_33-_38]},{type:this.$1254,args:[[_32+_38,_33],[_32,_33+_38],[_32-_38,_33]]},this.$126j)}else if(_23==this.$1353){var _32=_26[0],_33=_26[1],_38=Math.round(_29/2);_24.push({type:this.$1253,args:[_32-_38,_33+_38]},{type:this.$1254,args:[[_32+_38,_33+_38],[_32,_33-_38]]},this.$126j)}
this.$126k(_26,_29,_28,_27,_1)}}
if(_16==null&&!(_17!=null&&this.allowBubbleGradients)){var _39=this.$107b(_2,_1),_40=(_17!=null?null:((_1.dataPointProperties&&_1.dataPointProperties.fillGradient)||(_1.dataPointDefaults&&_1.dataPointDefaults.fillGradient)||null));isc.DrawShape.create({lineColor:_39,fillColor:_39},_1.dataPointDefaults,_1.dataPointProperties,(_17!=null?isc.addProperties({lineColor:_39,fillColor:_39},this.bubbleProperties):null),{drawPane:this,excludeFromQuadTree:true,autoDraw:true,commands:_24,canHover:false,$104q:_1,fillGradient:_40,fillSubpathsIndependently:true})}});isc.evalBoundary;isc.B.push(isc.A.$126k=function isc_FacetChart__createLightweightDrawPoint(_1,_2,_3,_4,_5){var _6=this.$136d(),_7=this.$159s(),_8=_1[0]-_2/2,_9=_1[1]-_2/2;var _10=isc.DrawItem.create(this.dataPointDefaults,this.dataPointProperties,(_6!=null||_7!=null?this.bubbleProperties:null),{ID:false,autoDraw:false,$126i:[_8,_9,_8+_2,_9+_2],canHover:this.interactivePoints,$104q:_5,dataRecord:_3,dataValue:_4,metricId:_5.$103o||_5.valueProperty,fillGradient:null,isPointInPath:function(_11,_12){return this.isInBounds(_11,_12)}});_10.drawPane=this;this.$1263(_10);return _10},isc.A.$127z=function isc_FacetChart__drawErrorBars(_1,_2,_3,_4,_5,_6,_7,_8){var _9=this.$1064(),_10=this.$1066();var _11=!this.supportsFractionalCoordinates(),_12=this.getChartRect(),_13=_12.top,_14=_13+_12.height,_15=isc.DrawPane.$105t(this.errorBarColorMutePercent,this.getDataColor(_1)),_16=isc.addDefaults({drawPane:this,autoDraw:true,lineColor:_15,lineWidth:1},this.errorLineProperties);for(var i=0,_18=_4-_3;i<_18;++i){var _19=_2[_3+(_5?_18-i-1:i)],x=_19[0],y=_19[1];if(isNaN(y)){continue}
var _22=_6[_7+i],_23=_22[_9],_24=_22[_10];if(!isc.isA.Number(_23))_23=null;if(!isc.isA.Number(_24))_24=null;var _25=(_23!=null?this.$140m(true,_23):y),_26=(_24!=null?this.$140m(true,_24):y);if(_23==null&&_24==null){continue}
if(_23!=null&&!(_13<=_25&&_25<=_14)){_23=null;_25=Math.min(_14,Math.max(_13,_25))}
if(_24!=null&&!(_13<=_26&&_26<=_14)){_24=null;_26=Math.min(_14,Math.max(_13,_26))}
isc.DrawLine.create(_16,{startLeft:x,startTop:_25,endLeft:x,endTop:_26});var _27=x-this.errorBarWidth/2,_28=x+this.errorBarWidth/2;if(_11){_27=Math.round(_27);_28=Math.round(_28)}
if(_23!=null){isc.DrawLine.create(_16,{startLeft:_27,startTop:_25,endLeft:_28,endTop:_25})}
if(_24!=null){isc.DrawLine.create(_16,{startLeft:_27,startTop:_26,endLeft:_28,endTop:_26})}}},isc.A.$155a=function isc_FacetChart__drawDataLabels(_1,_2,_3,_4,_5){for(var i=0;i<_1.length;i++){var _7={id:_5[i],title:_2[i]};this.$155b(_1[i],_2[i],_3,_4,_7)}},isc.A.getRotatedCenteringOffset=function isc_FacetChart_getRotatedCenteringOffset(_1){return Math.floor(_1/2)},isc.A.$155b=function isc_FacetChart__drawDataLabel(_1,_2,_3,_4,_5){_4=(_4==null?this.$116c():_4===true);if(_3==null)_3=true;var _6=this.getDataLabelHeight();if(_3){var _7=this.measureLabel(_2,this.dataLabelProperties),_8,_9,_10=true;if(!this.showInlineLabels){_8=this.getChartTop()+this.getChartHeight()+this.chartRectMargin;_9=_1;if(_4){_10=_9+Math.floor(_6/2)<=this.getInnerContentWidth();_9+=this.getRotatedCenteringOffset(_6)}else{var _11=_7.width,_12=this.getInnerContentWidth();_9-=_9>=_11/2?_11/2:_9;_9=Math.min(_9,_12-_11)}}else{_4=false;_8=this.getChartTop()+this.getChartHeight()
-this.$106b-_7.height;_9=_1+this.$106a;_10=_9+_7.width<this.getChartLeft()+this.getChartWidth()}
_10=_10&&0<=_9;if(_10){var _13=this.drawLabel(_9,_8,_2,this.dataLabelProperties,_4);this.$129o(_13,_5)}}else{var _6=this.getDataLabelHeight();var _13=this.drawLabel(this.getAxisLabelSpace(true),_1-Math.round(_6/2),_2,this.dataLabelProperties);this.$129o(_13,_5)}},isc.A.$129o=function isc_FacetChart__processDataLabelActions(_1,_2){var _3=this;if(this.dataLabelClick){_1.click=function(){_3.dataLabelClick(_2)}}
if(this.dataLabelHover){_1.canHover=true;_1.hover=function(){_3.dataLabelHover(_2)}}
if(this.getDataLabelHoverHTML){_1.canHover=true;_1.getHoverHTML=function(){return _3.getDataLabelHoverHTML(_2)}}},isc.A.$129p=function isc_FacetChart__processLegendActions(_1,_2,_3){var _4=this;if(this.legendClick){_1.click=function(){_4.legendClick(_2,_3)}}
if(_2){if(this.legendHover){_1.canHover=true;_1.hover=function(){_4.legendHover(_2,_3)}}
if(this.getLegendHoverHTML){_1.canHover=true;_1.getHoverHTML=function(){return _4.getLegendHoverHTML(_2,_3)}}}},isc.A.$115t=function isc_FacetChart__calculateBarLayout(_1,_2,_3,_4,_5,_6){var _7=_1.isMultiFacet()&&this.isStacked(_1);var _8=_1.isMultiFacet()&&!this.isStacked(_1);var _9=this.dataMargin;var _10=_1.isMultiFacet()?_2[0].series.length:1;var _11=_10;var _12=_3;var _13=_8?_12*_11:_3;var _14=_4-(2*_9);var _15=!_8?this.barMargin:Math.min(50,Math.round(this.barMargin*this.clusterMarginRatio));var _16=(_13*this.barMargin)+(_8?_12*_15:0);var _17=Math.max(0,_14-_16);var _18=Math.floor(_17/_13);var _19;if(_18<this.minBarThickness){var _20=Math.floor(_14/_13);_18=Math.max(Math.min(this.minBarThickness,_20),1)}else if(_18>this.maxBarThickness){_19=(_18-this.maxBarThickness)*_13;_18=this.maxBarThickness}
var _21=_8?((_18+this.barMargin)*_11-this.barMargin):_18;var _22=_3<2?0:(_14-(_3*_21))/(_3-1);var _23;if(_8){var _24=Math.max(0,this.clusterMarginRatio);if(_11>1&&_3>1){var m=-_3*(_11-1)/(_3-1),b=(_14-_3*_18*_11)/(_3-1);_23=Math.max(0,b/(_24-m));if(Math.abs(Math.floor(_23)*(_24-m)-b)<
Math.abs(Math.ceil(_23)*(_24-m)-b))
{_23=Math.floor(_23)}else{_23=Math.ceil(_23)}}else if(_11<=1){_23=0}else{_23=this.barMargin}
_21=(_18+_23)*_11-_23;_22=_3<2?0:(_14-(_3*_21))/(_3-1)}
if(_19&&(_19>2*this.barMargin)){_22=(_14-(_3*_21))/(_3+1)}
if(_1.truncateBarOffset&&_22+_21>=1&&_18>1){_22=Math.floor(_22)}
var _27=_21+_22;var _28=Math.max(_14-(_21*_3)
-(_22*(_3-1))-1,0);_9+=Math.floor(_28/2);if(this.logIsDebugEnabled("chartDraw")&&_1==this){this.logDebug("availableSpace: "+_14+", availableBarSpace: "+_17+", bars per cluster: "+_11+", final gap between clusters/bars: "+_22+", final within-cluster bar margin: "+_23+", barThickness: "+_18+", extraSpace: "+_18,"chartDraw")}
if(!_6){_1.$181s=_9;_1.$181t=_21}
_23=_7?0:_23;var _29=_5+_9;_6=_6||{};_6.barThickness=_18;_6.clusterSize=_21;_6.clusterBarMargin=_23;_6.barOffset=_27;_6.clusterGap=_22;_6.startOffset=_29;_6.startMargin=_9;return _6},isc.A.$1152=function isc_FacetChart__getBarBaseValue(_1){if(this.$159w(_1)&&_1.proportional){return 0}
var _2=_1.$127t||0,_3=this.getMaxGradation(_1)||0;return(_2<=0&&_3>=0?0:(Math.abs(_2)<=Math.abs(_3)?_2:_3))},isc.A.$127y=function isc_FacetChart__drawBars(_1,_2,_3,_4){_3=_3||this;_2=(_2===true);var _5=this.getChartRect(),_6=this.getOrderedData(),_7=this.getMaxGradation(_3),_8=_3.$127t,_9=_3.$1279;var _10=this.$1068(),_11=_10[0].index,_12=_10[1].index,_13=_12-_11+1;var _14=_3.isMultiFacet()&&this.isStacked(_3),_15=_3.isMultiFacet()&&!this.isStacked(_3),_16=this.$159w(_3)&&_3.proportional,_17=_14&&!_16,_18=(_3.chartType=="Column"),_19=(_18?"transformY":"transformX");var _20=this.$115t(_3,_6,_13,(_18?_5.width:_5.height),(_18?_5.left:_5.top)),_21=_20.barThickness,_22=_20.clusterSize,_23=_20.clusterBarMargin,_24=_20.barOffset,_25=_20.startOffset,_26=_20.startMargin;var _27=this.$1152(_3);if(this.$1035()){var _28=_22/2;this.$104c=_26+_28}
var _29=(_3!=this),_30;if(_29){_30=_3.$103o}
var _31=this.isMultiFacet()&&(!_29||_3.isMultiFacet()),_32=!_31&&_29&&this.isMultiFacet(),_33=!(_31||_32)&&_29,_34=!(_31||_32||_33),_35,_36;if(_32){var _37=this.$103u(_3);_35=this.getLegendFacet().values.findIndex("id",_37.id);_36=_6.getProperty("series").getProperty(_35)}
var _38,_39=false;if(_16){var _40=_12-_11+1;_38=new Array(_40);_39=true;var _41=_3.isMultiFacet()?_6[0].series.length:1;for(var j=_40;j--;){var k=_11+j,_44=0;for(var i=_41;i--;){var _46;if(_31){_46=(_29?_6[k].series[i].record[_30]:_6[k].series[i].value)}else if(_32){_46=_6[k].series[_35].record[_30]}else if(_33){_46=_6[k].record[_30]}else{_46=_6[k].value}
if(isc.isA.Number(_46)&&_46>=0){_44+=_46}}
_39=_39&&!(_44>0);_38[j]=_44}}
if(_31){for(var i=_11;i<=_12;i++){var _47=0,_48=true,_49=null,_50=null;var _51=0,_52=0,_53=true,_54=true,_55=null,_56=null,_57=null,_58=null;for(var j=0;j<_6[i].series.length;j++){var _59=_25+((i-_11)*_24);if(_15)_59+=(j*(_21+_23));var _60=_6[i].series[j],_61=(_29?(_60.record!=null?_60.record[_30]:null):_60.value),_62=(!isc.isA.Number(_61)||(_16&&(_39||_61<0)));var _63=0,_64=false,_65=false,_66=false;if(_17){if(!_62&&(_61<0||(_61==0&&!_54&&!_53)))
{_66=true;_63=_52;_64=_54;_54=false}else{_65=true;_63=_51;if(!_62){_64=_53;_53=false}}}else{_63=_47;_64=_48}
var _67=(_62?0:_63+_61);var _68=(_64||_15||_63<_8)&&(_67<_8),_69=((!_64&&_63>_9)||_67>_9)&&!_16,_70=null,_71=0,_72=0;if(_16){if(_64||_15||_38[i-_11]==0){_71=_3.$140l[_19](0)}else{_71=_3.$140l[_19](_63/_38[i-_11])}
if(!_62){if(_38[i-_11]==0){_72=0}else{_72=(_3.$140l[_19](_67/_38[i-_11])-
_71)}}}else{_71=_3.$140l[_19](_64||_15?_27:Math.max(_8,_63));if(!_62){_72=(_3.$140l[_19](Math.min(_9,Math.max(_8,_67)))-_71)}}
if(_64){if(_18){if(_17){if(_65){_56=_71}else{_58=_71}}else{_50=_71}}else{if(_17){if(_65){_55=_71}else{_57=_71}}else{_49=_71}}}
if(!_62){if(_14){if(_17){if(_65){_51=_67}else{_52=_67}}else{_47=_67}}
if(!_68){_48=false;if(_4){var _73=isc.shallowClone(this.barProperties);if(!this.useAutoGradients){_73.fillColor=this.$107b(j,_3)}else{_73.fillGradient=this.$99i(j,null,null,_3)}
_70=this.drawBar(_18,_59,_71,_21,_72,_73,_3)}}}
_60=this.$1040(_3,i,j);if(_18){_60.drawnY=_71+_72;if(_14){if(_17){if(_65){_60.prevDrawnY=_56;_56=_60.drawnY}else{_60.prevDrawnY=_58;_58=_60.drawnY}}else{_60.prevDrawnY=_50;_50=_60.drawnY}}
_60.drawnX=_59+_21/2;_60.barWidth=_21;_60.barHeight=Math.abs(_72)}else{_60.drawnX=_71+_72;if(_14){if(_17){if(_65){_60.prevDrawnX=_55;_55=_60.drawnX}else{_60.prevDrawnX=_57;_57=_60.drawnX}}else{_60.prevDrawnX=_49;_49=_60.drawnX}}
_60.drawnY=_59+_21/2;_60.barWidth=_72;_60.barHeight=Math.abs(_21)}
_60.barThickness=_21;_60.drawItemId=_70&&_70.ID;_60.value=_61;if(_69){break}}
if(_4&&this.showDataLabels&&_3==this){var _74=(_1!=null),_75=(_74&&_1.findIndex("dataValue",_6[i].facetValueId,Array.DATETIME_VALUES));if(!_74||_75!=-1){var _59=_25+((i-_11)*_24),_76=_59+Math.floor(_22/2),_77=(_74?_1[_75].label:_6[i].title);var _78={id:(_74?_1[_75].dataValue:_6[i].facetValueId),title:_77};this.$155b(_76,_77,_18,_2,_78)}}}}else{var _79,_80=null;if(_32||_33){if(_32){_80=_35;_79=_36.getProperty("record")}else{_79=_6.getProperty("record")}}
var _71=this.$140m(_18,_27,_3);for(var i=_11;i<=_12;i++){var _59=((i-_11)*_24)+_25,_46=(_29?_79[i][_30]:_6[i].value),_62=!isc.isA.Number(_46),_68=(_46<_8),_72=(_62?0:this.$140m(_18,Math.max(_8,_46),_3)-
_71),_70=null;if(_4&&!(_62||_68)){var _73=isc.shallowClone(this.barProperties);if(!this.useAutoGradients){_73.fillColor=this.$107b(i,_3)}else{_73.fillGradient=this.$99i(i,null,null,_3)}
_70=this.drawBar(_18,_59,_71,_21,_72,_73,_3)}
var _60=this.$1040(_3,i,_80);if(_18){_60.drawnX=_59+_21/2;_60.drawnY=_71+_72;_60.barWidth=_21;_60.barHeight=Math.abs(_72)}else{_60.drawnY=_59+_21/2;_60.drawnX=_71+_72;_60.barWidth=_72;_60.barHeight=Math.abs(_21)}
_60.barThickness=_21;_60.drawItemId=_70&&_70.ID;if(_4&&this.showDataLabels&&_3==this){var _74=(_1!=null),_75=(_74&&_1.findIndex("dataValue",_6[i].facetValueId,Array.DATETIME_VALUES));if(!_74||_75!=-1){var _76=Math.round(_59+(_21/2)),_77=(_74?_1[_75].label:_6[i].title);var _78={id:(_74?_1[_75].dataValue:_6[i].facetValueId),title:_77};this.$155b(_76,_77,_18,_2,_78)}}}}},isc.A.$1041=function isc_FacetChart__getShowDataValues(_1){_1=_1||this;var _2=_1.chartType!="Scatter"&&_1.chartType!="Bubble"&&_1.showDataValues&&!(!_1.$101c&&_1.$101d);if(this.$1035()){var _3=this.$1036(),_4=1+_3.visible.length;for(var j=0;_2&&j<_4;++j){var c=(j==0?this:_3.visible[j-1]);if(c==_1){break}else{_2=!(c.showDataValues&&!(!c.$101c&&c.$101d))}}}
return _2},isc.A.$1042=function isc_FacetChart__getShowValueOnHover(_1){_1=_1||this;return(!this.$1041(_1)&&(_1.showValueOnHover||(_1.showValueOnHover!==false&&_1.showDataValues&&!(_1.$101c&&!_1.$101d))))},isc.A.$1043=function isc_FacetChart__getShowValueOnHoverContext(){if(this.$1035()){var _1=this.$1036().visible,_2=1+_1.length;for(var j=0;j<_2;++j){var _4=(j==0?this:_1[j-1]);if(this.$1042(_4)){return _4}}}else if(this.$1042()){return this}
return null},isc.A.$1003=function isc_FacetChart__drawDataValueLabels(_1,_2,_3){if(this.$1041(_2)){var _4={},_5=(_2!=this),_6=_2.isMultiFacet(),_7,_8,_9;if(_5){_7=_2.$103o;if(!_6){if(this.isMultiFacet()){var _10=this.$103u(_2);_9=this.getLegendFacet().values.findIndex("id",_10.id);_8=_1.getProperty("series").getProperty(_9).getProperty("record")}else{_8=_1.getProperty("record")}}}
switch(_2.chartType){case"Area":case"Line":if(this.isMultiFacet()&&(!_5||_2.isMultiFacet())){var _11=0;for(var i=0;i<_1.length;i++){var _13=_11;_11=0;for(var j=0;j<_1[i].series.length;j++){var _15=_1[i].series[j],_16=(_5?_15.record&&_15.record[_7]:_15.value);if(!isc.isA.Number(_16))continue;var _17=this.$104t(_4,i,j,_2,_16);_11=Math.max(_11,_17.width);if(_13>0){var _18=this.$1040(_2,i,j).drawnX
-this.$1040(_2,i-1,0).drawnX
-_13;if(_18<20){_2.$101d=true;delete _2.$101c;return false}}
for(var k=j+1;k<_1[i].series.length;k++){var _15=_1[i].series[k],_16=(_5?_15.record&&_15.record[_7]:_15.value);if(!isc.isA.Number(_16))continue;var _20=Math.abs(this.$1040(_2,i,k).drawnY
-this.$1040(_2,i,j).drawnY);_20-=_17.height;if(_20<5){_2.$101d=true;delete _2.$101c;return false}}}}
if(!_3){for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){var _21=this.$104t(_4,i,j);if(_21!=null){var _22=this.$1040(_2,i,j);this.$1004(_22.drawnX,_22.drawnY,_21)}}}}}else{var k=!_6?_9:null;for(var j=1;j<_1.length;j++){var _16=_5?_8[j][_7]:_1[j].value;if(!isc.isA.Number(_16))continue;var _17=this.$104t(_4,j-1,null,_2,_5?_8[j-1][_7]:_1[j-1].value);var _18=this.$1040(_2,j,k).drawnX
-this.$1040(_2,j-1,k).drawnX
-_17.width;if(_18<20){_2.$101d=true;delete _2.$101c;return false}}
this.$104t(_4,_1.length-1,null,_2,_5?_8[_1.length-1][_7]:_1[_1.length-1].value);if(!_3){for(var j=0;j<_1.length;j++){var _21=this.$104t(_4,j);if(_21!=null){var _22=this.$1040(_2,j,k);this.$1004(_22.drawnX,_22.drawnY,_21)}}}}
break;case"Radar":if(this.isMultiFacet()){for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){if(!isc.isA.Number(_1[i].series[j].value))continue;var _17=this.$104t(_4,i,j,_2,_1[i].series[j].value);var _23=Math.sqrt(_17.width*_17.width+_17.height*_17.height);for(var _24=i;_24<_1.length;_24++){for(var _25=(_24==i)?j+1:0;_25<_1[_24].series.length;_25++){if(!isc.isA.Number(_1[_24].series[_25].value))continue;var _26=this.$104t(_4,_24,_25,_2,_1[_24].series[_25].value);var _27=Math.sqrt(_26.width*_26.width+_26.height*_26.height);var _18=_1[i].series[j].drawnX-_1[_24].series[_25].drawnX;var _20=_1[i].series[j].drawnY-_1[_24].series[_25].drawnY;var _28=Math.sqrt(_18*_18+_20*_20);_28-=(_23+_27)/2;if(_28<=0){this.$101d=true;delete this.$101c;return}}}}}
for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){var _21=this.$104t(_4,i,j);if(_21!=null){this.$1004(_1[i].series[j].drawnX,_1[i].series[j].drawnY,_21)}}}}else{for(var j=0;j<_1.length;j++){if(!isc.isA.Number(_1[j].value))continue;var _17=this.$104t(_4,j,null,_2,_1[j].value);var _23=Math.sqrt(_17.width*_17.width+_17.height*_17.height);for(var _25=j+1;_25<_1.length;_25++){if(!isc.isA.Number(_1[_25].value))continue;var _26=this.$104t(_4,_25,null,_2,_1[_25].value);var _27=Math.sqrt(_26.width*_26.width+_26.height*_26.height);var _18=_1[j].drawnX-_1[_25].drawnX;var _20=_1[j].drawnY-_1[_25].drawnY;var _28=Math.sqrt(_18*_18+_20*_20);_28-=(_23+_27)/2;if(_28<=0){this.$101d=true;delete this.$101c;return}}}
for(var j=0;j<_1.length;j++){var _21=this.$104t(_4,j);if(_21!=null){this.$1004(_1[j].drawnX,_1[j].drawnY,_21)}}}
break;case"Bar":case"Column":if(this.isMultiFacet()&&(!_5||_2.isMultiFacet())){for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){var _15=_1[i].series[j],_16=(_5?_15.record&&_15.record[_7]:_15.value);if(!isc.isA.Number(_16))continue;var _22=this.$1040(_2,i,j),_17=this.$104t(_4,i,j,_2,_16),_20=_22.barHeight-_17.height,_18=_22.barWidth-_17.width;if(_20<5||_18<10){_2.$101d=true;delete _2.$101c;return false}}}
for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){var _21=this.$104t(_4,i,j);if(_21!=null){var _29=this.$1040(_2,i,j);if(this.$1005(_29.drawnX,_29.drawnY,_21,_2.chartType,_3))
{return true}}}}}else{var k=!_6?_9:null;for(var j=0;j<_1.length;j++){var _16=_5?_8[j][_7]:_1[j].value;if(!isc.isA.Number(_16))continue;var _21=this.$104t(_4,j,null,_2,_16),_29=this.$1040(_2,j,k);if(this.$1005(_29.drawnX,_29.drawnY,_21,_2.chartType,_3))
{return true}}}
break;case"Doughnut":case"Pie":if(this.isMultiFacet()){var _30=_1[0].radiusStep;if(this.stacked&&_30<40){this.$101d=true;delete this.$101c;return}
var _31=_30*2/3;for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){var s=_1[i].series[j];if(!isc.isA.Number(s.value))continue;var _17=this.$104t(_4,i,j,_2,s.value);var _33=s.pieRadius-Math.max(_31,_17.width+15);var _34=s.endAngle-s.startAngle;if(_34<60){var _35=s.startAngle+_34/2,_36=_35<60||(120<=_35&&_35<240)||300<=_35;if((!_36&&_17.width>_38)||(_36&&_17.height>_38))
{this.$101d=true;delete this.$101c;return}}}}
for(var i=0;i<_1.length;i++){for(var j=0;j<_1[i].series.length;j++){var s=_1[i].series[j];var _21=this.$104t(_4,i,j);if(_21!=null){var _33=s.pieRadius-Math.max(_31,_21.width+15);this.$1006(s.pieX,s.pieY,s.startAngle,s.endAngle,_21,_33)}}}}else{var _37=(this.doughnutSize==null?0:this.doughnutSize);for(var j=0;j<_1.length;j++){var s=_1[j];if(!isc.isA.Number(s.value))continue;var _33=s.pieRadius/2-_37,_34=s.endAngle-s.startAngle,_17=this.$104t(_4,j,null,_2,s.value);if(_34<60){var _38=_33*Math.tan(_34*isc.Math.$125w);var _35=s.startAngle+_34/2,_36=_35<60||(120<=_35&&_35<240)||300<=_35;if((!_36&&_17.width>_38)||(_36&&_17.height>_38))
{this.$101d=true;delete this.$101c;return}}}
for(var j=0;j<_1.length;j++){var _21=this.$104t(_4,j);if(_21!=null){var s=_1[j];this.$1006(s.pieX,s.pieY,s.startAngle,s.endAngle,_21,_1[j].pieRadius/2)}}}
break}}
return false},isc.A.$1005=function isc_FacetChart__drawDataValueLabelForBar(_1,_2,_3,_4,_5){if(_4=="Column"){_1-=_3.width/2;_2-=_3.height}else{_2-=_3.height/2;_1+=4}
var _6=this.getChartRectLineWidth(),_7=0,_8=0,_9=0,_10=0;if(_6==0){_8=this.getInnerContentWidth();_10=this.getInnerContentHeight()}else{var _11=this.getChartRect(),_12=1+_6/2;_7=Math.ceil(_11.left+_12);_9=Math.ceil(_11.top+_12);_8=Math.floor(_11.left+_11.width-_12);_10=Math.floor(_11.top+_11.height-_12)}
if(_1<_7){_1=_7}else{if((_1+_3.width)>_8){if(_5&&_4=="Bar"){return true}
_1=_8-_3.width-5}}
if(_2<_9){if(_5&&_4=="Column"){return true}
_2=_9}else{if((_2+_3.height)>_10){_2=_10-_3.height-5}}
if(!_5){this.drawLabel(_1,_2,_3.text,this.hoverLabelProperties)}
return false},isc.A.$1004=function isc_FacetChart__drawDataValueLabelForPoint(_1,_2,_3){var _4=_1-_3.width/2;var _5=_2-_3.height-4;if(_4<0){_4=0}else{var _6=this.getInnerContentWidth();if((_4+_3.width)>_6){_4=_6-_3.width-5}}
if(_5<0){_5=0}else{var _7=this.getInnerContentHeight();if((_5+_3.height)>_7){_5=_7-_3.height-5}}
this.drawLabel(_4,_5,_3.text,this.hoverLabelProperties)},isc.A.$1006=function isc_FacetChart__drawDataValueLabelForPie(_1,_2,_3,_4,_5,_6){var _7=(_3+_4)/2+90;if(_7<0){_7+=360}
var _8=this.$100k([_1,_2],_6||this.maxRadius,_7,_5.value,this.hoverLabelProperties);_1=_8[0];_2=_8[1];if(_1<0){_1=0}else{var _9=this.getInnerContentWidth();if((_1+_5.width)>_9){_1=_9-_5.width-5}}
if(_2<0){_2=0}else{var _10=this.getInnerContentHeight();if((_2+_5.height)>_10){_2=_10-_5.height-5}}
this.drawLabel(_1,_2,_5.text,this.hoverLabelProperties)},isc.A.drawBar=function isc_FacetChart_drawBar(_1,_2,_3,_4,_5,_6,_7){if(!_1){return this.drawBar(!_1,_3,_2,_5,_4,_6,_7)}
_6.click=this.$120g;return this.drawRect(_2,(_5>0?_3:_3+_5),_4,Math.abs(_5),_6,_7)});isc.evalBoundary;isc.B.push(isc.A.drawRect=function isc_FacetChart_drawRect(_1,_2,_3,_4,_5,_6){var _7=isc.DrawRect.create(_5,{autoDraw:true,drawPane:this,left:_1,top:_2,width:_3,height:_4,shadow:(this.$1334(_6)?_5.shadow:null)});return _7},isc.A.$120t=function isc_FacetChart__drawDataShape(_1,_2,_3,_4,_5){var _6=(_3?"DrawPolygon":"DrawPath"),_7=this.dataShapeProperties;if(!this.$1334(_5)){_7.shadow=null}
return isc[_6].create(_7,_2,{drawPane:this,points:_1,autoDraw:_4})},isc.A.$1376=function isc_FacetChart__drawDataLine(_1,_2,_3,_4,_5){var _6=(this.$1095(_5)=="smooth");if(!this.$122z(_5)){var _7=[];for(var i=_2;i<_3;++i){if(!isNaN(_1[i][1])){_7.add(_1[i])}}
this.drawDataLineSegment(_7,0,_7.length,_4,_5,_6,true);return}
var _9=null;for(var i=_2;i<_3;++i){var _10=_1[i];if(isNaN(_10[1])){if(_9!=null){this.drawDataLineSegment(_1,_9,i,_4,_5,_6,true);_9=null}}else if(_9==null){_9=i}}
if(_9!=null){this.drawDataLineSegment(_1,_9,_3,_4,_5,_6,true)}},isc.A.drawDataLineSegment=function isc_FacetChart_drawDataLineSegment(_1,_2,_3,_4,_5,_6,_7){_5=_5||this;var _8=this.isFilled(_5)?_5.dataOutlineProperties:_5.dataLineProperties;if(!this.$1334(_5)){_8.shadow=null}
var _9=_3-_2,_10=(_9==1),_11=(!_10&&(!_6||_9<=2)),_12=!(_10||_11);var _13=1e-9,_14,_15;if(_12){_14=[_2];_15=[];for(var i=_2;i<_3-1;){var j=i+1,_18=0;for(;j<_3;++j){var _19=_1[i],_20=_1[j],_21=isc.Math.$101k(_20[0]-_19[0],_20[1]-_19[1]);_18=Math.sqrt(_21);if(_18>_13){break}}
if(j<_3){_14.push(j);_15.push(_18)}
i=j}}
_10=_10||(_12&&_14.length==1);_11=_11||(_12&&_14.length==2);_12=!(_10||_11);if(_10){return isc.DrawTriangle.create(_8,_4,{drawPane:this,points:this.getTriangleOnPoint(_1[_2],this.singlePointMarkerSize),autoDraw:_7,fillColor:(_4&&_4.lineColor)||_8.lineColor})}else if(_11){var _22={drawPane:this,points:_1.slice(_2,_3),autoDraw:_7};if(_5.chartType=="Line"||(_5.chartType=="Area"&&!this.isFilled(_5)))
{_22.svgFilter="isc_ds1"}
return isc.DrawPath.create(_8,_4,_22)}else{var n=_14.length,_24=[2*_1[_14[0]][0]-_1[_14[1]][0],2*_1[_14[0]][1]-_1[_14[1]][1]],_25=[2*_1[_14[n-1]][0]-_1[_14[n-2]][0],2*_1[_14[n-1]][1]-_1[_14[n-2]][1]];_15.unshift(_15[0]);_15.push(_15[_15.length-1]);var _26;for(var i=0;i<n-1;++i){var _27=(i==0?_24:_1[_14[i-1]]),_19=_1[_14[i]],_20=_1[_14[i+1]],_28=(i==n-2?_25:_1[_14[i+2]]),_29=_15[i],_30=_15[i+1],_31=_15[i+2],_32=_29*_29,_33=_30*_30,_34=_31*_31,_35=(2*_32+3*_29*_30+_33),_36=(2*_34+3*_31*_30+_33),_37=3*_29*(_29+_30),_38=3*_31*(_31+_30),_39=(_32*_20[0]-_33*_27[0]+_35*_19[0])/_37,_40=(_32*_20[1]-_33*_27[1]+_35*_19[1])/_37,_41=(_34*_19[0]-_33*_28[0]+_36*_20[0])/_38,_42=(_34*_19[1]-_33*_28[1]+_36*_20[1])/_38;_26=isc.DrawCurve.create(_8,_4,{drawPane:this,autoDraw:_7,startPoint:_19,controlPoint1:[_39,_40],controlPoint2:[_41,_42],endPoint:_20})}
return _26}},isc.A.drawValueLine=function isc_FacetChart_drawValueLine(_1,_2,_3){var _4={drawPane:this,autoDraw:true};if(_1!=null){_4.startLeft=_1[0];_4.startTop=_1[1]}
if(_2!=null){_4.endLeft=_2[0];_4.endTop=_2[1]}
isc.DrawLine.create(this.valueLineProperties,_3,_4)},isc.A.drawPieData=function isc_FacetChart_drawPieData(){var _1=this.getChartRect(),_2=this.getChartCenter(),_3=Math.min(_1.width,_1.height)/2-(this.getChartRectLineWidth()*2),_4=this.getOrderedData(),_5=this.getDataLabelFacet(),_6=(this.shouldShowDoughnut()?(_3*this.doughnutRatio):0);var _7=this.showDataLabels,_8=20;if(this.isMultiFacet()){var _9=_4.length;if(this.stacked){_3=this.getChartRadius()}
var _10=_3-_6,_11=_10/_9,_12=360/_9;_4[0].radiusStep=_11;var _13=Math.ceil(Math.sqrt((_1.width/_1.height)*_9)),_14=Math.ceil(_9/_13),_15=_9%_13==0?_13:_9%_13;if(_15<_13&&(_14-1)<=(_13-1-_15)){_13-=1;_15+=(_14-1)}
var _16=Math.min(_1.width/_13,_1.height/_14),_17=(_16-_8)/2,_18=(_1.width-(_13*_16))/2,_19=(_1.width-(_15*_16))/2;for(var i=0;i<_9;i++){var _21=_4[i].series,_22=this.$1811(_4[i].facetValueId,_4[i].title,_5),_23=new Array(_21.length),_24=0;var _25={id:_4[i].facetValueId,title:_22};for(var j=_21.length;j--;){var _27=_21[j].value;if(!isc.isA.Number(_27))_27=0;_23[j]=_27;_24+=_27}
if(this.stacked){var _28=_3-(_11*i);this.drawPieSeries(_23,_24,_2,_28,i,(i!=0));if(_7){var _29=this.pieLabelAngleStart+_12*i;this.$1549(_2,_3+this.pieLabelLineExtent,_29,_22,_25);var _30=isc.GraphMath.polar2screen(_29,_28-_11/2,_2,true),_31=isc.GraphMath.polar2screen(_29,_3+this.pieLabelLineExtent,_2,true);this.drawValueLine(_30,_31,this.pieLabelLineProperties)}}else{var _32=Math.floor(i/_13);var _33=_1.top+(_32*_16);var _34=_1.left+((i%_13)*_16);if(_32==_14-1)_34+=_19;else _34+=_18;var _35=[_34+(_8/2)+_17,_33+_8+_17];this.drawPieSeries(_23,_24,_35,_17,i);if(this.shouldShowDoughnut()){isc.DrawOval.create({shadow:(this.$1334(this)?{blur:5,color:"#333333",offset:[0,0]}:null)},this.doughnutHoleProperties,{drawPane:this,autoDraw:true,centerPoint:_35,radius:_17*this.doughnutRatio})}
if(_7){var _36=this.measureLabel(_22,this.dataLabelProperties),_37=this.drawLabel(_34+(_16-_36.width)/2,_33+(_8-_36.height)/2,_22,this.dataLabelProperties);this.$129o(_37,_25)}}}}else{var _23=new Array(_4.length),_24=0;for(var j=_4.length;j--;){var _27=_4[j].value;if(!isc.isA.Number(_27))_27=0;_23[j]=_27;_24+=_27}
this.drawPieSeries(_23,_24,_2,_3,0,false)}
if(this.shouldShowDoughnut()&&(!this.isMultiFacet()||this.stacked)){isc.DrawOval.create({shadow:(this.$1334(this)?{blur:5,color:"#333333",offset:[0,0]}:null)},this.doughnutHoleProperties,{drawPane:this,autoDraw:true,centerPoint:_2,radius:_6})}},isc.A.drawPieSeries=function isc_FacetChart_drawPieSeries(_1,_2,_3,_4,_5,_6){if(this.$1334(this)&&!_6){isc.DrawOval.create({shadow:{blur:8,color:"#111111",offset:[2,2]}},this.pieBorderProperties,this.shadowProperties,{drawPane:this,autoDraw:true,centerPoint:_3,radius:_4-1})}
if(this.showValueOnHover||this.$101d||this.$101c){isc.DrawOval.create({fillColor:"#ffffff"},this.pieBorderProperties,{drawPane:this,autoDraw:true,centerPoint:_3,radius:_4-1})}
var _7=parseFloat(this.pieStartAngle);this.logDebug("startAngle is: "+_7);var _8=this.getOrderedData();for(var i=0;i<_1.length;i++){var _10=_1[i],_11=(_2!=0?360*_10/_2:0),_12=Math.floor(_7),_13=Math.ceil(_7+_11);var _14=(_8[_5].series==null?_8[i]:_8[_5].series[i]);_14.pieX=_3[0];_14.pieY=_3[1];_14.startAngle=_12;_14.endAngle=_13;_14.pieRadius=_4;if(_10==0){continue}
var _15={drawPane:this,autoDraw:true,centerPoint:_3,radius:_4,startAngle:_12,endAngle:_13,fillColor:!this.useAutoGradients?this.$107b(i):null,fillGradient:this.useAutoGradients?this.$985(i,_3,_4):null,click:this.$120g};var _16=isc.$983.create(this.pieSliceProperties,_15);_14.drawItemId=_16.ID;_7+=_11}
if(_6){isc.DrawOval.create(_6?this.pieRingBorderProperties:this.pieBorderProperties,{drawPane:this,autoDraw:true,centerPoint:_3,radius:_4,isPointInPath:function(){return false}})}},isc.A.getYAxisMetric=function isc_FacetChart_getYAxisMetric(){return this.yAxisMetric||this.metricFacet.values[0].id},isc.A.getXAxisMetric=function isc_FacetChart_getXAxisMetric(){return this.xAxisMetric||this.metricFacet.values[1].id},isc.A.$136d=function isc_FacetChart__getPointSizeMetric(){if(this.metricFacet==null||!isc.isAn.Array(this.metricFacet.values)){return null}
var _1=this.metricFacet.values;if(!this.$135z(this)){return null}
var _2=null,_3=null;if(this.chartType=="Scatter"||this.chartType=="Bubble"){_2=this.getXAxisMetric();_3=this.getYAxisMetric();if(_2==null||_3==null||_1.findIndex("id",_2)==-1||_1.findIndex("id",_3)==-1)
{return null}}
if(this.pointSizeMetric!=null&&_1.findIndex("id",this.pointSizeMetric)!=-1)
{return this.pointSizeMetric}
if(this.chartType=="Bubble"){if(_1.findIndex("id","pointSize")!=-1){return"pointSize"}
for(var i=0;i<_1.length;++i){var _5=_1[i].id;if(_5!=_2&&_5!=_3){return _5}}}
return null},isc.A.$159s=function isc_FacetChart__getColorScaleMetric(){if(this.metricFacet==null||!isc.isAn.Array(this.metricFacet.values)){return null}
var _1=this.metricFacet.values;if(!this.$135z(this)){return null}
if(this.chartType=="Scatter"||this.chartType=="Bubble"){var _2=this.getXAxisMetric(),_3=this.getYAxisMetric();if(_2==null||_3==null||_1.findIndex("id",_2)==-1||_1.findIndex("id",_3)==-1)
{return null}}
if(this.colorScaleMetric!=null&&_1.findIndex("id",this.colorScaleMetric)!=-1)
{return this.colorScaleMetric}
return null},isc.A.getSecondGradations=function isc_FacetChart_getSecondGradations(){if(this.$106w)return this.$106w;var _1=Math.max(150,this.getInnerContentWidth()-(2*this.chartRectMargin)-300);return this.$914(true,false,_1)},isc.A.drawScatterData=function isc_FacetChart_drawScatterData(_1){var _2;var _3=this.$128a,_4=this.$128b,_5=this.$127t,_6=this.$1279;if(_3==null||_4==null||_5==null||_6==null){return}
var _7=this.getSecondGradations();this.$127v(false,_7,_3,_4);if(!this.showStatisticsOverData){this.$102l()}
if(this.showDataLabels){var _8=this.$106x;for(var i=_7.length;i--;){var _10=this.$140m(false,_7[i],false);this.$155b(_10,_8[i],true,_1)}}
var _11=this.getOrderedData(),_12=this.getLegendFacet(),_13=(_12==null?1:_12.values.length),_14=0;if(_12==null){_14=_11.length}else{for(var i=_13;i--;){_14+=_11[i].series.length}}
var _15=new Array(_14);if(_12==null){this.$1378(_11,_3,_4,_5,_6,_15,0)}else{for(var i=0,j=0;i<_13;++i){var _17=_11[i].series;this.$1378(_17,_3,_4,_5,_6,_15,j);j+=_17.length}}
if(this.showScatterLines){for(var i=0,j=0;i<_13;++i){var _18=this.$107b(i),_19=(_12==null?_11.length:_11[i].series.length);this.$1376(_15,j,j+_19,{lineColor:_18},this);j+=_19}}
var _20=this.$136d();if(this.autoSortBubblePoints&&_20!=null&&this.$135z(this)){var _21=new Array(1+_13);if(_12==null){_21[0]=0;_21[1]=_14}else{for(var i=0,j=0;i<_13;++i){_21[i]=j;j+=_11[i].series.length}
_21[_13]=_14}
var _22;if(_12==null){_22=_11.getProperty("record")}else{_22=new Array(_14);for(var i=_13;i--;){var j=_21[i],_17=_11[i].series;for(var k=_17.length;k--;){_22[j+k]=_17[k].record}}}
var _24=_22.sortByProperties({property:_20,direction:false,normalizer:_2,context:_2},true);var _25=_24.duplicate();for(var i=0;i<_14;++i){if(i!=_25[i]){var j=i,k=_25[j],_26=_15[i];do{_15[j]=_15[k];_25[j]=j;j=k;k=_25[k]}while(k!=i);_15[j]=_26;_25[j]=j}}
if(_12==null){this.$1379(_22,0,_15,0,_14-1)}else{for(var i=0;i<_14;){var k=isc.FacetChart.$96c(_21,0,_21.length-2,null,_24[i],null);if(k<0){k=-(2+k)}
var _27=_21[k],_28=_21[k+1],j=i;while(j<_14&&_27<=_24[j]&&_24[j]<_28){++j}
this.$1379(k,_22,i,j,_15,i,j);i=j}}}else{if(_12==null){var _19=_11.length;this.$1379(0,_11.getProperty("record"),0,_19,_15,0,_19)}else{for(var i=0,j=0;i<_13;++i){var _17=_11[i].series,_19=_17.length;this.$1379(i,_17.getProperty("record"),0,_19,_15,j,j+_19);j+=_19}}}},isc.A.$1378=function isc_FacetChart__getScatterPoints(_1,_2,_3,_4,_5,_6,_7){var _8=this.getXAxisMetric(),_9=this.getYAxisMetric(),_10=this.$1375;for(var i=_1.length;i--;){var _12=_1[i].record;if(_12!=null){var _13=_12[_8],_14=_12[_9];if(_13<_2||_14<_4||_13>_3||_14>_5)
{_6[_7+i]=_10}else{var _15=this.$140m(false,_13),_16=this.$140m(true,_14);_1[i].drawnX=_15;_1[i].drawnY=_16;_6[_7+i]=[_15,_16]}}else{_6[_7+i]=_10}}},isc.A.$1379=function isc_FacetChart__drawScatterSeries(_1,_2,_3,_4,_5,_6,_7){var _8=this.getYAxisMetric(),_9=(_4-_3),_10=new Array(_9);for(var i=_9;i--;){var _12=_2[_3+i];_10[i]=(_12!=null?_12[_8]:null)}
var _13=this.getOrderedData();this.$1377(this,_1,_5,_6,_7,false,_2,_3,_4,_10,0,_9,_13[_1]?_13[_1].series:null);if(this.$1066()!=null){this.$127z(_1,_5,_6,_7,false,_2,_3,_4)}},isc.A.$102m=function isc_FacetChart__getProbabilityMetric(){var _1=this.probabilityMetric,_2=this.metricFacet;return(_1!=null&&_2!=null&&_2.values.findIndex("id",_1)!=-1?_1:null)},isc.A.$102n=function isc_FacetChart__getStatCache(_1){if(_1==null){_1=this.getDefaultMetric()}
if(isc.isA.String(_1)&&this.metricFacet!=null&&this.metricFacet.values.findIndex("id",_1)!=-1){var _2=_1;_1={};_1[this.metricFacet.id]=_2}else{_1={}}
var _3=this.$102k||(this.$102k=this.$106i().getProperty("id"));var _4=isc.StringBuffer.create();for(var i=0,_6=_3.length;i<_6;++i){var _7=_3[i];if(_1[_7]!=null){_4.append(_7,"=",_1[_7].toString(),";")}}
var _8=this.$102o||(this.$102o={}),_9=_4.release(false);if(_8[_9]==null){_8[_9]={criteria:_1}}
return _8[_9]},isc.A.$102p=function isc_FacetChart__getDataArray(_1,_2){var _3=(_2.data||(_2.data=this.getValue(_2.criteria,true)));return _3},isc.A.$102r=function isc_FacetChart__getProbabilities(_1,_2,_3){if(_2.probabilities!=null){return _2.probabilities}
_1=_2.criteria;var c=isc.addProperties({},_1);c[this.metricFacet.id]=_3;var _5=this.getValue(c,true);var n=_5.length,_7=0;for(var i=n;i--;){var p=_5[i];if(!(isc.isA.Number(p)&&p>=0)){_5[i]=0}else{_7+=p}}
if(_7!=1){if(_7==0){var _10=1/n;for(var i=n;i--;){_5[i]=_10}}else{for(var i=n;i--;){_5[i]/=_7}}}
return(_2.probabilities=_5)},isc.A.$102s=function isc_FacetChart__getSortedDataIndex(_1){var _2=this.$102n(_1);if(_2.sortedDataIndex!=null){return _2.sortedDataIndex}else{var _3=this.$102p(_1,_2);var _4=new Array(_3.length);for(var i=_3.length;i--;){_4[i]=i}
_4.sort(function(i,_6){return _3[i]-_3[_6]});return(_2.sortedDataIndex=_4)}},isc.A.getNumDataPoints=function isc_FacetChart_getNumDataPoints(_1){var _2=this.$102n(_1),_3=this.$102p(_1,_2);return(_3==null?null:_3.length)},isc.A.getMean=function isc_FacetChart_getMean(_1){var _2=this.$102n(_1);if(_2.mean!=null){return _2.mean}
var _3=this.$102p(_1,_2),_4=null;if(_3!=null){var _5=this.$102m();if(_5==null){_4=isc.Chart.$102g(_3)}else{var _6=this.$102r(_1,_2,_5);_4=0;for(var i=_3.length;i--;){_4+=_3[i]*_6[i]}}}
return(_2.mean=_4)},isc.A.$102t=function isc_FacetChart__numberSortOrder(_1,_2){return _1-_2},isc.A.getMedian=function isc_FacetChart_getMedian(_1){return this.getPercentile(_1,50)},isc.A.getPercentile=function isc_FacetChart_getPercentile(_1,_2){if(!isc.isA.Number(_2)){return null}
_2=Math.max(0,Math.min(100,_2));var _3="percentile("+_2+")";_2/=100;var _4=this.$102n(_1);if(_4[_3]!=null){return _4[_3]}
var _5=this.$102p(_1,_4);if(_5==null){return null}
var _6=this.$102m(),_7=_5.length;var i,j,_10,_11;if(_6==null){var _12=_4.sortedData||(_4.sortedData=_5.sort(this.$102t));i=Math.floor(_2*(_7-1));j=Math.ceil(_2*(_7-1));_10=_12[i];_11=_12[j]}else{var _13=this.$102s(_1),_14=this.$102r(_1,_4,_6),_15=0;for(j=0;j<_7&&_15<_2;++j){_15+=_14[_13[j]]}
--j;_11=_5[_13[j]];for(i=j;i<_7&&_14[_13[i]]==0;){++i}
if(i==_7)--i;for(_15=1-_15;i>=0&&_15<1-_2;--i){_15+=_14[_13[i]]}
++i;_10=_5[_13[i]]}
return(_4[_3]=(_10+_11)/2)},isc.A.getRange=function isc_FacetChart_getRange(_1){var _2=this.getMax(_1),_3=this.getMin(_1);return(_2==null||_3==null?null:(_2-_3))},isc.A.getStdDev=function isc_FacetChart_getStdDev(_1,_2){var _3=this.getVariance(_1,_2);return(_3==null?null:Math.sqrt(_3))},isc.A.getVariance=function isc_FacetChart_getVariance(_1,_2){var _3=this.$102n(_1),_4=(_2?"population":"sample")+"Variance",_5=(!_2?"population":"sample")+"Variance";if(_3[_4]!=null){return _3[_4]}else if(_3[_5]!=null){var n=_3.data.length;return(_3[_4]=_3[_5]*(_2?(n-1)/n:n/(n-1)))}
var _7=this.$102p(_1,_3);if(_7==null){return null}
var _8=this.$102m(),_9=this.getMean(_1),n=_7.length,_10;if(_8==null){_10=isc.Chart.$102h(_7,_2,_9)}else{var _11=this.$102r(_1,_3,_8);var _12=0;for(var i=_7.length;i--;){var t=_7[i];_12+=t*t*_11[i]}
_10=_12-_9*_9;if(!_2){_10*=n/(n-1)}}
return(_3[_4]=_10)},isc.A.getMax=function isc_FacetChart_getMax(_1){var _2=this.$102n(_1);if(_2.max!=null){return _2.max}else if(_2.sortedData!=null){return(_2.max=_2.sortedData.last())}else{var _3=this.$102p(_1,_2);return(_3==null?null:(_2.max=_3.max()))}},isc.A.getMin=function isc_FacetChart_getMin(_1){var _2=this.$102n(_1);if(_2.min!=null){return _2.min}else if(_2.sortedData!=null){return(_2.min=_2.sortedData.first())}else{var _3=this.$102p(_1,_2);return(_3==null?null:(_2.min=_3.min()))}},isc.A.setRegressionLineType=function isc_FacetChart_setRegressionLineType(_1){var _2=(_1=="line"||_1=="polynomial");if(_2){var _3=(_1!=this.regressionLineType);this.regressionLineType=_1;if(_3&&this.showRegressionLine&&this.regressionPolynomialDegree!=1){this.$105a(false)}}},isc.A.setShowRegressionLine=function isc_FacetChart_setShowRegressionLine(_1){var _2=(_1!=this.showRegressionLine);this.showRegressionLine=_1;if(_2){this.$105a(false)}},isc.A.setRegressionPolynomialDegree=function isc_FacetChart_setRegressionPolynomialDegree(_1){var _2=this.$112m(_1);if(_2){var _3=(_1!=this.regressionPolynomialDegree);this.regressionPolynomialDegree=_1;if(_3&&this.showRegressionLine&&this.regressionLineType=="polynomial"){this.$105a(false)}}},isc.A.$112m=function isc_FacetChart__isDegreeValid(_1){return(isc.isA.Number(_1)&&_1>0&&_1==Math.round(_1))},isc.A.getSimpleLinearRegressionFunction=function isc_FacetChart_getSimpleLinearRegressionFunction(_1,_2){return this.getPolynomialRegressionFunction(1,_1,_2,"FacetChart.getSimpleLinearRegressionFunction()")},isc.A.$102u=function isc_FacetChart__validatePolynomialDegree(_1){return isc.isA.Number(_1)&&_1>0&&Math.round(_1)===_1},isc.A.getPolynomialRegressionFunction=function isc_FacetChart_getPolynomialRegressionFunction(_1,_2,_3,_4){_4=isc.isA.String(_4)?_4:"FacetChart.getPolynomialRegressionFunction()";if(!this.$102u(_1)){if(_1!=null){this.logWarn("Invalid degree argument passed to "+_4+".  The degree must be a positive integer.")}
_1=this.regressionPolynomialDegree;if(!this.$102u(_1)){this.logWarn("The regressionPolynomialDegree property of the FacetChart is invalid.  The degree must be a positive integer.");return null}}
var _5=this.metricFacet.id,_6,_7;if(!(isc.isA.String(_2)&&(_6=this.getFacetValue(_5,_2)))){if(_2!=null){this.logWarn("Invalid xMetric argument passed to "+_4+".  The xMetric must be the String ID of a metric facet value.")}
_2=this.getXAxisMetric();if(!(isc.isA.String(_2)&&(_6=this.getFacetValue(_5,_2)))){this.logWarn("Could not find an x-axis metric defined for the FacetChart.");return null}}
if(!(isc.isA.String(_3)&&(_7=this.getFacetValue(_5,_3)))){if(_3!=null){this.logWarn("Invalid yMetric argument passed to "+_4+".  The yMetric must be the String ID of a metric facet value.")}
_3=this.getYAxisMetric();if(!(isc.isA.String(_3)&&(_7=this.getFacetValue(_5,_3)))){this.logWarn("Could not find a y-axis metric defined for the FacetChart.");return null}}
var _8={},_9={};_8[_5]=_6.id;_9[_5]=_7.id;return isc.FacetChart.$102v(_1,this.getValue(_8,true),this.getValue(_9,true))},isc.A.$102l=function isc_FacetChart__drawStatistics(_1,_2){if(this.isPieChart()){return}
if(this.isMultiFacet()&&this.isStacked()){return}
var _3=this.chartType=="Radar";var m;if(_1&&this.metricFacet&&_1[this.metricFacet.id]&&this.metricFacet.findIndex("id",_1[this.metricFacet.id])!=-1)
{m=_1[this.metricFacet.id]}else{m=this.getDefaultMetric()}
if(_2==null){if(this.chartType=="Scatter"||this.chartType=="Bubble"){if(m==this.getXAxisMetric())_2=false;else if(m==this.getYAxisMetric())_2=true}else if(_3){if(m==this.valueProperty)_2=false}else if(this.hasXGradations()){if(m==this.valueProperty)_2=false}else if(this.hasYGradations()){if(m==this.valueProperty)_2=true}}
if(_2==null){return}
var _5=this.getChartRect();var _6=_5.top,_7=_5.left,_8=_5.width,_9=_5.height,_10=_6+_9,_11=_7+_8;var _12,_13;if(_3){_12=this.getChartCenter();_13=this.getChartRadius()}
var _14,_15;if(this.chartType=="Scatter"||this.chartType=="Bubble"){var _16=this.getXAxisMetric();_14=Math.min(0,this.getMinValue(_16));_15=this.getMaxValue(_16)}
if(_3&&_2){return}
var _17=this.showExpectedValueLine,_18=this.showStandardDeviationLines&&isc.isAn.Array(this.standardDeviations),_19=null,_20=null;if(_17||_18){_19=this.getMean(_1);if(_18){_20=this.getStdDev(_1)}
if(_19==null){_17=_18=false}
if(_20==null){_18=false}}
if(_18){var _21=this.standardDeviations,_22=_21.length,_23=this.useSymmetricStandardDeviations,_24=this.standardDeviationBandProperties;if(_23){_21=_21.map(Math.abs);var _25=(_21.first()===0),_26=_25?1:0,_27=_22-_26,_28=2*(_22-_26)+_26,_29=new Array(_28),_30=2*_27-1,_31=new Array(_30);for(var i=_22-_26;i--;){var j=i+_26;_29[j]=-(_29[_28-1-j]=_21[_22-1-i]);_31[i]=_31[_30-1-i]=_24[_27-1-i]}
if(_25){_29[_22]=0}
_22=_28;_21=_29;_24=_31}
if(this.bandedStandardDeviations&&!_3&&_22>1){var _34,_35=_19+_20*_21[0],_36,_37;if(_2){_37=this.$140l.transformY(_35);_37=Math.max(_6,Math.min(_10,_37))}else{_37=this.$140m(false,_35);_37=Math.max(_7,Math.min(_11,_37))}
for(var i=1;i<_22;++i){_34=_35;_35=_19+_20*_21[i];_36=_37;var t=_6,l=_7,w=_8,h=_9;if(_2){_37=this.$140m(true,_35);_37=Math.max(_6,Math.min(_10,_37));t=_36;h=_37-t}else{_37=this.$140m(false,_35);_37=Math.max(_7,Math.min(_11,_37));l=_36;w=_37-l}
var _42=_24[i-1];if(_42==null){continue}
this.addDrawItem(isc.DrawRect.create(_42,{autoDraw:true,top:t,left:l,width:w,height:h}))}}
for(var i=0;i<_22;++i){var _43=_21[i],_35=_19+_20*_43;if(_43==0&&_17){continue}
if(_3&&!_2){var _44=this.getValueRatio(_35,this.$127t,this.$1279);if(!(_44<0||_44>1)){this.addDrawItem(isc.DrawOval.create(this.standardDeviationLineProperties,{autoDraw:true,centerPoint:_12,radius:_44*_13}))}}else if(_2){var y=this.$140m(true,_35);if(!(y<_6||y>_10)){this.addDrawItem(isc.DrawLine.create(this.standardDeviationLineProperties,{autoDraw:true,startLeft:_7,startTop:y,endLeft:_11,endTop:y}))}}else{var x=this.$140m(false,_35);if(!(y<_7||y>_11)){this.addDrawItem(isc.DrawLine.create(this.standardDeviationLineProperties,{autoDraw:true,startLeft:x,startTop:_6,endLeft:x,endTop:_10}))}}}}
if(_17){if(_3&&!_2){var _44=this.getValueRatio(_19,this.$127t,this.$1279);if(!(_44<0||_44>1)){this.addDrawItem(isc.DrawOval.create(this.expectedValueLineProperties,{autoDraw:true,centerPoint:_12,radius:_44*_13}))}}else if(_2){var y=this.$140m(true,_19);if(!(y<_6||y>_10)){this.addDrawItem(isc.DrawLine.create(this.expectedValueLineProperties,{autoDraw:true,startLeft:_7,startTop:y,endLeft:_11,endTop:y}))}}else{var x=this.$140m(false,_19);if(!(x<_7||x>_11)){this.addDrawItem(isc.DrawLine.create(this.expectedValueLineProperties,{autoDraw:true,startLeft:x,startTop:_6,endLeft:x,endTop:_10}))}}}
this.$102w()},isc.A.$102w=function isc_FacetChart__drawRegressionCurves(){if(this.chartType!="Scatter"&&this.chartType!="Bubble"){return}else if(this.showRegressionLine){if(this.regressionLineType=="line"){var _1=this.getSimpleLinearRegressionFunction();if(_1!=null){this.$102x(_1,1,this.regressionLineProperties)}}else if(this.regressionLineType=="polynomial"){var _2=this.regressionPolynomialDegree,_3=this.getPolynomialRegressionFunction(_2);if(_3!=null){this.$102x(_3,_2,this.regressionLineProperties)}}}},isc.A.$102x=function isc_FacetChart__drawPolynomial(_1,_2,_3){var _4=this.getChartRect(),_5=this.getSecondGradations(),_6=this.$128a,_7=this.$128b,_8=_7-_6,_9=this.getGradations(),_10=this.$127t,_11=this.$1279,n;if(_2==1){n=2}else{n=Math.ceil(_4.width/5)}
var _13=new Array(n);for(var i=n;i--;){var x=_6+i*_8/(n-1),_16=this.$140m(false,x),_17=this.$140m(true,_1(x));_13[i]=[_16,_17]}
var _18=!this.supportsFractionalCoordinates(),_19=isc.FacetChart.$102y(_13,_4,_18),_20=_19.length;if(_2==1){var _21=_19[0][0],_22=_19[0][1];this.addDrawItem(isc.DrawLine.create(_3,{autoDraw:true,startLeft:_21[0],startTop:_21[1],endLeft:_22[0],endTop:_22[1]}))}else{for(var i=0;i<_20;++i){this.addDrawItem(isc.DrawPath.create(_3,{autoDraw:true,points:_19[i]}))}}},isc.A.drawDataPoint=function isc_FacetChart_drawDataPoint(_1,_2,_3,_4,_5,_6,_7,_8){_6=_6||this;_7=_7!=null?_7:this.interactivePoints;if(isNaN(_1[1]))return;var _9=this.$159s(),_10;if(_9!=null){_10=this.$138y(_4[_9])}else{_10=this.$107b(_2,_6)}
var _11=this.$1352(this),_12=this.pointShapes[(_11?(_2%this.pointShapes.length):0)];_3=((_3===0||_3)?_3:_6.dataPointSize);var _13=this.$136o(_3,_10);var _14=this.$138a(_12,_10,_6,_13,_8,_1,_3);if(this.$136d()==null){_14.isPointInPath=function(_16,_17){if(_1[0]<0||_1[1]<0)return false;var _15=isc.Math.$101k(_16-_1[0],_17-_1[1]);return _15<_3*2}}
_14.setProperties({canHover:_7,$104q:_6,dataRecord:_4,dataValue:_5});return _14},isc.A.$138a=function isc_FacetChart__createDataShape(_1,_2,_3,_4,_5,_6,_7){var _8=Math.round(_7/2),_9=null;if(_1==this.$126c){_9=isc.DrawOval.create({lineColor:_2,fillColor:_2},_3.dataPointDefaults,_3.dataPointProperties,_4,{drawPane:this,autoDraw:_5,centerPoint:_6,radius:_8})}else if(_1==this.$126d||_1==this.$126e){_9=isc.DrawRect.create({lineColor:_2,fillColor:_2},_3.dataPointDefaults,_3.dataPointProperties,_4,{drawPane:this,autoDraw:_5,left:_6[0]-_8,top:_6[1]-_8,width:_7,height:_7,rotation:(_1==this.$126d?0:45)})}else if(_1==this.$1353){_9=isc.DrawTriangle.create({lineColor:_2,fillColor:_2},_3.dataPointDefaults,_3.dataPointProperties,_4,{drawPane:this,autoDraw:_5,points:[[_6[0]-_8,_6[1]+_8],[_6[0]+_8,_6[1]+_8],[_6[0],_6[1]-_8]]})}
return _9},isc.A.getTriangleOnPoint=function isc_FacetChart_getTriangleOnPoint(_1,_2){var _3=[];var _4=Math.round(_2/2);_3.push([_1[0]-_4,_1[1]+_4]);_3.push([_1[0]+_4,_1[1]+_4]);_3.push([_1[0],_1[1]-_4]);return _3},isc.A.$136o=function isc_FacetChart__completeBubbleProperties(_1,_2){var _3=this.$136d(),_4=this.$159s(),_5=null;if(_3!=null||_4!=null){_5=isc.addProperties({fillColor:_2,lineColor:_2},this.bubbleProperties);if(_5.fillGradient!=null){var _6=_5.fillGradient=isc.addProperties({},_5.fillGradient);if(!_6.hasOwnProperty("colorStops")){var _7=isc.DrawPane.addrgb(_2,"#201500");var _8=isc.DrawPane.subtractrgb(_2,"#103E00");var _9=(_5.fillOpacity===0?0:(_5.fillOpacity||1.0));_6.colorStops=[{color:_8,offset:0,opacity:_9},{color:_2,offset:this.$1354,opacity:_9},{color:_7,offset:1.0,opacity:_9}]}}}
return _5});isc.evalBoundary;isc.B.push(isc.A.prepareForDragging=function isc_FacetChart_prepareForDragging(){this.Super("prepareForDragging",arguments);var _1=this.$778;if(_1!=null){this.hoopSelectorRect=[this.getPageLeft()+_1.left,this.getPageTop()+_1.top,_1.width,_1.height]}},isc.A.drawTitle=function isc_FacetChart_drawTitle(){if(!this.showTitle){this.$78t={left:0,top:0,width:0,height:0}
return}
var _1=this.$78t=this.measureLabel(this.title||" ",this.titleProperties);var _2=Math.floor((this.getInnerContentWidth()/2)-(_1.width/2));this.$78h=this.drawLabel(_2,0,this.title||" ",this.titleProperties)},isc.A.setTitle=function isc_FacetChart_setTitle(_1){this.title=_1;if(this.showTitle)this.$105a(false)},isc.A.setShowTitle=function isc_FacetChart_setShowTitle(_1){this.showTitle=_1;this.$105a(false)},isc.A.shouldShowDataAxisLabel=function isc_FacetChart_shouldShowDataAxisLabel(){if(this.chartType=="Scatter"||this.chartType=="Bubble"){var _1=this.$1065(),_2=(_1!=null?this.getFacetValue(_1.id,this.getXAxisMetric()):null),_3=(_2&&_2.title)||null;return(_3!=null&&this.showDataAxisLabel!==false)}else{var _4=this.getDataLabelFacet();return(!this.isPieChart()&&this.chartType!="Radar"&&_4!=null&&_4.title!=null&&(this.showDataAxisLabel!==false))}},isc.A.shouldShowValueAxisLabel=function isc_FacetChart_shouldShowValueAxisLabel(_1){_1=_1||this;var _2=this.$159w(_1)&&_1.proportional;return(_1.showValueAxisLabel!==false&&!(_1!=this&&_1.showAxis==false)&&(_1!=this||(!this.isPieChart()&&this.chartType!="Radar"))&&(!this.hasYGradations(_1.chartType)||this.$1057)&&(_2||_1.valueTitle!=null))},isc.A.getDataAxisLabelHeight=function isc_FacetChart_getDataAxisLabelHeight(){if(!this.shouldShowDataAxisLabel()){return 0}
var _1;if(this.chartType=="Scatter"||this.chartType=="Bubble"){var _2=this.$1065(),_3=(_2!=null?this.getFacetValue(_2.id,this.getXAxisMetric()):null);_1=(_3&&_3.title)||null;if(_1==null){return 0}}else{var _4=this.getDataLabelFacet();if(!_4){return 0}
_1=_4.title}
var _5=this.measureLabel(_1,this.dataAxisLabelProperties);return _5.height+this.axisLabelMargin},isc.A.getValueAxisLabelHeight=function isc_FacetChart_getValueAxisLabelHeight(_1){_1=_1||this;if(!this.shouldShowValueAxisLabel(_1))return 0;var _2=this.$159w(_1)&&_1.proportional,_3=(_2?this.$140g(_1):_1.valueTitle),_4=this.measureLabel(_3,_1.valueAxisLabelProperties);return _4.height+this.axisLabelMargin},isc.A.getAxisLabelSpace=function isc_FacetChart_getAxisLabelSpace(_1){if(_1==this.hasYGradations()){return this.getValueAxisLabelHeight()}else{return this.getDataAxisLabelHeight()}},isc.A.drawDataAxisLabel=function isc_FacetChart_drawDataAxisLabel(){if(!this.shouldShowDataAxisLabel())return;var _1;if(this.chartType=="Scatter"||this.chartType=="Bubble"){var _2=this.getFacetValue(this.$1065().id,this.getXAxisMetric());_1=_2.title||_2.id}else{_1=this.getDataLabelFacet().title}
this.drawAxisLabel(_1,this.dataAxisLabelProperties,!this.hasYGradations(),false)},isc.A.drawValueAxisLabel=function isc_FacetChart_drawValueAxisLabel(){if(!this.shouldShowValueAxisLabel())return;var _1=this.$159w(this)&&this.proportional,_2=(_1?this.$140g(this):this.valueTitle);this.drawAxisLabel(_2,this.valueAxisLabelProperties,this.hasYGradations(),false)},isc.A.$104h=function isc_FacetChart__drawAllValueAxisLabels(){if(!this.$1035()){this.drawValueAxisLabel()}else{var _1=this.$1036();if(this.$104g()){this.drawValueAxisLabel();var _2=_1.right[0];if(!this.shouldShowValueAxisLabel(_2))return;var _3=this.$159w(_2)&&_2.proportional,_4=(_3?this.$140g(_2):_2.valueTitle);_2.$1048=this.drawAxisLabel(_4,_2.valueAxisLabelProperties,true,true)}else{var _5=this.getChartTop()+this.getChartHeight()+this.chartRectMargin,_6=this.$104i();for(var j=0;j<_6;++j){var _2=(j==0?this:_1.all[j-1]);if(!this.shouldShowValueAxisLabel(_2)){continue}
var _3=this.$159w(_2)&&_2.proportional,_4=(_3?this.$140g(_2):_2.valueTitle),_8=_2.valueAxisLabelProperties,_9=this.measureLabel(_4,_8);var _10=this.$103v(_2),_11=_2.$104f;_2.$1048=isc.DrawLabel.create(_8,{autoDraw:true,drawPane:this,left:_10+Math.round((_11-_9.width)/2),top:_5,height:_9.height,contents:_4})}}}},isc.A.drawAxisLabel=function isc_FacetChart_drawAxisLabel(_1,_2,_3,_4){var _5=this.measureLabel(_1,_2),_6=this.getChartRect();if(_3){var _7=_5.width/2;var _8=this.getHeight(),_9=_6.top+_6.height/2,_10=_9-_7,_11=_8-_9-_7;if(_10<0&&_11>-_10)_9-=_10;else if(_11<0&&_10>-_11)_9+=_11;else if(_11<0||_10<0)_9=_8/2;isc.DrawLabel.create(_2,{autoDraw:true,drawPane:this,left:_4?this.getInnerContentWidth()-_5.height:0,top:Math.round(_9+_7),height:_5.height,rotation:270,suppressArbitraryRotationWarning:true,contents:_1})}else{isc.DrawLabel.create(_2,{autoDraw:true,drawPane:this,left:_6.left+Math.round(_6.width/2-_5.width/2),top:(_6.top+_6.height+this.chartRectMargin+this.getXLabelsHeight()-_5.height),contents:_1})}},isc.A.$122j=function isc_FacetChart__shouldShowLegend(){return(this.showLegend!==false&&this.$122i()&&(this.isMultiFacet()||this.isPieChart()||((this.chartType=="Scatter"||this.chartType=="Bubble")&&this.$106i().length>1)||(this.$1035()))&&this.$159s()==null)},isc.A.getLegendFacet=function isc_FacetChart_getLegendFacet(){var _1=this.$106i(),_2=this.isPieChart();if(this.chartType=="Scatter"||this.chartType=="Bubble"){return _1[1]}else if(this.isMultiFacet()){return(this.reversePieFacets&&_2?_1[0]:_1[1])}else if(_2){return _1[0]}else{return null}},isc.A.getDataLabelFacet=function isc_FacetChart_getDataLabelFacet(){var _1=this.$106i();if(!_1)return null;if(this.chartType=="Scatter"||this.chartType=="Bubble"){return null}else if(this.isPieChart()){if(!this.isMultiFacet()){return null}else if(this.reversePieFacets){return _1[1]}}
return _1[0]},isc.A.$111a=function isc_FacetChart__getInlinedFacet(){return(this.$106l||this).inlinedFacet},isc.A.drawLegend=function isc_FacetChart_drawLegend(){this.logDebug("drawing legend","chartDraw");var _1=this.legendSwatchSize;var _2=this.legendPadding;var _3=this.legendItemPadding;var _4=this.legendTextPadding;var _5=this.legendRowPadding;var _6=this.$1035();var _7=this.$1065(),_8=this.getLegendFacet(),_9=_8&&_8.values&&_8.values.getLength();var _10=[];if(_6){var _11=_7&&_7.values[0],_12=_11==null?this.valueTitle:this.$1811(_11.id,_11.title,_7);var _13={};if(_7!=null){_13[_7.id]=_11.id}
if(this.isMultiFacet()){for(var k=0;k<_9;++k){var _15=_8.values[k];_13[_8.id]=_15.id;var _16=this.getValue(_13,true),_17=true;for(var j=(_16!=null?_16.length:0);_17&&j--;){_17=!isc.isA.Number(_16[j])}
if(!_17){_10.add({title:_12+" ("+this.$1811(_15.id,_15.title,_8)+")",context:this,series:k,value:_11,metricValue:_15})}}}else{var _16=this.getValue(_13,true),_17=true;for(var j=(_16!=null?_16.length:0);_17&&j--;){_17=!isc.isA.Number(_16[j])}
if(!_17){_10.add({title:_12,context:this,series:0,value:_11})}}
_13={};var _19=this.$1036().all;for(var j=0,_20=_19.length;j<_20;++j){var _21=_19[j];var _22=this.getFacetValue(_7.id,_21.$103o),_23=this.$1811(_22.id,_22.title,_7);_13[_7.id]=_22.id;if(_21.isMultiFacet()){for(var k=0;k<_9;++k){var _15=_8.values[k];_13[_8.id]=_15.id;var _16=this.getValue(_13,true),_17=true;for(var l=(_16!=null?_16.length:0);_17&&l--;){_17=!isc.isA.Number(_16[l])}
if(!_17){_10.add({title:_23+" ("+this.$1811(_15.id,_15.title,_8)+")",context:_21,series:k,value:_22,metricValue:_15})}}}else{var _16=this.getValue(_13,true),_17=true;for(var l=(_16!=null?_16.length:0);_17&&l--;){_17=!isc.isA.Number(_16[l])}
if(!_17){var _25=_21.legendLabel;if(_25==null){_25=_23;if(this.isMultiFacet()){var _26=this.$103u(_21);_25=_25+" ("+this.$1811(_26.id,_26.title,_7)+")"}}
_10.add({title:_25,context:_21,series:0,value:_22,metricValue:_26})}}}}else{if(!_8.values)return;var _13={};if(_7!=null){_13[_7.id]=_7.values[0].id}
for(var i=0;i<_9;i++){var _15=_8.values[i];_13[_8.id]=_15.id;var _16=this.getValue(_13,true),_17=true;for(var j=(_16!=null?_16.length:0);_17&&j--;){_17=!isc.isA.Number(_16[j])}
if(!_17){_10.add({title:this.$1811(_15.id,_15.title,_8),value:_15,series:i})}}}
var _28=this.getInnerWidth();var _29=_2;var _30=1;for(var i=0;i<_10.length;i++){var _31=this.measureLabel(_10[i].title,this.legendLabelProperties);var _32=_1+_4+_31.width;if(_29+_32+_2>_28){_30++;_29=_2}
if(i!=_10.length-1){_32+=_3}
_10[i].width=_31.width;_10[i].height=_31.height;_10[i].rowNum=_30;_10[i].left=_29;_29+=_32}
_29+=_2;var _33,_34,_35,_36;if(_30>1){_36=_28}else{_36=_29}
_34=(_30*_1)+(_2*2)+((_30-1)*_5);_35=this.getInnerContentHeight()
-(this.$106d()?this.$106c+this.zoomChartHeight+this.$106e:0)
-_34;if(_36==_28)_33=0;else _33=Math.floor((_28/2)-(_36/2));this.$78k={left:_33,top:_35,width:_36,height:_34};if(this.showLegendRect){var _37=this.drawRect(_33,_35,_36,_34,this.legendRectProperties,this);this.$129p(_37)}
var _38=isc.addProperties({$104x:true,hoverDelay:this.hoverDelay},this.legendLabelProperties);for(i=0;i<_10.length;i++){var _39=_10[i].width;var _29=_33+_10[i].left;var _40=_10[i].rowNum;var _41=_35+((_1+_5)*(_40-1))+_2;var _42={hoverDelay:this.hoverDelay}
if(_6){this.$129p(_42,_10[i].value,_10[i].metricValue);this.$104b(_10[i].context,_10[i].series,_29,_41,_1,_42)}else{_42.fillColor=this.$107b(_10[i].series);this.$129p(_42,_10[i].value,_10[i].metricValue);if((this.chartType=="Area"||this.chartType=="Line"||this.chartType=="Radar")&&this.isFilled(this)&&this.dataShapeProperties!=null)
{_42.fillOpacity=this.dataShapeProperties.fillOpacity}
this.drawRect(_29,_41,_1,_1,isc.addProperties(_42,this.legendSwatchProperties),this)}
_29+=_1+_4;var _43=this.drawLabel(_29,_41+Math.round((_1-this.getDataLabelHeight())/2),_10[i].title,_38);this.$129p(_43,_10[i].value,_10[i].metricValue)}},isc.A.$136n=function isc_FacetChart__drawPointSizeLegend(){var _1=this.$1065(),_2=this.$136d(),_3;var _4=_1.values.find("id",_2),_5=_4.title||_4.id;var _6=isc.addProperties({$104x:true},this.pointSizeLegendLabelProperties);var _7=isc.addProperties({$104x:true},this.pointSizeLegendTitleLabelProperties);var _8=this.getInnerContentWidth(),_9=(this.getInnerContentHeight()
-this.$78t.height
-(this.$78k?this.legendMargin+this.$78k.height:0)
-(this.$138u?(this.colorScaleLegendTopMargin+this.$138u.height+this.colorScaleLegendBottomMargin):0)
-(this.$106d()?(this.$106c+this.zoomChartHeight+this.$106e):0));var _10=this.measureLabel(_5,_7),_11=_10.width,_12=_10.height;var _13=this.$1351(),_14=this.getMinValue(_2,false,this,false,false,_13),_15=this.getMaxValue(_2,false,this,false,false,_13),_16=(this.maxDataPointSize-this.minDataPointSize);var _17=this.$1352(this),_18=(this.showBubbleLegendPerShape&&_17),_19=[],_20=[];if(_18){var _21=this.getLegendFacet(),_22=_21&&_21.values&&_21.values.length;for(var i=0;i<_22;++i){var _24=this.pointShapes[i%this.pointShapes.length];if(!_19.contains(_24)){_19.push(_24);_20.push(i)}}}else{_19.push(this.pointShapes[0]);_20.push(0)}
var _25=_19.length;var _26=(_13&&this.usePointSizeLogGradations),_27,_28=0,_29=0,_30=0;if(_26){var _31=this.pointSizeLogBase,_32=this.$128g(this.pointSizeLogGradations,this.pointSizeLogBase),_33=this.getMagnitude(_14,_31,_3),_34=this.getMagnitude(_15,_31,_3);if(Math.pow(_31,_33-1)*_32[0]>_14){--_33}
var b=0,_36=Math.pow(_31,_33-1)*_32[0],c=(_34-_33+1)*_32.length,_38=Math.pow(_31,_34),_39=(c-b+1);for(;_39<2;++_39){--b;var i=_33-1+Math.floor(b/_32.length),j=(b&_32.length);_36=Math.pow(_31,i)*_32[j]}
_30=(2*this.pointSizeLegendPadding+_12+_39*this.pointSizeLegendRowPadding);_27=null;for(var n=b;n<=c;++n){var i=_33-1+Math.floor(n/_32.length),j=(n%_32.length),_42=Math.pow(_31,i)*_32[j];_67=this.getValueRatio(_42,_14,_15,_13,this),_68=Math.round(this.minDataPointSize+_16*_67);if(_68<=0){--_39;++b;if(_39<2){++_39;++c}}else{if(_27==null){_27=new Array(_39)}
_27[n-b]=_42;var _43=this.formatPointSizeValue(_42),_44=this.measureLabel(_43,_6);_28=Math.max(_28,_68);_29=Math.max(_29,_44.width);_30+=Math.max(_68,_44.height)}}}else{var _45=this.getMagnitude(_15-_14,10,_3),_46=Math.pow(10,_45-1),_47=Math.pow(10,_45-2),_48=[_47,2*_47,5*_47,_46,2*_46,5*_46];var _49=0.17*_8,_50=0.5*_9,_51=(_8-_49)/6,_52=(_9-_50)/6,_53=2*_51*_51,_54=2*_52*_52;var _55=this.pointSizeGradations,_56=0,_57=0,_58=0,_59=0,_60=0,_61=0,_62=0,_63=0,_64=0;var _65=0;for(var i=0;i<_48.length;++i){_28=_29=_65=_30=0;var _66=_48[i],b=Math.floor(_14/_66),_36=_66*b,c=Math.ceil(_15/_66),_38=_66*c,_39=(c-b+1);for(var j=b;j<=c;++j){var _42=j*_66,_67=this.getValueRatio(_42,_14,_15,_13,this),_68=Math.round(this.minDataPointSize+_16*_67);if(_68<=0){--_39;++b;if(_39<2){++_39;++c}}else{var _43=this.formatPointSizeValue(_42),_44=this.measureLabel(_43,_6);_28=Math.max(_28,_68);_29=Math.max(_29,_44.width);_30+=Math.max(_68,_44.height)}}
_30+=(2*this.pointSizeLegendPadding+_12+_39*this.pointSizeLegendRowPadding);_65=(2*this.pointSizeLegendPadding+Math.max(_11,(_25*_28+(_25-1)*this.pointSizeLegendShapePadding+this.pointSizeLegendTextPadding+_29)));var _69=(_65-_49),_70=(_30-_50),_71=Math.exp(-(_69*_69/_53+_70*_70/_54));if(i==0||(_39>=Math.ceil(_55/2)&&((Math.abs(_39-_55)
<=Math.abs(_57-_55))||_39>_57||_71>_56)))
{_56=_71;_57=_39;_58=_66;_59=b;_60=c;_61=_65;_62=_30;_63=_28;_64=_29}}
_27=new Array(_60-_59+1);for(var i=_27.length;i--;){_27[i]=(_59+i)*_58}
_28=_63;_29=_64;_30=_62}
var _39=_27.length,_72=(_25*_28+(_25-1)*this.pointSizeLegendShapePadding+this.pointSizeLegendTextPadding+_29),_65=(2*this.pointSizeLegendPadding+Math.max(_11,_72));var _73=_8-_65-this.pointSizeLegendMargin,_74=this.$78t.height+Math.max(0,Math.floor((_9-_30)/2)),_75=_65,_76=_30;this.$136m={left:_73,top:_74,width:_75,height:_76};var _77=_73+this.pointSizeLegendPadding,_78=_74+this.pointSizeLegendPadding;_65-=2*this.pointSizeLegendPadding;this.drawLabel(_77+Math.floor((_65-_11)/2),_78,_5,_7);_78+=this.pointSizeLegendRowPadding+_12;_77+=Math.floor((_65-_72)/2);var _79=Math.floor(_28/2);for(var j=_39;j--;){var _42=_27[j],_67=this.getValueRatio(_42,_14,_15,_13,this),_68=Math.round(this.minDataPointSize+_16*_67),_43=this.formatPointSizeValue(_42),_80=this.measureLabel(_43,_6).height,_81=Math.max(_68,_80);var _82=_78+Math.floor(_81/2);for(var k=0;k<_25;++k){var _24=_19[k],_84=this.$107b(_20[k],this),_85=this.$136o(_68,_84),_86=[(_77+_79+k*(_28+this.pointSizeLegendShapePadding)),_82];this.$138a(_24,_84,this,_85,true,_86,_68)}
this.drawLabel((_77+_25*_28+(_25-1)*this.pointSizeLegendShapePadding+this.pointSizeLegendTextPadding),_78+Math.floor((_81-_80)/2),_43,_6);_78+=_81+this.pointSizeLegendRowPadding}
if(this.showPointSizeLegendRect){this.drawRect(_73,_74,_75,_76,this.pointSizeLegendRectProperties,this)}},isc.A.$138x=function isc_FacetChart__drawColorScaleLegend(){var _1=this.$1065(),_2=this.$159s(),_3;var _4=_1.values.find("id",_2),_5=_4.title||_4.id,_6=this.colorScaleLegendLabelProperties,_7=this.colorScaleLegendTitleLabelProperties,_8=this.getInnerContentWidth(),_9=this.getInnerContentHeight();var _10=this.measureLabel(_5,_7),_11=_10.width,_12=_10.height;var _13=this.$138q(),_14=this.getMinValue(_2,false,this,false,false,_13),_15=this.getMaxValue(_2,false,this,false,false,_13),_16=this.$138s();var _17=(this.colorScaleLegendRotateLabels!="never"),_18=(this.colorScaleLegendRotateLabels!="always");var _19=(this.colorScaleRectProperties.lineOpacity>0?(this.colorScaleRectProperties.lineWidth||0):0),_20=(this.colorScaleRectProperties.height||isc.FacetChart.getInstanceProperty("colorScaleRectProperties").height);var _21=this.colorScaleLegendWidth;if(isc.isA.Number(_21)){_21=Math.round(_21)}else if(isc.isA.String(_21)&&isc.endsWith(_21,this.$o9)){_21=Math.round(parseInt(_21,10)/100*_8)}else{_21=parseInt(_21)}
_21=Math.max(0,Math.min(_8,_21));var _22=0.17*_9,_23=(_8-_21)/6,_24=(_9-_22)/6,_25=2*_23*_23,_26=2*_24*_24;var _27=5;var _28=this.pointColorLogBase,_29={utility:0,satisfiesMinLabelGap:false,satisfiesZeroLabelGap:false,gradations:null,numGradations:0,width:0,height:0,nonTitleWidth:0,outerLabelWidth:0},_30=isc.addProperties({},_29);if(_13&&this.useColorScaleLogGradations){var _31=this.$128g(this.colorScaleLogGradations,_28),_32=this.getMagnitude(_14,_28,_3),_33=this.getMagnitude(_15,_28,_3);if(Math.pow(_28,_32-1)*_31[0]>_14){--_32}
var b=0,_35=Math.pow(_28,_32-1)*_31[0],c=(_33-_32+1)*_31.length,_37=Math.pow(_28,_33),_38=(c-b+1);for(;_38<2;++_38){--b;var i=_32-1+Math.floor(b/_31.length),j=(b&_31.length);_35=Math.pow(_28,i)*_31[j]}
var _41=(Math.pow(_28,_32-1+Math.floor(b/_31.length))*
_31[b%_31.length]),_42=this.logValue(_41,_28,this),_43=(Math.pow(_28,_32-1+Math.floor(c/_31.length))*
_31[c%_31.length]),_44=this.logValue(_43,_28,this),_45=_44-_42;var _46=new Array(_38),_47=1.0,_48=0,_49=0,_50=0,_51=0,_52=0,_53=0,_54=0,_55=0,_56=0,_57=0,_58=0;for(var n=b;n<=c;++n){var i=_32-1+Math.floor(n/_31.length),j=(n%_31.length),_60=_46[n-b]=Math.pow(_28,i)*_31[j],_61=this.logValue(_60,_28,this);var _62=this.formatColorScaleValue(_60),_63=this.measureLabel(_62,_6),_64=_63.width,_65=_63.height;if(n>b){var _66=_61-_58,w=(_56+_64)/2*_45/_66,h=(_57+_65)/2*_45/_66;_47=Math.min(_47,_66);_48=Math.max(_48,w);_49=Math.max(_49,h)}
_50=Math.max(_50,_64);_51=Math.max(_51,_65);if(n==b){_52=_64;_53=_65}
if(n==c){_54=_64;_55=_65}
_56=_64;_57=_65;_58=_61}
_30.gradations=_29.gradations=_46;_30.numGradations=_29.numGradations=_38;for(var l=0;l<2;++l){var _70=(l==0),_71=(_70?_29:_30);if(!(_70?_17:_18)){continue}
var _72=0;if(_70){_72=Math.max(_53,_55)}else{_72=Math.max(_52,_54)}
_72=Math.max(0,(_72-2*this.colorScaleLegendTickMarkInset));var _73=(2*this.colorScaleLegendPadding+_72),_74=(2*this.colorScaleLegendTickMarkInset+_48),_75=_73+_74,_76=(_21-_75)*_47/_45,_77=(_8-_75)*_47/_45;var _78=_74;if(_77<_95){_78+=_45/_47*Math.max(0,_77)}else if(_76<_95){_78+=_45/_47*_95}else{_78=Math.round(_21)}
_78=Math.max(0,Math.min(_8-_73,_78));var _79=(_72+_78),_80=(2*this.colorScaleLegendPadding+Math.max(_11,_79)),_81=(2*this.colorScaleLegendPadding+_12+this.colorScaleLegendTitlePadding+_20+this.colorScaleLegendTickMarkLength+this.colorScaleLegendTextPadding+(_70?_50:_51)),_82=(_80-_21),_83=_82*_82,_84=(_81-_22),_85=_84*_84;_71.utility=Math.exp(-(_83/_25+_85/_26));_71.width=_80;_71.height=_81;_71.nonTitleWidth=_79;_71.outerLabelWidth=_72;_71.satisfiesMinLabelGap=(_95<=_77);_71.satisfiesZeroLabelGap=(0<=_77)}}else{var _86=this.getMagnitude(_15-_14,10,_3),_87=Math.pow(10,_86-1),_88=Math.pow(10,_86-2),_89=[_88,2*_88,5*_88,_87,2*_87,5*_87];for(var i=0;i<_89.length;++i){var _90=_89[i],b=Math.floor(_14/_90),_35=b*_90,c=Math.ceil(_15/_90),_37=c*_90,_38=(c-b+1),_46=new Array(_38);var _50=0,_51=0,_52=0,_53=0,_54=0,_55=0,_56=0,_57=0;var _42,_44,_45,_47,_58,_91,_92,_93,_94;if(_13){_42=(_35==0?0:this.logValue(_35,_28,this));_44=this.logValue(_37,_28,this);_45=(_44-_42);_47=1.0;_58=0;_91=_92=0}else{_93=_94=0}
for(var j=b;j<=c;++j){var _60=_46[j-b]=j*_90,_61=_13&&(_60==0?0:this.logValue(_60,_28,this)),_62=this.formatColorScaleValue(_60),_63=this.measureLabel(_62,_6),_64=_63.width,_65=_63.height;_50=Math.max(_50,_64);_51=Math.max(_51,_65);if(j==b){_52=_64;_53=_65}
if(j==c){_54=_64;_55=_65}
if(j>b){if(_13){var _66=_61-_58,w=(_56+_64)/2*_45/_66,h=(_57+_65)/2*_45/_66;_47=Math.min(_47,_66);_91=Math.max(_91,w);_92=Math.max(_92,h)}else{_93=Math.max(_93,_56+_64);_94=Math.max(_94,_57+_65)}}
_56=_64;_57=_65;_58=_61}
for(var l=0;l<2;++l){var _70=(l==0),_71=(_70?_29:_30);if(!(_70?_17:_18)){continue}
var _48;if(_13){_48=(_70?_92:_91)}else{_48=(_38-1)*(Math.ceil((_70?_94:_93)/2)+this.colorScaleLegendMinLabelGap)}
var _72=0;if(_70){_72=Math.max(_53,_55)}else{_72=Math.max(_52,_54)}
_72=Math.max(0,(_72-
2*this.colorScaleLegendTickMarkInset));var _73=(2*this.colorScaleLegendPadding+_72),_74=(2*this.colorScaleLegendTickMarkInset+_48),_75=(_73+_74),_95=this.colorScaleLegendMinLabelGap,_76,_77;if(_13){_76=(_21-_75)*_47/_45;_77=(_8-_75)*_47/_45}else{_76=Math.floor((_21-_75)/(_38-1)),_77=Math.floor((_8-_75)/(_38-1))}
var _78=_74;if(_77<_95){if(_13){_78+=_45/_47*Math.max(0,_77)}else{_78+=(_38-1)*Math.max(0,_77)}}else if(_76<_95){if(_13){_78+=_45/_47*_95}else{_78+=(_38-1)*_95}}else{_78=Math.round(_21)}
_78=Math.max(0,Math.min(_8-_73,_78));var _79=(_72+_78),_80=(2*this.colorScaleLegendPadding+Math.max(_11,_79)),_81=(2*this.colorScaleLegendPadding+_12+this.colorScaleLegendTitlePadding+_20+this.colorScaleLegendTickMarkLength+this.colorScaleLegendTextPadding+(_70?_50:_51));var _96=(_95<=_77),_97=(0<=_77),_82=(_80-_21),_83=_82*_82,_84=(_81-_22),_85=_84*_84,_98=Math.exp(-(_83/_25+_85/_26));if(i==0||((Math.abs(_38-_27)
<=Math.abs(_71.numGradations-_27))&&(_97||!_71.satisfiesZeroLabelGap)&&(_96||!_71.satisfiesMinLabelGap)&&(_38>_71.numGradations||_98>_71.utility)))
{_71.utility=_98;_71.numGradations=_38;_71.gradations=_46;_71.width=_80;_71.height=_81;_71.nonTitleWidth=_79;_71.outerLabelWidth=_72;_71.satisfiesMinLabelGap=_96;_71.satisfiesZeroLabelGap=_97}}}}
var _70=false;if(_17&&_18){if(_29.satisfiesZeroLabelGap!=_30.satisfiesZeroLabelGap){_70=_29.satisfiesZeroLabelGap}else if(_29.satisfiesMinLabelGap!=_30.satisfiesMinLabelGap){_70=_29.satisfiesMinLabelGap}else{_70=(_29.utility>1.5*_30.utility)}}else{_70=_17}
var _71=(_70?_29:_30),_80=_71.width,_79=_71.nonTitleWidth,_72=_71.outerLabelWidth,_81=_71.height,_38=_71.numGradations,_46=_71.gradations;var _99=Math.floor((_8-_80)/2),_100=(this.getInnerContentHeight()-
this.colorScaleLegendBottomMargin-
_81),_101=_80,_102=_81;this.$138u={left:_99,top:_100,width:_101,height:_102};var _103=_99+this.colorScaleLegendPadding,_104=_100+this.colorScaleLegendPadding;_80-=2*this.colorScaleLegendPadding;this.drawLabel(_103+Math.floor((_80-_11)/2),_104,_5,_7);_104+=this.colorScaleLegendTitlePadding+_12;_103+=Math.floor((_80-_79)/2);isc.DrawRect.create(this.colorScaleRectProperties,{autoDraw:true,drawPane:this,left:_103+Math.floor(_72/2),top:_104,width:_80-_72,height:_20,fillGradient:_16});_103+=Math.floor(_72/2)+this.colorScaleLegendTickMarkInset;_80-=_72+2*this.colorScaleLegendTickMarkInset;_104+=_20;var _105=(_104+this.colorScaleLegendTickMarkLength+this.colorScaleLegendTextPadding);for(var i=_38;i--;){var _106=this.getValueRatio(_46[i],_46[0],_46[_46.length-1],_13,this),_107=Math.round(_103+_106*_80);isc.DrawLine.create(this.colorScaleLegendTickMarkProperties,{autoDraw:true,drawPane:this,startLeft:_107,startTop:_104,endLeft:_107,endTop:_104+this.colorScaleLegendTickMarkLength});var _62=this.formatColorScaleValue(_46[i]);if(_70){var _65=this.measureLabel(_62,_6).height;this.drawLabel(_107+this.getRotatedCenteringOffset(_65),_105,_62,_6,true)}else{var _64=this.measureLabel(_62,_6).width;this.drawLabel(_107-Math.ceil(_64/2),_105,_62,_6)}}
if(this.showColorScaleLegendRect){this.drawRect(_99,_100,_101,_102,this.colorScaleLegendRectProperties,this)}
this.$138w=_46},isc.A.setDataColors=function isc_FacetChart_setDataColors(_1,_2){_2=_2||this;if(isc.isAn.Array(_1)&&_1.length>0){_2.dataColors=_1;if(this.data){this.$105a(false)}}},isc.A.getDataColor=function isc_FacetChart_getDataColor(_1,_2){_2=_2||this;var _3=_2.dataColors[_1%_2.dataColors.length];return(!isc.startsWith(_3,"#"))?"#"+_3:_3},isc.A.getDataGradient=function isc_FacetChart_getDataGradient(_1,_2,_3,_4,_5){_4=_4||this;_2=_2!==false;_3=_3==null?this.drawingType:_3;var _6=(_5===false?this:_4).getDataColor(_1);var _7=_4.chartType+_6.replace("#","-");var _8;if(!_2||!_4.dataGradients[_7]){switch(this.chartType){case"Bar":_8={id:_7,x1:'0%',y1:'0%',x2:'0%',y2:'100%',colorStops:[{color:this.getClass().mixrgb(_6,"-#0A0A0A"),offset:0.0},{color:_6,offset:0.2},{color:this.getClass().mixrgb(_6,"+#333333"),offset:0.4},{color:_6,offset:0.7},{color:this.getClass().mixrgb(_6,"-#111111"),offset:1.0}]};if(_2)this.createLinearGradient(_7,_8);break;case"Column":_8={id:_7,x1:'0%',y1:'0%',x2:'100%',y2:'0%',colorStops:[{color:this.getClass().mixrgb(_6,"-#0A0A0A"),offset:0.0},{color:_6,offset:0.2},{color:this.getClass().mixrgb(_6,"+#333333"),offset:0.4},{color:_6,offset:0.7},{color:this.getClass().mixrgb(_6,"-#111111"),offset:1.0}]};if(_2)this.createLinearGradient(_7,_8);break;case"Area":case"Line":_8={id:_7,x1:0,x2:0,y1:"0%",y2:"100%",colorStops:[{color:this.getClass().mixrgb(_6,"+#555555"),offset:0.0},{color:this.getClass().mixrgb(_6,"+#222222"),offset:0.3},{color:this.getClass().mixrgb(_6,"-#333333"),offset:1.0}]};if(_2)this.createLinearGradient(_7,_8);break;case"Doughnut":case"Pie":_8={id:_7,colorStops:[{color:_6,offset:0.0},{color:_6,offset:_3=="vml"?0.8:0.9},{color:this.getClass().mixrgb(_6,"-#222222"),offset:_3=="vml"?0.9:0.95},{color:this.getClass().mixrgb(_6,"-#666666"),offset:1.0}]};if(_3!="svg"){isc.addProperties(_8,{cx:0,cy:0,r:'72%',fx:0,fy:0})}
if(_2)this.createRadialGradient(_7,_8);break;default:_8={id:_7,x1:'0%',y1:'0%',x2:'0%',y2:'100%',colorStops:[{color:this.getClass().mixrgb(_6,"+"+(_3=="vml"?"#111111":"#222222")),offset:0.0},{color:_6,offset:0.4},{color:_6,offset:0.6},{color:this.getClass().mixrgb(_6,"-"+(_3=="vml"?"#111111":"#1A1A1A1A")),offset:1.0}]};if(_2)this.createLinearGradient(_7,_8);break}}
if(_8&&_2)_4.dataGradients[_7]=_8;return(_2?_7:_8)});isc.evalBoundary;isc.B.push(isc.A.$985=function isc_FacetChart__getPieSeriesGradient(_1,_2,_3,_4,_5){_4=_4!==false;_5=_5==null?this.drawingType:_5;if(_5!="svg")return this.$99i(_1,_4,_5);if(this.$986==null)this.$986=1;var _6="radialGradient"+(this.$986++);var _7={id:_6,$981:this.$99i(_1,_4,_5),cx:_2[0],cy:_2[1],r:_3,$984:true};if(_4){this.createRadialGradient(_6,_7);return _6}else{this.addGradient(_7);return _7}},isc.A.getRadarShapeGradient=function isc_FacetChart_getRadarShapeGradient(_1,_2,_3,_4){var _5=_2.points,_6=this.getClass().mixrgb(_1,"+#444444"),_7=this.getClass().mixrgb(_1,"-#444444");var _8=0.01,_9=Number.MAX_VALUE;for(var i=_5.length;i--;){var _11=isc.GraphMath.straightDistance(_5[i],_3);_8=Math.max(_11,_8);_9=Math.min(_11,_9)}
if(_4)_9=0;var _12=_9/_8;var _13=_2.getCenter(),x=-_13[0]+_3[0],y=-_13[1]+_3[1];return{cx:x,cy:y,r:_8,fx:x,fy:y,colorStops:[{color:_6,offset:0},{color:_6,offset:_12},{color:_7,offset:1.0}]}},isc.A.$105v=function isc_FacetChart__getColorMutePercent(_1,_2){if(isc.isA.String(_1)){var _3=_1.endsWith("%");_1=parseFloat(_1)}
if(isc.isA.Number(_1)){_1=Math.min(_1,100);_1=-Math.min(-_1,100)}else{_1=_2}
return _1},isc.A.$107b=function isc_FacetChart__getDataColor(_1,_2){_2=_2||this;return isc.DrawPane.$105t(this.colorMutePercent,_2.getDataColor(_1))},isc.A.$99i=function isc_FacetChart__getDataGradient(_1,_2,_3,_4){_4=_4||this;var _5=_4.$1062;if(_5==null){_5=_4.$1062={}}
var _6=_4.chartType,_7=_6+"_"+_1;if(_5[_7]==null){var _8=isc.DrawPane.$105t,_9=this.colorMutePercent;var _10=_4.getDataGradient(_1,_2,_3);if(isc.isA.String(_10)){_10=this.getGradient(_10)}
_10=isc.clone(_10);_10.startColor=_10.startColor&&_8(_9,_10.startColor);_10.endColor=_10.endColor&&_8(_9,_10.endColor);var _11=isc.isAn.Array(_10.colorStops)?_10.colorStops.length:0;for(var i=0;i<_11;++i){var _13=_10.colorStops[i];_13.color=_13.color&&_8(_9,_13.color)}
var _14=0;if(_4!=this){_14=1+this.$1039().indexOf(_4.$103o)}
var _15=this.getID()+"_"+_14+"_"+_6+"_data_gradient_"+_1;if(typeof(_10.direction)==="number"){_10=this.createSimpleGradient(_15,_10)}else if(typeof(_10.x1)==="number"){_10=this.createLinearGradient(_15,_10)}else{_10=this.createRadialGradient(_15,_10)}
_5[_7]=_10}
return _5[_7]},isc.A.$106n=function isc_FacetChart__getBackgroundColor(){return this.backgroundColor||"#ffffff"},isc.A.$138y=function isc_FacetChart__getMetricColor(_1){var _2;var _3=this.$159s(),_4=this.$138q(),_5=this.$138s(),_6=_5.startColor,_7=_5.endColor,_8=(_6==null||_7==null),_9,_10;if(this.$138r()){var _11=this.$138w;_9=_11[0];_10=_11[_11.length-1]}else{_9=this.getMinValue(_3,false,this,false,false,_4);_10=this.getMaxValue(_3,false,this,false,false,_4)}
var _12=this.getValueRatio(_1,_9,_10,_4,this);_12=Math.max(0.0,Math.min(1.0,_12));if(_8){var _13=_5.colorStops,k=isc.FacetChart.$96c(_13,0,_13.length-1,"offset",_12,_2);if(k<0){k=-(2+k)}
var _15=_13[k].offset,_16=_13[k+1].offset;return isc.DrawPane.$138o(_13[k].color,_13[k+1].color,(_12-_15)/(_16-_15))}else{return isc.DrawPane.$138o(_6,_7,_12)}},isc.A.drawLabel=function isc_FacetChart_drawLabel(_1,_2,_3,_4,_5){var _6=(_5?this.rotateProps:null);var _7=isc.DrawLabel.create(_4,_6,{autoDraw:true,drawPane:this,left:isc.DrawItem.$1503(_1),top:isc.DrawItem.$1503(_2),contents:_3});return _7},isc.A.getDrawnValueAtPoint=function isc_FacetChart_getDrawnValueAtPoint(_1,_2,_3){return this.getNearestDrawnValue(_1,_2,_3,true)},isc.A.getDrawnValuesAtPoint=function isc_FacetChart_getDrawnValuesAtPoint(_1,_2){return this.getNearestDrawnValues(_1,_2,true)},isc.A.drawnValueContainsPoint=function isc_FacetChart_drawnValueContainsPoint(_1,_2,_3){if(_1==null||(_2!=null&&_3==null))
{return null}
if(_2==null){_2=this.getOffsetX()-this.getLeftMargin()-this.getLeftPadding();_3=this.getOffsetY()-this.getTopMargin()-this.getTopPadding()}
var _4=this;if(this.$1035()){var i=this.$1039().indexOf(_1.facetValues.metric);if(i!=-1){_4=this.$1036().all[i]}}
return this.$1267(_1,_2,_3,_4)},isc.A.$1267=function isc_FacetChart__isDrawnValueUnderCoordinates(_1,_2,_3,_4){switch(_4.chartType){case"Bar":var _5=this.getChartRect();if(_5!=null&&!(_5.left<=_2&&_2<=(_5.left+_5.width))){return false}
var _6=_1.barThickness/2;if(!(_2<=_1.x)||!(_1.y-_6<=_3&&_3<=_1.y+_6))
{return false}
if(_1.prevX!=null){if(!(_1.prevX<=_2)){return false}}
break;case"Column":var _5=this.getChartRect();if(_5!=null&&!(_5.top<=_3&&_3<=(_5.top+_5.height))){return false}
var _6=_1.barThickness/2;if(!(_1.y<=_3)||!(_1.x-_6<=_2&&_2<=_1.x+_6))
{return false}
if(_1.prevY!=null){if(!(_3<=_1.prevY)){return false}}
break;case"Scatter":case"Area":case"Line":case"Radar":case"Bubble":if(isc.Math.$101k(_2-_1.x,_3-_1.y)>this.dataPointSize){return false}
break;case"Doughnut":case"Pie":var _7=_1.x,_8=_1.y,_9=_1.radius,_10=_1.startAngle,_11=_1.endAngle;var _12=(_4.shouldShowDoughnut()?(_9*_4.doughnutRatio):0);var r=isc.Math.$101k(_2-_7,_3-_8);if(!(_12<=r&&r<=_9))return false;var _14=isc.DrawItem.computeAngle(_7,_8,_2,_3);if(!(_10<=_14&&_14<=_11)&&!(_11<=_14&&_14<=_10))
{return false}
break;default:return false}
return true},isc.A.getNearestDrawnValue=function isc_FacetChart_getNearestDrawnValue(_1,_2,_3,_4){if(!this.$111u(_1,_2)){return null}
var _5=this;if(this.$1035()){var i=this.$1039().indexOf(_3);if(i!=-1){_5=this.$1036().all[i]}}
if(_1==null){_1=this.getOffsetX()-this.getLeftMargin()-this.getLeftPadding();_2=this.getOffsetY()-this.getTopMargin()-this.getTopPadding()}
var _7=this.$100u(_1,_2,_5,true,false);if(_7!=null){if(_4&&!this.$1267(_7,_1,_2,_5)){return null}
delete _7.drawItemId;delete _7.text}
return _7},isc.A.getNearestDrawnValues=function isc_FacetChart_getNearestDrawnValues(_1,_2,_3){if(!this.$111u(_1,_2)){return null}
if(_1==null){_1=this.getOffsetX()-this.getLeftMargin()-this.getLeftPadding();_2=this.getOffsetY()-this.getTopMargin()-this.getTopPadding()}
var _4;if(this.chartType=="Scatter"||this.chartType=="Bubble"){_4=this.$111v(_1,_2,false);if(_3){for(var i=0,_6=(_4!=null?_4.length:0);i<_6;++i){if(!this.$1267(_4[i],_1,_2,this))_4[i]=null}}}else{var _7=this.getDataLabelFacet(),_8=this.getLegendFacet(),_9=(this.inlinedFacet!=null&&this.inlinedFacet!=_7&&this.inlinedFacet!=_8?this.inlinedFacet:null),_10=this.$1035(),_11=_10&&this.$1036().all,_12=(_9!=null?_9.values.length:1);_4=new Array(_12);for(var i=0;i<_12;++i){var _13;if(i==0){_13=this}else if(_10){var _14=_9.values[i].id;for(var k=0;k<_11.length;++k){if(_14==_11[k].$103o){_13=_11[k];break}}}else{_13=null}
if(_13==null){_4[i]=null}else{_4[i]=this.$100u(_1,_2,_13,true,false);if(_3&&_4[i]!=null){if(!this.$1267(_4[i],_1,_2,_13))_4[i]=null}}}}
for(var i=0,_6=(_4!=null?_4.length:0);i<_6;++i){if(_4[i]!=null){delete _4[i].drawItemId;delete _4[i].text}}
return _4},isc.A.$111u=function isc_FacetChart__canGetNearestDrawnValue(_1,_2){var _3=(this.chartType=="Scatter"||this.chartType=="Bubble");if(_1!=null&&_2==null){isc.logWarn("Both coordinates should be passed in method getNearestDrawnValue or no coordinates at all to use getOffset methods.");return false}else if(!this.isDrawn()){isc.logWarn("Chart should be drawn before requesting nearestDrawnValue.");return false}else if(!_3&&this.getOrderedData().length==0){return false}else if(_3&&this.$106j().length==0){return false}else{return true}},isc.A.$111v=function isc_FacetChart__getScatterNearestDrawnValues(_1,_2,_3){var _4=isc.Math.$101k,_5=this.getOrderedData(),_6=this.getLegendFacet(),_7=null,_8=null,_9=null;for(var j=_6?_6.values.length:1;j--;){var _11=(_6?_5[j].series:_5);for(var i=_11.length;i--;){var s=_11[i];if(s.record!=null){var _14=_4(_1-s.drawnX,_2-s.drawnY);if(_14<(this.bubbleHoverMaxDistance+s.pointSize/2)&&(_9==null||_14<_9)){_7=s;if(_6)_8=j;_9=_14}}}}
if(_7==null){return null}else{var _15=this.metricFacet,_16=_15.values.length,_17=new Array(_16),_18=this.getXAxisMetric(),_19=this.getYAxisMetric(),_20=_15.values.findIndex("id",_18),_21=_15.values.findIndex("id",_19),_22=this.$136d(),_23=this.$159s(),_24=_7.record,_25={};if(_6!=null){_25[_6.id]=_5[_8].facetValueId}
var _26=(_22!=null||_23!=null),_27=_15.values[_20].title,_28=_15.values[_21].title,_29=(_22!=null&&(_15.values.find("id",_22).title||_22)),_30=(_23!=null&&(_15.values.find("id",_23).title||_23));for(var i=_16;i--;){if(i==_20||i==_21){var _31=_24[i==_20?_18:_19],_32=null;if(_3){if(_26){var _33=(i==_20?_27:_28);_32="";if(_33){_32+=_33+": "}
_32+=this.formatDataValue(_31);if(_22!=null){_32+=("\n"+_29+": "+this.formatPointSizeValue(_24[_22]))}
if(_23!=null){_32+=("\n"+_30+": "+this.formatColorScaleValue(_24[_23]))}}else{_32=this.formatDataValue(_31)}}
_17[i]={x:Math.round(_7.drawnX),y:Math.round(_7.drawnY),value:_31,facetValues:_25,record:_7.record,text:_32,drawItemId:_7.drawItemId}}else{_17[i]=null}}
return _17}},isc.A.$100u=function isc_FacetChart__getNearestDrawnValue(_1,_2,_3,_4,_5){if(_3.chartType=="Scatter"||_3.chartType=="Bubble"){var _6=this.$111v(_1,_2,_5);if(_6==null){return null}else{var _7=this.metricFacet,_8=this.getXAxisMetric(),_9=this.getYAxisMetric(),_10=_7.values.findIndex("id",_8),_11=_7.values.findIndex("id",_9);return(_6[_11]||_6[_10]||null)}}
var _12=isc.Math.$101k,d=this.getOrderedData(),_14=this.$1068(),_15=_14[0].index,_16=1+_14[1].index,_17=this.getDataLabelFacet(),_18=_17&&_17.id,_19=this.getLegendFacet(),_20=_19&&_19.id,_21=(this.inlinedFacet!=null&&this.inlinedFacet!=_17&&this.inlinedFacet!=_19?this.inlinedFacet:null);var _22=(_3!=this),_23=_3.isMultiFacet(),_24,_25;if(_22){_24=_3.$103o;if(this.isMultiFacet()&&!_3.isMultiFacet()){var _26=this.$103u(_3);_25=_19.values.findIndex("id",_26.id)}}
var _27=this.$136d(),_28=this.$159s(),_29=(_27!=null||_28!=null),_30=(_27!=null&&(_21.values.find("id",_27).title||_27)),_31=(_28!=null&&(_21.values.find("id",_28).title||_28));switch(_3.chartType){case"Bar":var _32=null,_33={};if(this.isMultiFacet()){var _34=_23&&!this.isStacked(_3),_35=null;if(_34){outer:for(var i=0,_37=null;i<d.length;++i){var _38=d[i];for(var j=0;j<_38.series.length;++j){var s=_38.series[j];if(isc.isA.Number(s.value)){var _41=s.drawnY&&Math.abs(s.drawnY-_2);if(_37==null||_41<_37){_35=_38;_32=s;_37=_41}else{break outer}}}}}else{var _42=(_23&&this.isStacked(_3)&&!(this.$159w(_3)&&_3.proportional));for(var i=0,_37=null;i<d.length;++i){var s=null;for(var j=d[i].series.length;s==null&&j--;){if(isc.isA.Number(d[i].series[j].value)){s=d[i].series[j];break}}
if(s!=null){var _41=Math.abs(s.drawnY-_2);if(_37==null||_41<_37){_35=d[i];_37=_41}else{break}}}
if(_35!=null){var _37=0,_43=true,_44=false;for(var j=0;j<_35.series.length;++j){var s=_35.series[j];if(isc.isA.Number(s.value)){var _45=s.prevDrawnX,_46=(_45+s.drawnX)/2,_41=Math.abs(_46-_1),_47=((_45<=_1&&_1<=s.drawnX)||(s.drawnX<=_1&&_1<=_45));if(_43||(_44?(_47&&_41<_37):(_47||_41<_37)))
{_32=s;_37=_41}else if(!_42){break}
_43=false;_44=_44||_47}}}}
_33[_18]=_35&&_35.facetValueId;_33[_20]=_32&&_32.facetValueId}else{for(var i=0,_37=null;i<d.length;++i){var s=d[i];if(isc.isA.Number(s.value)){var _41=Math.abs(s.drawnY-_2);if(_37==null||_41<_37){_32=s;_37=_41}else{break}}}
_33[_18]=_32&&_32.facetValueId}
if(_21!=null){_33[_21.id]=_21.values[0].id}
return(_32&&{x:Math.round(_32.drawnX),y:Math.round(_32.drawnY),prevX:_32.prevDrawnX,barThickness:_32.barThickness,value:_32.value,text:(_5?this.formatDataValue(_32.value):null),facetValues:_33,record:_32.record,drawItemId:_32.drawItemId});case"Column":var _48=this.isMultiFacet()&&(!_22||_23),_49=!_48&&_22&&this.isMultiFacet(),_50=!_48&&!_49,_32=null,_51,_33={},_52;if(_48){var _34=_23&&!this.isStacked(_3),_53=null,_54=null;if(_34){outer:for(var i=_15,_37=null;i<_16;++i){var _38=d[i];for(var j=0;j<_38.series.length;++j){var _55=this.$1040(_3,i,j);if(isc.isA.Number(_55.value)){var _41=Math.abs(_55.drawnX-_1);if(_37==null||_41<_37){_53=i;_54=j;_37=_41}else{break outer}}}}}else{var _42=(_23&&this.isStacked(_3)&&!(this.$159w(_3)&&_3.proportional));for(var i=_15,_37=null;i<_16;++i){var _55=null;for(var j=d[_15].series.length;_55==null&&j--;){var _56=this.$1040(_3,i,j);if(isc.isA.Number(_56.value))_55=_56}
if(_55!=null){var _41=Math.abs(_55.drawnX-_1);if(_37==null||_41<_37){_53=i;_37=_41}else{break}}}
if(_53!=null){var _37=0,_43=true,_57=false;for(var j=0;j<d[_53].series.length;++j){var _55=this.$1040(_3,_53,j);if(isc.isA.Number(_55.value)){var _58=_55.prevDrawnY,_59=(_58+_55.drawnY)/2,_41=Math.abs(_59-_2),_47=((_58<=_2&&_2<=_55.drawnY)||(_55.drawnY<=_2&&_2<=_58));if(_43||(_57?(_47&&_41<_37):(_47||_41<_37)))
{_54=j;_37=_41}else if(!_42){break}
_43=false;_57=_57||_47}}}}
if(_53!=null&&_54!=null){_32=this.$1040(_3,_53,_54);var _60=d[_53].series[_54];_52=_60.record;_51=(_22?_52[_24]:_60.value);_33[_18]=d[_53].facetValueId;_33[_20]=_60.facetValueId;if(_21!=null){_33[_21.id]=(_22?_24:_21.values[0].id)}}}else{var _53=null,_54=(_49?_25:null);for(var i=_15,_37=null;i<_16;++i){var _55=this.$1040(_3,i,_54);if(isc.isA.Number(_55.value)){var _41=Math.abs(_55.drawnX-_1);if(_37==null||_41<_37){_53=i;_37=_41}else{break}}}
if(_53!=null){_32=this.$1040(_3,_53,_54);var _60=(_49?d[_53].series[_54]:d[_53]);_52=_60.record;_51=(_22?_52[_24]:_60.value);_33[_18]=d[_53].facetValueId;if(_49){_33[_20]=_60.facetValueId}
if(_21!=null){_33[_21.id]=(_22?_24:_21.values[0].id)}}}
return(_32&&{x:Math.round(_32.drawnX),y:Math.round(_32.drawnY),prevY:_32.prevDrawnY,barThickness:_32.barThickness,value:_51,text:(_5?_3.formatDataValue(_51):null),facetValues:_33,record:_52,drawItemId:_32.drawItemId});case"Area":case"Line":var _48=this.isMultiFacet()&&(!_22||_23),_49=!_48&&_22&&this.isMultiFacet(),_50=!_48&&!_49,_53=null,_54=null,_32=null;if(_4){for(var i=_16-1,_61=null;i>=_15;--i){for(var j=(_48?d[i].series.length:1);j--;){var k=(_48?j:(_49?_25:null)),_63=this.$1040(_3,i,k);if(isc.isA.Number(_63.value)){var _64=_12(_1-_63.drawnX,_2-_63.drawnY);if(_61==null||_64<_61){_61=_64;_53=i;_54=k;_32=_63}}}}}else if(_48){for(var i=_15,_37=null;i<_16;++i){var _55=null;for(var j=d[_15].series.length;_55==null&&j--;){var _56=this.$1040(_3,i,j);if(isc.isA.Number(_56.value))_55=_56}
if(_55!=null){var _41=Math.abs(_55.drawnX-_1);if(_37==null||_41<_37){_53=i;_37=_41}else{break}}}
if(_53!=null){for(var j=0,_65=false,_37=null;j<d[_53].series.length;++j){var s=this.$1040(_3,_53,j);if(isc.isA.Number(s.value)){var _59=s.drawnY,_41=Math.abs(_59-_2);if(!_65&&_59>=_2){_65=true;_37=_41;_32=s;_54=j}else if((!_65||_59>=_2)&&(_32==null||_37>_41)){_37=_41;_32=s;_54=j}}}}}else{_53=null;_54=(_49?_25:null);for(var i=_15,_37=null;i<_16;++i){var _55=this.$1040(_3,i,_54);if(isc.isA.Number(_55.value)){var _41=Math.abs(_55.drawnX-_1);if(_37==null||_41<_37){_53=i;_37=_41}else{break}}}
_32=(_53!=null&&this.$1040(_3,_53,_54))}
if(_32==null){return null}
var _51,_33={},_52;if(_48){var _60=d[_53].series[_54];_52=_60.record;_51=(_22?_52[_24]:_60.value);_33[_18]=d[_53].facetValueId;_33[_20]=_60.facetValueId;if(_21!=null){_33[_21.id]=(_22?_24:_21.values[0].id)}}else{var _60=(_49?d[_53].series[_54]:d[_53]);_52=_60.record;_51=(_22?_52[_24]:_60.value);_33[_18]=d[_53].facetValueId;if(_49){_33[_20]=_60.facetValueId}
if(_21!=null){_33[_21.id]=(_22?_24:_21.values[0].id)}}
var _66=null;if(_5){if(_29){var _67=(!_22?this.valueTitle:_21.values.find("id",_24).title),_66="";if(_67){_66+=_67+": "}
_66+=_3.formatDataValue(_51);if(_27!=null){_66+=("\n"+_30+": "+this.formatPointSizeValue(_52[_27]))}
if(_28!=null){_66+=("\n"+_31+": "+this.formatColorScaleValue(_52[_28]))}}else{_66=_3.formatDataValue(_51)}}
return{x:Math.round(_32.drawnX),y:Math.round(_32.drawnY),value:_51,text:_66,facetValues:_33,record:_52};case"Radar":var _35=null,_33={};if(this.isMultiFacet()){var _53=null,_54=null;for(var i=0,_64=null;i<d.length;++i){for(var j=0;j<d[i].series.length;++j){var s=d[i].series[j];if(isc.isA.Number(s.value)){var _68=_12(s.drawnX-_1,s.drawnY-_2);if(_64==null||_68<_64){_64=_68;_35=s;_53=i;_54=j}}}}
if(_35!=null){_33[_18]=d[_53].facetValueId;_33[_20]=_35.facetValueId}}else{for(var i=0,_64=null;i<d.length;++i){var s=d[i];if(isc.isA.Number(s.value)){var _68=_12(s.drawnX-_1,s.drawnY-_2);if(_64==null||_68<_64){_64=_68;_35=d[i]}}}
_33[_18]=_35&&_35.facetValueId}
if(_21!=null){_33[_21.id]=_21.values[0].id}
var _66=null;if(_5){if(_29){_66="";if(this.valueTitle){_66+=this.valueTitle+": "}
_66+=this.formatDataValue(_35.value);if(_27!=null){_66+=("\n"+_30+": "+this.formatPointSizeValue(_35.record[_27]))}
if(_28!=null){_66+=("\n"+_31+": "+this.formatColorScaleValue(_35.record[_28]))}}else{_66=this.formatDataValue(_35.value)}}
return(_35&&{x:Math.round(_35.drawnX),y:Math.round(_35.drawnY),value:_35.value,text:_66,facetValues:_33,record:_35.record});case"Doughnut":case"Pie":var _69=this.isMultiFacet(),_33={},_32=null
if(!_69){for(var i=0,_70=null;i<d.length;++i){var s=d[i];if(isc.isA.Number(s.value)){if(_70==null){var _71=_2-s.pieY,_72=_1-s.pieX,_70=Math.atan2(_71,_72)*180/Math.PI;var _73=Math.floor((_70-this.pieStartAngle)/360);if(_73!=0)_70-=_73*360}
if(_70>s.startAngle&&_70<s.endAngle){_32=s}}}}else{var _25=null;if(this.stacked){for(var i=0,_64=null;i<d.length;++i){var s=null;for(var j=d[0].series.length;s==null&&j--;){var _56=d[i].series[j];if(isc.isA.Number(_56.value))s=_56}
if(s!=null){if(_64==null){_64=_12(s.pieX-_1,s.pieY-_2)}
if(_64<s.pieRadius&&(_25==null||s.pieRadius<d[_25].series[0].pieRadius))
{_25=i}}}}else{for(var i=0,_64=null;i<d.length;++i){var s=null;for(var j=d[0].series.length;s==null&&j--;){var _56=d[i].series[j];if(isc.isA.Number(_56.value))s=_56}
if(s!=null){var _68=_12(s.pieX-_1,s.pieY-_2);if(_64==null||_68<_64){_64=_68;_25=i}}}}
if(_25!=null){var _35=d[_25],_71=_2-_35.series[0].pieY,_72=_1-_35.series[0].pieX,_70=Math.atan2(_71,_72)*180/Math.PI;var _73=Math.floor((_70-this.pieStartAngle)/360);if(_73!=0)_70-=_73*360;for(var i=0;i<_35.series.length;++i){var s=_35.series[i];if(isc.isA.Number(s.value)){if(_70>=s.startAngle&&_70<s.endAngle){_32=s}}}
_33[_18]=d[_25].facetValueId}}
if(_32==null){return null}
_33[_20]=_32.facetValueId;if(_21!=null){_33[_21.id]=_21.values[0].id}
return{x:Math.round(_32.pieX),y:Math.round(_32.pieY),value:_32.value,text:(_5?this.formatDataValue(_32.value):null),facetValues:_33,record:_32.record,startAngle:_32.startAngle,endAngle:_32.endAngle,radius:_32.pieRadius,drawItemId:_32.drawItemId};default:return null}});isc.evalBoundary;isc.B.push(isc.A.$1268=function isc_FacetChart__getDrawnValueHelper(_1,_2,_3,_4){var _5=this.$1040(_2,_3,_4,true);if(_5==null||(this.isPieChart(_2.chartType)?(_5.pieX==null||_5.pieY==null):(_5.drawnX==null||_5.drawnY==null)))
{return null}
var _6={x:_5.drawnX,y:_5.drawnY,value:_5.value,facetValues:_1,record:_5.record};if(_5.startAngle!=null){_6.x=_5.pieX;_6.y=_5.pieY;_6.startAngle=_5.startAngle;_6.endAngle=_5.endAngle;_6.radius=_5.pieRadius}else if(_5.barThickness!=null)_6.barThickness=_5.barThickness;return _6},isc.A.getDrawnValue=function isc_FacetChart_getDrawnValue(_1,_2,_3){if(_2==null)_2=true;if(!this.isDrawn()){if(_2)isc.logWarn("Chart should be drawn before requesting nearestDrawnValue.");return null}
var d=this.getOrderedData();var _5=this.isMultiFacet();if(d.length==0)return null;var _6=this.getDataLabelFacet(),_7=_6&&_6.id,_8=this.getLegendFacet(),_9=_8&&_8.id,_10=(this.inlinedFacet!=null&&this.inlinedFacet!=_6&&this.inlinedFacet!=_8?this.inlinedFacet:null),_11=_10&&_10.id,_12=(_6?_7:_9),_13=null,_14=(this.chartType=="Scatter"||this.chartType=="Bubble");if(_1&&_10&&!_10.values.find("id",_13=_1[_11])){return null}
var _15=this;if(this.$1035()&&_13!=null){var i=this.$1039().indexOf(_13);if(i!=-1){_15=this.$1036().all[i]}}
if(!_3){if(!_1){if(_2)isc.logWarn("FacetValues should be passed to get drawn value.");return null}
if((_6&&!_1.hasOwnProperty(_7))||(_8&&!_1.hasOwnProperty(_9))||(_10&&!_1.hasOwnProperty(_11)))
{return null}
for(var i=d.length;i--;){if(d[i].facetValueId==_1[_12]){if(_14){if(d[i].series.length!=1){return null}
return this.$1268(_1,_15,i,0)}else if(!_5){return this.$1268(_1,_15,i)}else{for(var j=d[i].series.length;j--;){if(d[i].series[j].facetValueId==_1[_9]){return this.$1268(_1,_15,i,j)}}}}}
return null}else{var _18,_19=[],_20;for(var i=d.length;i--;){if(_1==null||_1[_12]==null||d[i].facetValueId==_1[_12])
{if(_14){for(var j=d[i].series.length;j--;){_20={};_20[_12]=d[i].facetValueId;var _21=this.$1268(_20,_15,i,j);if(_21!=null){_19.add(_21)}}}else if(!_5){_20={};_20[_12]=d[i].facetValueId;var _21=this.$1268(_20,_15,i);if(_21!=null){_19.add(_21)}}else{for(var j=d[i].series.length;j--;){if(_1==null||_1[_9]==null||d[i].series[j].facetValueId==_1[_9])
{_20={};_20[_12]=d[i].facetValueId;_20[_9]=d[i].series[j].facetValueId;var _21=this.$1268(_20,_15,i,j);if(_21!=null){_19.add(_21)}}}}}}
return _19}},isc.A.getDrawnValues=function isc_FacetChart_getDrawnValues(_1,_2){return this.getDrawnValue(_1,_2,true)},isc.A.$1040=function isc_FacetChart__getDrawnValue(_1,_2,_3,_4){var _5=this.getOrderedData(),_6=this.getLegendFacet(),_7=this.$116d(),_8=this.$116e(),_9=!(_7||_8);if(_1.chartType=="Scatter"||_1.chartType=="Bubble"){return(_6?_5[_2].series[_3]:_5[_2])}
var _10=this.isMultiFacet(),_11=(_1!=this),_12;if(_11){_12=this.$1036().all.indexOf(_1);if(_10&&!_1.isMultiFacet()){var _13=this.$103u(_1),_14=_6.values.findIndex("id",_13.id);if(_4&&_3!=null&&_3!=_14){return null}else{_3=_14}}}
var _15=_10?_5[_2].series[_3]:_5[_2],_16=_15.record;if(_11){_15=((_15.drawn||(_15.drawn=[]))[_12]||(_15.drawn[_12]={}))}
if(_7){_15=(_15.zoom||(_15.zoom={}))}else if(_8){_15=(_15.zoomSelection||(_15.zoomSelection={}))}
_15.record=_16;return _15},isc.A.mouseOut=function isc_FacetChart_mouseOut(){if(this.$120s==null){var _1=this;this.$120s=isc.Timer.setTimeout(function(){delete _1.$120s;_1.$1002();_1.$105f()},100)}
return true},isc.A.mouseOver=function isc_FacetChart_mouseOver(){if(this.$120s!=null){isc.Timer.clear(this.$120s);delete this.$120s}
return true},isc.A.handleTouchMove=function isc_FacetChart_handleTouchMove(_1){if(!this.ns.EH.$148k(this)){_1.DOMevent.preventDefault()}},isc.A.mouseMove=function isc_FacetChart_mouseMove(){var _1=this.$106j();if(!isc.isAn.Array(_1)||_1.length==0||!this.$122i()){return}
var _2=this.getChartRect();if(_2==null){return}
var x=this.getOffsetX()-this.getLeftMargin()-this.getLeftPadding(),y=this.getOffsetY()-this.getTopMargin()-this.getTopPadding();if(x>=_2.left&&x<=_2.left+_2.width&&y>=_2.top&&y<=_2.top+_2.height)
{var _5=this.$1043();if(_5!=null){var _6=this.$135z(_5);var _7=_5.chartType=="Bubble"&&(this.$136d()!=null||this.$159s()!=null);var _8=this.hoverLabelPadding;if(this.$100l==null){this.$100m=isc.DrawRect.create(this.hoverRectProperties,{autoDraw:true,drawPane:this,height:20+2*_8,width:20+2*_8,top:-100});this.$100l=isc.DrawLabel.create(this.hoverLabelProperties,{autoDraw:true,drawPane:this,synchTextMove:true,contents:"",alignment:_7?"end":"start"})}
var _9=this.$100u(x,y,_5,false,true);if(_9!=null&&_9.value==null)_9.value=0;if(_9!=null&&this.$100l.contents!==_9.value){var _10=this.measureHoverLabel(_9.text);this.$100l.setContents(_9.text);this.$100l.draw();var _11=_9.x;var _12=_9.y;switch(_5.chartType){case"Area":case"Line":case"Radar":if(_6==true){}
_12-=this.$100m.height;_11+=4;break;case"Bar":_12-=this.$100m.height/2;_11-=this.hoverLabelOffset;break;case"Column":_12-=this.$100m.height;break;case"Doughnut":case"Pie":var _13=(_9.startAngle+_9.endAngle)/2+90;if(_13<0){_13+=360}
var _14=this.$100k([_9.x,_9.y],this.maxRadius||_9.radius,_13,_9.text,this.hoverLabelProperties);_11=_14[0];_12=_14[1]}
if(_9.drawItemId){var _15=window[_9.drawItemId];if(this.$100y&&this.$100y.ID!=_15.ID){this.$100z()}
if(this.$100y==null){this.$100y=_15;if(_15.radius){_15.setFillOpacity((100-this.brightenPercent)/100)}else{var _16=_15.lineColor;_15.prevLineColor=_16;_16=this.$100x(_16,this.brightenPercent);_15.prevLineWidth=_15.lineWidth;_15.setLineWidth(2);_15.setLineColor(_16)}}}
if(_11<0){_11=0}else{var _17=this.getInnerContentWidth();if((_11+this.$100m.width)>_17){_11=_17-this.$100m.width-8}}
if(_12<0){_12=0}else{var _18=this.getInnerContentHeight();if((_12+this.$100m.height)>_18){_12=_18-this.$100m.height-8}}
var _19=_8;if(isc.Browser.isFirefox)_19+=3;this.$100l.moveTo(_11+_8,_12+_19);this.$100m.setRect(_11,_12,_10.width+2*_8,_10.height+2*_8)}else if(_9==null){this.$1002()}}else{this.$1002()}}else if(this.$1045()){var _20=this.$1036(),_21=1+_20.visible.length;for(var j=0;j<_21;++j){var _5=(j==0?this:_20.visible[j-1]),_23=this.$103v(_5),_24=_23+_5.$104f;if(_23<=x&&x<=_24){if(_5==this){break}
var _25=_2.top,_26=_25+_2.height,_27=(_23<=x&&x<=_24&&_25<=y&&y<=_26),_28=_5.$1048;if(!_27&&_28!=null){var _29=_28.getBoundingBox();_27=((_23<=x&&x<=_24&&(_29[1]<=y||_25<=y)&&(y<=_29[3]||y<=_26))||(_29[0]<=x&&x<=_29[2]&&_29[1]<=y&&y<=_29[3]))}
if(_27){this.$105d(_5);return}}}}
if(this.$1045()){this.$105f()}},isc.A.$1002=function isc_FacetChart__cleanHoverItems(){if(this.$100l!=null){this.$100l.destroy();this.$100m.destroy();this.$100l=null;this.$100m=null;if(this.$100y)this.$100z()}},isc.A.$100z=function isc_FacetChart__cleanHighlightedItem(){if(this.$100y.prevLineColor){this.$100y.setLineColor(this.$100y.prevLineColor);delete this.$100y.prevLineColor}
if(this.$100y.prevLineWidth){this.$100y.setLineWidth(this.$100y.prevLineWidth);delete this.$100y.prevLineWidth}
if(this.$100y.radius){this.$100y.setFillOpacity(1.0)}
delete this.$100y},isc.A.$100x=function isc_FacetChart__getHighlightedColor(_1,_2){if(_1.charAt(0)=="#"){_1=_1.substring(1,7)}
var r=parseInt(_1.substring(0,2),16);var g=parseInt(_1.substring(2,4),16);var b=parseInt(_1.substring(4,6),16);r=Math.min(255,r+Math.round((r*_2)/100));g=Math.min(255,g+Math.round((g*_2)/100));b=Math.min(255,b+Math.round((b*_2)/100));return"#"+(r>15?"":"0")+r.toString(16)+(g>15?"":"0")+g.toString(16)+(b>15?"":"0")+b.toString(16)},isc.A.$104t=function isc_FacetChart__getHoverLabel(_1,_2,_3,_4,_5){var _6;if(_3!=null){_6=(_1[_2]||(_1[_2]={}))[_3]}else{_6=_1[_2]}
if(_6!=null){return _6}else if(_5==null){return null}else{var _7=_4.formatDataValue(_5);_6=this.measureHoverLabel(_7);_6.text=_7;_6.value=_5;if(_3!=null){_1[_2][_3]=_6}else{_1[_2]=_6}
return _6}},isc.A.measureHoverLabel=function isc_FacetChart_measureHoverLabel(_1){return this.measureLabel(_1,this.hoverLabelProperties)},isc.A.destroy=function isc_FacetChart_destroy(){if(this.$117r!=null){this.$117r.destroy();delete this.$117r}
this.$1002();this.Super("destroy",arguments)},isc.A.$107e=function isc_FacetChart__getDataType(){var _1=this.$107f(),_2=this.$107g();var _3;if(isc.isA.Number(_1)&&isc.isA.Number(_2))_3="float";else if(isc.isA.Date(_1)&&isc.isA.Date(_2))_3="date";else if(isc.isA.String(_1)&&isc.isA.String(_2))_3="string";switch(this.labelCollapseMode){case"numeric":if(_3!="float"&&!this.$179c){this.logWarn("Ignoring labelCollapseMode: 'numeric' as the actual data has '"+_3+"' type, which is not numeric");this.$179c=true}
break;case"time":if(_3!="date"&&!this.$179c){this.logWarn("Ignoring labelCollapseMode: 'time' as the actual data has '"+_3+"' type, which is not a date");this.$179c=true}
break}
return _3},isc.A.$179b=function isc_FacetChart__getCheckedLabelCollapseMode(_1){if(_1)return this.labelCollapseMode;var _2,_3=this.$179a;if(_3!==_2)return this.$179a;var _4=this.$107e(),_3=this.labelCollapseMode;this.$179a=_3===_2||_3=="time"&&_4!="date"||_3=="numeric"&&_4!="float"?null:_3},isc.A.$107d=function isc_FacetChart__hasDiscreteDataValues(){var _1=(this.chartType=="Bar"||this.chartType=="Column"||this.labelCollapseMode=="sample");if(!_1){var _2=this.$107e();_1=(_2=="string"||_2==null);if(!_1){var _3=this.$114q;if(_3==null){_3=true;var _4=this.getOrderedData();for(var i=_4.length,_6=_4[i-1].facetValueId;_3&&i--;){var _7=_4[i].facetValueId;_3=_7<=_6;_6=_7}
this.$114q=_3}
_1=!_3}}
return _1},isc.A.$107f=function isc_FacetChart__getMinDataValue(){var _1=this.getOrderedData(),_2=_1.length;var i=0;while(i<_2&&_1[i].facetValueId==null)++i;return _1[(i==_2?0:i)].facetValueId},isc.A.$107g=function isc_FacetChart__getMaxDataValue(){var _1=this.getOrderedData(),_2=_1.length;var i=_2-1;while(i>=0&&_1[i].facetValueId==null)--i;return _1[(i==-1?_2-1:i)].facetValueId},isc.A.$107h=function isc_FacetChart__delegateToParentChartMethods(){var _1={};var _2=["getFacet","getFacetValue","getOrderedData","getValue","setData","setFacets","swapFacets","getFacetData","deriveFacetValues","isMultiFacet","getValueFromRecord","getDataRecord","getDataSeries","getDefaultMetric","getMinValue","getMaxValue"];for(var i=0,_4=_2.length;i<_4;++i){var _5=_2[i];_1[_5]=(function(_5){return function(){var _6=this.$106l;return _6[_5].apply(_6,arguments)}})(_5)}
_1.setupChart=function(){};return _1},isc.A.$116d=function isc_FacetChart__isZoomChart(){return(this.$106l!=null&&this.$106l.zoomChart==this)},isc.A.$116e=function isc_FacetChart__isZoomSelectionChart(){return(this.$106l!=null&&this.$106l.zoomSelectionChart==this)},isc.A.$106j=function isc_FacetChart__getData(){return(this.$106l||this).data},isc.A.$106i=function isc_FacetChart__getFacets(){return(this.$106l||this).facets},isc.A.$1065=function isc_FacetChart__getMetricFacet(){return(this.$106l||this).metricFacet},isc.A.$107c=function isc_FacetChart__getMultiCellData(){return(this.$106l||this).multiCellData},isc.A.$1064=function isc_FacetChart__getHighErrorMetric(){if(this.$106l!=null){return this.$106l.$1064()}
var _1=this.metricFacet,_2=this.getDefaultMetric(),_3=this.highErrorMetric;if(_3==_2){return _3}else{var _4=_1&&_1.values.find("id",_3);if(_4!=null&&_4.$133e=="number"&&_1.values.find("id",_2).$133e=="number")
{return _3}else{return null}}},isc.A.$1066=function isc_FacetChart__getLowErrorMetric(){if(this.$106l!=null){return this.$106l.$1066()}
var _1=this.metricFacet,_2=this.getDefaultMetric(),_3=this.lowErrorMetric;if(_3==_2){return _3}else{var _4=_1&&_1.values.find("id",_3);if(_4!=null&&_4.$133e=="number"&&_1.values.find("id",_2).$133e=="number")
{return _3}else{return null}}},isc.A.$133f=function isc_FacetChart__isDateValued(_1){if((this.chartType=="Scatter"||this.chartType=="Bubble")&&_1!=this.getXAxisMetric())
{return false}
var _2=isc.Chart.getPrototype().$133f;return _2.apply(this.$106l||this,arguments)},isc.A.zoomTo=function isc_FacetChart_zoomTo(_1,_2){if(!this.$106d()){return}
this.$107k([{dataValue:_1},{dataValue:_2}],false);var _3=this.$1068();this.zoomStartValue=_3[0].dataValue;this.zoomEndValue=_3[1].dataValue;if(this.zoomChartSlider!=null){this.zoomChartSlider.setValues(_3[0].lambda,_3[1].lambda);this.$107j()}},isc.A.setZoomStartValue=function isc_FacetChart_setZoomStartValue(_1){this.zoomTo(_1,this.zoomEndValue)},isc.A.setZoomEndValue=function isc_FacetChart_setZoomEndValue(_1){this.zoomTo(this.zoomStartValue,_1)},isc.A.$106q=function isc_FacetChart__getZoomChartTop(){return this.getTopPadding()+this.getChartTop()+this.getChartHeight()+this.chartRectMargin+this.getXLabelsHeight()+(this.$78k?this.legendMargin+this.$78k.height:0)+(this.$138u?(this.colorScaleLegendTopMargin+this.$138u.height+this.colorScaleLegendBottomMargin):0)+this.$106c},isc.A.$1060=function isc_FacetChart__getZoomChartLeft(){return this.getLeftPadding()+this.getChartLeft()},isc.A.$117l=function isc_FacetChart__setZoomChartProperties(){var _1={autoDraw:false,redrawWithParent:false,_constructor:"FacetChart",labelCollapseMode:this.$106m(),$106l:this,extraAxisMetrics:this.extraAxisMetrics.duplicate(),extraAxisSettings:this.$141m()};this.$117m=isc.addProperties({colorMutePercent:this.zoomMutePercent},this.zoomChartProperties,_1);this.$117n=isc.addProperties({},this.zoomSelectionChartProperties,_1);var _2=(this.chartType=="Line"||this.chartType=="Area"),_3=_2&&this.isFilled(),_4=_2&&!_3;var _5={showInlineLabels:_3},_6={lineWidth:2};if(_4){_5.showGradationsOverData=false;isc.addProperties(_6,{lineColor:"#d3d3d3",linePattern:"dash"})}else{_5.showGradationsOverData=true;_6.lineColor=this.$106n()}
_5.gradationLineProperties=_6;isc.addProperties(this.zoomChartDefaults,_5);isc.addProperties(this.zoomSelectionChartDefaults,_5);if(this.zoomChart)this.zoomChart.setProperties(_5);if(this.zoomSelectionChart)this.zoomSelectionChart.setProperties(_5)},isc.A.$106y=function isc_FacetChart__createZoomChartAndSlider(){if(this.$106d()){this.$106k=true;var _1=this.zoomShowSelection,_2=this.$1060(),_3=this.$106q(),_4=this.getChartWidth(),_5=this.$1068(),_6=_5[0].lambda,_7=_5[1].lambda;var _8=isc.addProperties({logScale:this.$107i(),chartType:this.chartType,stacked:this.stacked,filled:this.filled,connected:this.connected},this.$107h());isc.addProperties(this.$117m,{autoDraw:false,top:_3,left:_2,width:_4,height:this.zoomChartHeight},_8);var _9=this.addAutoChild("zoomChart",this.$117m),_10=this.zoomChartHeight+this.$106e,_11=_9.$181r();this.$117o=isc.addProperties({},this.zoomChartSliderProperties,{_constructor:"RangeSlider",left:_2+_11,top:_3,width:_4-2*_11,height:_10,showTrack:false,labelStartProperties:{},labelDragProperties:{},labelEndProperties:{},startThumbProperties:{backgroundColor:"transparent"},endThumbProperties:{backgroundColor:"transparent"},minValue:0,maxValue:1,startValue:_6,endValue:_7});var _12=this.addAutoChild("zoomChartSlider",this.$117o);this.observe(_12,"resized","observer.$107j()");this.observe(_12,"changed","observer.$117v(arguments[0],arguments[1],arguments[2])");_12.labelStart.hide();_12.labelDrag.hide();_12.labelEnd.hide();if(_1){var _13=_12.startThumb.getLeft();var _14=_12.endThumb.getRight()-_13+1;var _15=this.$106r=isc.Canvas.create({redrawWithParent:false,backgroundColor:this.$106n(),padding:0,left:_2+_11+_13,top:_3,width:_14,height:this.zoomChartHeight,overflow:"hidden",hideUsingDisplayNone:true});this.addChild(_15);isc.addProperties(this.$117n,{autoParent:"none",left:-(_11+_13),top:0,width:_4,height:this.zoomChartHeight},_8);var _16=this.addAutoChild("zoomSelectionChart",this.$117n);_15.addChild(_16);_12.moveAbove(_15)}}
this.$106p=true},isc.A.$117v=function isc_FacetChart__zoomChartSliderChanged(_1,_2,_3){this.$107j();if(!_3){this.$107k([{lambda:_1},{lambda:_2}],false);var _4=this.$1068(),_5=this.zoomStartValue=_4[0].dataValue,_6=this.zoomEndValue=_4[1].dataValue;if(this.zoomChanged){this.zoomChanged(_5,_6)}}},isc.A.$107j=function isc_FacetChart__refreshZoomSelectionChart(){var _1=this.zoomChartSlider,_2=this.zoomShowSelection,_3=this.zoomSelectionChart,_4=this.$106r;if(_2){var _5=this.zoomChart.getLeft(),_6=_1.getLeft()-_5,_7=_1.startThumb,_8=_1.endThumb,_9=_7.getLeft(),_10=_8.getRight()-_9+1,_11=_9+_10;_4.setLeft(_5+_6+_9);_4.setWidth(_10);_3.setLeft(-(_6+_9))}},isc.A.$1063=function isc_FacetChart__destroyZoomChartAndSlider(){if(this.zoomSelectionChart!=null){this.zoomSelectionChart.destroy();delete this.zoomSelectionChart}
if(this.$106r!=null){this.$106r.destroy();delete this.$106r}
if(this.zoomChartSlider!=null){this.ignore(this.zoomChartSlider,"changed");this.ignore(this.zoomChartSlider,"resized");this.zoomChartSlider.destroy();delete this.zoomChartSlider}
if(this.zoomChart!=null){this.zoomChart.destroy();delete this.zoomChart}
delete this.$106p},isc.A.$106d=function isc_FacetChart__getCanZoom(_1){if(_1==null)_1=this.chartType;return _1!="Radar"&&!this.isPieChart(_1)&&_1!="Scatter"&&_1!="Bubble"&&this.hasYGradations(_1)&&this.canZoom},isc.A.$181k=function isc_FacetChart__getCanCollapseLabels(_1){if(_1==null)_1=this.chartType;var _2=this.labelCollapseMode;return _1!="Radar"&&!this.isPieChart(_1)&&_1!="Scatter"&&_1!="Bubble"&&_2!=null&&_2!="none"},isc.A.$181j=function isc_FacetChart__hasNegativeData(_1){_1=_1||this;var _2=this.$107l(_1,true,true);return isc.isA.Number(_2.minValue)&&_2.minValue<0},isc.A.$181p=function isc_FacetChart__hasMixedSignData(_1){_1=_1||this;var _2=this.$107l(_1,true,true);return isc.isA.Number(_2.minValue)&&_2.minValue<0&&isc.isA.Number(_2.maxValue)&&_2.maxValue>0},isc.A.$181n=function isc_FacetChart__configSupportsData(_1,_2,_3,_4){_2=_2||this;if(_1==null)_1=_2.chartType;if(!this.$181j(_2)||!this.$181p(_2)&&_1!="Radar")
{return true}
if(this.isPieChart(_1))return false;var _5,_6=_2.isMultiFacet();if(_3===_5)_3=_2.filled;if(_4===_5)_4=_2.stacked;switch(_1){case"Area":return _4==false||_3==false;case"Radar":return _4==false||_3==false||_3==null&&!_6;case"Line":return _4!=true||_3==false||_3==null&&!_6;default:return true}},isc.A.$106m=function isc_FacetChart__getZoomChartLabelCollapseMode(){var _1=this.$179b();if(_1!=null){return _1}else if(this.$106d()){var _2=this.$107e();if(_2=="float")return"numeric";if(_2=="date")return"time";if(_2=="string")return"sample"}},isc.A.$107i=function isc_FacetChart__getZoomLogScale(_1){_1=_1||this;if(_1.zoomLogScale!=null&&!_1.zoomLogScale){return false}else{var _2=this.$107l(_1,true);return _2.minValue>0}},isc.A.$107m=function isc_FacetChart__getZoomStartPosition(){if(this.zoomStartPosition!=null){return this.zoomStartPosition}else{if(this.$107e()=="date"){var _1=1000*60*60*24,_2=new Date(),_3=this.$107g();if(_2.getTime()-_3.getTime()<_1){return"end"}}
return"start"}},isc.A.$1068=function isc_FacetChart__getZoomValueRange(){var _1;if(this.$107n==null){if(this.$106d()){_1=[{dataValue:this.zoomStartValue},{dataValue:this.zoomEndValue}]}else{_1=[{lambda:0.0},{lambda:1.0}]}
this.$107k(_1,true);this.zoomStartValue=_1[0].dataValue;this.zoomEndValue=_1[1].dataValue}else{_1=this.$107n}
return _1},isc.A.$107o=function isc_FacetChart__dateComparator(_1,_2){return Date.compareDates(_2,_1)},isc.A.$107k=function isc_FacetChart__setZoomValueRange(_1,_2){var _3=this.getOrderedData(),_4=_3.length,_5=_1[0],_6=_1[1],_7=_5.lambda,_8=_6.lambda,_9=this.$107f(),_10=this.$107g(),_11=this.$107e(),_12=this.$107d(),_13=(_5.lambda!=null&&_6.lambda!=null),_14=!_13;if(!(_13||_12||_6.dataValue==null||_5.dataValue==null)&&_6.dataValue<_5.dataValue)
{var _15=_5.dataValue;_5.dataValue=_6.dataValue;_6.dataValue=_15}
if(_14){var _16=_5.dataValue,_17=_6.dataValue;if(!_12){if(_16<_9||_10<_16){_16=null}
if(_17<_9||_10<_17){_17=null}}
if(_16==null&&_17==null){_13=true;_14=false;var _18=this.$107m();if(_18=="start"){_7=0.0;_8=1.0/5.0}else if(_18=="end"){_7=4.0/5.0;_8=1.0}
_5.lambda=_7;_6.lambda=_8}else if(_16==null){_16=_9}else if(_17==null){_17=_10}
_5.dataValue=_16;_6.dataValue=_17}
var i,j,_21,_22;if(_12){if(_13){i=Math.floor(_7*_4);if(i==_4)i--;_21=_3[i].facetValueId;j=Math.floor(_8*_4);if(j==_4)j--;_22=_3[j].facetValueId}else{_21=_5.dataValue;_22=_6.dataValue;var k=_3.findIndex("facetValueId",_21,Array.DATETIME_VALUES);if(k!=-1){i=k}else{k=0}
k=_3.findNextIndex(k,"facetValueId",_22,_4-1,Array.DATETIME_VALUES);if(k!=-1){j=k}
if(i==null&&j!=null){this.logWarn("Could not find data value "+_21+" in the data.  Defaulting to show the data from the beginning of the data set up to zoomEndValue.");this.$107k([{dataValue:_9},{dataValue:_22}],_2);return}else if(i!=null&&j==null){this.logWarn("Could not find data value "+_22+" in the data.  Defaulting to show the data from zoomStartValue to the end of the data set.");this.$107k([{dataValue:_21},{dataValue:_10}],_2);return}else if(i==null&&j==null){this.logWarn("Could not find zoomStartValue or zoomEndValue in the data.  Defaulting to show the entire data set.");this.$107k([{lambda:0.0},{lambda:1.0}],_2);return}else{_7=_4>1?i/(_4-1):0;_8=_4>1?j/(_4-1):1}}}else if(_11=="float"){if(_13){_21=(1.0-_7)*_9+_7*_10;_22=(1.0-_8)*_9+_8*_10}else{_21=_5.dataValue;_22=_6.dataValue;var _24=_10-_9;_7=(_24>0?Math.max(0,Math.min(1,(_5.dataValue-_9)/_24)):0);_8=(_24>0?Math.max(0,Math.min(1,(_6.dataValue-_9)/_24)):1)}
i=isc.FacetChart.$96c(_3,0,_4-1,"facetValueId",_21);j=isc.FacetChart.$96c(_3,0,_4-1,"facetValueId",_22);if(i<0)i=-(1+i);if(j<0)j=-(2+j)}else if(_11=="date"){var _25=this.$107o,_26=_9.getTime(),_27=_10.getTime();if(_13){_21=new Date(Math.floor((1.0-_7)*_26+_7*_27));_22=new Date(Math.ceil((1.0-_8)*_26+_8*_27))}else{_21=_5.dataValue;_22=_6.dataValue;var _28=_21.getTime(),_29=_22.getTime(),_24=_27-_26;_7=(_24>0?Math.max(0,Math.min(1,(_28-_26)/_24)):0);_8=(_24>0?Math.max(0,Math.min(1,(_29-_26)/_24)):1)}
i=isc.FacetChart.$96c(_3,0,_4-1,"facetValueId",_21,_25);j=isc.FacetChart.$96c(_3,0,_4-1,"facetValueId",_22,_25);if(i<0)i=-(1+i);if(j<0)j=-(2+j)}
isc.addProperties(_1[0],{index:i,dataValue:_21,lambda:_7});isc.addProperties(_1[1],{index:j,dataValue:_22,lambda:_8});this.$107n=_1;delete this.$107p;if(this.$1035()){var _30=this.$1036().all;for(var j=_30.length;j--;){delete _30[j].$107p}}
if(!_2){this.$105a(false)}},isc.A.$107q=function isc_FacetChart__getZoomStartValue(){return this.$1068()[0].dataValue},isc.A.$107r=function isc_FacetChart__getZoomEndValue(){return this.$1068()[1].dataValue},isc.A.$107l=function isc_FacetChart__getZoomDataBounds(_1,_2,_3){_1=_1||this;if(_1.$181o!=null&&_3)return _1.$181o;if(_1.$107p!=null&&!_2)return _1.$107p;var _4=this.getOrderedData(),_5=0,_6=_4.length;if(!_2){var _7=this.$1068();_5=_7[0].index;_6=_7[1].index+1}
var _8=(_1!=this),_9=_8&&_1.$103o,_10=_1.isMultiFacet()&&this.isStacked(_1);var _11=_1.logScale;var _12,_13;if(!(_5<_6)){}else if(this.isMultiFacet()&&(!_8||_1.isMultiFacet())){var _14=_4[_5].series.length;if(_10&&!_3){var _15=(_1.chartType=="Column"||_1.chartType=="Bar");for(var i=_5;i<_6;++i){var _17=_4[i].series,_18=0,_19=false,_20=0,_21=0,_22=false,_23=0,_24=0,_25=false;for(var j=0;j<_14;++j){var s=_17[j],v=(_8?s.record&&s.record[_9]:s.value);if(isc.isA.Number(v)){if(_15){if(v>0){if(!_19){_20=v}
_19=true;_21+=v}else if(!_11){if(v==0){_25=(_25||!(_19||_22))}else{if(!_22){_24=v}
_22=true;_23+=v}}}else{_18+=v;if(!_11||_18>0){_12=(_12==null?_18:Math.min(_12,_18));_13=(_13==null?_18:Math.max(_13,_18))}}}}
if(_15&&(_19||_22)){var _29=0,_30=0;if(_19&&_22){_29=_23;_30=_21}else if(_19){_29=(_25?0:_20);_30=_21}else if(_22){_29=_23;_30=(_25?0:_24)}
_12=(_12==null?_29:Math.min(_12,_29));_13=(_13==null?_30:Math.max(_13,_30))}}}else{for(var i=_5;i<_6;++i){var _17=_4[i].series;for(var j=0;j<_14;++j){var s=_17[j],_18=(_8?s.record&&s.record[_9]:s.value);if(isc.isA.Number(_18)&&(!_11||_18>0)){_12=(_12==null?_18:Math.min(_12,_18));_13=(_13==null?_18:Math.max(_13,_18))}}}}}else if(this.isMultiFacet()){var _31=this.$103u(_1),_32=this.getLegendFacet().values.findIndex("id",_31.id);for(var i=_5;i<_6;++i){var s=_4[i].series[_32],_18=s.record&&s.record[_9];if(isc.isA.Number(_18)&&(!_11||_18>0)){_12=(_12==null?_18:Math.min(_12,_18));_13=(_13==null?_18:Math.max(_13,_18))}}}else{for(var i=_5;i<_6;++i){var s=_4[i],_18=(_8?s.record&&s.record[_9]:s.value);if(isc.isA.Number(_18)&&(!_11||_18>0)){_12=(_12==null?_18:Math.min(_12,_18));_13=(_13==null?_18:Math.max(_13,_18))}}}
if(_5<_6&&_11&&_12==null&&_13==null){_12=_13=0}
var _33={minValue:_12,maxValue:_13,minDataValue:_2?this.$107f():this.$107q(),maxDataValue:_2?this.$107g():this.$107r()};var _34=this.$1065(_1);if(!this.$1035()&&_34!=null&&!_3){var _35=this.$1066(),_36=this.$1064();if(_35!=null){this.$128e(_35,_33,_11)}
if(_36!=null){this.$128e(_36,_33,_11)}}
if(!_2)_1.$107p=_33;else if(_3)_1.$181o=_33;return _33});isc.evalBoundary;isc.B.push(isc.A.$107s=function isc_FacetChart__getMinLabelGap(_1,_2){if(this.minLabelGap!=null)return this.minLabelGap;if(_1){return Math.ceil(this.measureLabel("Xy",_2).height/2)}else{return this.measureLabel("XXXX",_2).width}},isc.A.$106v=function isc_FacetChart__calculateAxisLayout(_1,_2,_3,_4){var _5=_1.length,_6=new Array(_5),_7=new Array(_5),_8=[];for(var j=_5;j--;){_6[j]=0;_7[j]=[]}
if(this.truncateBarOffset){var _10=this.chartType;if(_10=="Column")_3=Math.floor(_3/1.5);else if(_10=="Bar")_4=Math.floor(_4/1.5)}
var _11=this,_12=function(){return _11.$136g.apply(_11,arguments)};var _13=function(_6,_17){return isc.FacetChart.$111b(_7,_8,_1,_2,_6,_3,_4,_12,_17)};var _14=isc.FacetChart.$111c(_1,_13,_6,this.multiAxisLayoutMaxImprovementIterations,this.multiAxisLayoutMaxIterations),_15=(_14!=null);var _16={};_13(_6,_16);return _16},isc.A.$136g=function isc_FacetChart__adjustForBubblesAndMeasure(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12){var _13=isc.isAn.Object(_12),_14=_7.length,_15=0;var _16=_1-_5,_17=_2-_6,_18=this.$138b(_16,_17);var _19=this.$136d();if(_19!=null&&this.maxDataPointSize>2*_18){var _20=1e-6,_21=this.getOrderedData(),_22=_16-2*_18,_23=_17-2*_18;var _24=(this.maxDataPointSize-this.minDataPointSize),_25=this.$1351(),_26=this.$1352(this),_27=this.getMinValue(_19,false,this,false,false,_25),_28=this.getMaxValue(_19,false,this,false,false,_25);if(this.chartType=="Scatter"||this.chartType=="Bubble"){var _29=this.getLegendFacet(),_30=this.getXAxisMetric(),_31=_7[0].$104q[0],_32=_8[0].$127t,_33=_8[0].$1279,_34=this.getYAxisMetric(),_35=_7[1].$104q[0],_36=_8[1].$127t,_37=_8[1].$1279;for(var i=(_29==null?1:_29.values.length);i--;){var _39=this.pointShapes[(_26?(i%this.pointShapes.length):0)],_40=(_39==this.$126e?Math.SQRT2:1.0);var _41=(_29==null?_21:_21[i].series);for(var j=_41.length;(_22>0||_23>0)&&j--;){var _43=_41[j].record;if(_43==null){continue}
var _44=this.getValueRatio(_43[_30],_32,_33,_31.logScale,_31),_45=this.getValueRatio(_43[_34],_36,_37,_35.logScale,_35),_46=this.getValueRatio(_43[_19],_27,_28,_25,this),_47=Math.round(this.minDataPointSize+_24*_46),_48=_40*_47;var _49=Math.abs(1-2*_44);if(_49>=_20){_22=Math.min(_22,(_16-_48)/_49)}
var _50=Math.abs(1-2*_45);if(_50>=_20){_23=Math.min(_23,(_17-_48)/_50)}}}}else{var _51=_16,_52=_17;var _53=this.$1068(),_54=_53[0].dataValue,_55=_53[1].dataValue,_56=_53[0].index,_57=_53[1].index,_58=_57-_56+1,_59=(this.$107d()||!(_7[_11].useGradations(_8[_11]))||_58==1);var _60=null;for(var s=_7.length;s--;){if(s==_11){continue}
var _62=_7[s].$104q;for(var t=_62.length;t--;){var _64=_62[t];if(_64.chartType=="Column"){var _65=this.$115t(_64,_21,_58,_51,0),_66=_65.clusterSize,_67=_65.startMargin,_68=_66/2;_60=_67+_68;s=t=0}}}
var _67=(this.$1035()&&isc.isA.Number(_60)?_60:this.dataMargin);var _69=Math.max(0,_67-this.dataMargin);var _70=(_51-2*_67);var _71=_67;var _72=(_58>1?_70/(_58-1):0);var _73=this.isMultiFacet();for(var s=_7.length;s--;){if(s==_11){continue}
var _62=_7[s].$104q,_74=_8[s].$127t,_75=_8[s].$1279,_76=_7[s].logScale(_8[s]);for(var t=_62.length;t--;){var _64=_62[t];if(!(_64.chartType=="Line"||_64.chartType=="Area")){continue}
var _26=this.$1352(_64);var _77=_64.isMultiFacet()&&this.isStacked(_64);var _78=_64.isMultiFacet()?_21[0].series.length:1;var _79=(_64!=this),_80=_79&&_64.$103o;var _81;for(var i=0;i<_78;++i){var _82,_83,_84=null;if(this.isMultiFacet()&&(!_79||_64.isMultiFacet())){var _41=_21.getProperty("series").getProperty(i);_83=_41.getProperty("record");_82=_79?_83.getProperty(_80):_41.getProperty("value");_84=i}else{if(_79){if(this.isMultiFacet()){var _85=this.$103u(_64);_84=this.getLegendFacet().values.findIndex("id",_85.id);var _41=_21.getProperty("series").getProperty(_84);_83=_41.getProperty("record")}else{_83=_21.getProperty("record")}}else{_83=_21.getProperty("record")}
_82=(_79?_83.getProperty(_80):_21.getProperty("value"))}
if(_77){_81=this.addValues(_82,_81)}else{_81=_82}
var _39=this.pointShapes[(_26?(i%this.pointShapes.length):0)],_40=(_39==this.$126e?Math.SQRT2:1.0);for(var j=0,k=_56;j<_58;++j,++k){var _87=(!isc.isA.Number(_82[k])||_81[k]<_74),_88=_81[k];if(!_87){var _46=this.getValueRatio(_83[k][_19],_27,_28,_25,this),_47=Math.round(this.minDataPointSize+_24*_46),_48=_40*_47;if(_59){if(k==_56||k==_57){_22=Math.min(_22,(_16-Math.max(_48-2*_69,0)))}}else{var _44=this.getValueRatio(_21[k].facetValueId,_54,_55,_76,_64),_49=Math.abs(1-2*_44);if(_49>=_20){_22=Math.min(_22,(_16-_48)/_49)}}
var _45=this.getValueRatio(_88,_74,_75,_76,_64),_50=Math.abs(1-2*_45);if(_50>=_20){_23=Math.min(_23,(_17-_48)/_50)}}}}}}}
var _89=2*Math.ceil((_16-_22)/2),_90=2*Math.ceil((_17-_23)/2);if(_13){_12.$136f=(_89/2);_12.$136e=(_90/2)}
_3+=_89;_4+=_90}else if(_13){_12.$136f=_12.$136e=_18}
var k=_11;if(_3<=_1&&_4<=_2){var _91=_1-_3;if(isc.isAn.Array(_9[k])){for(var l=_9[k].length;l--;){_9[k][l]+=_91}}else{_9[k]+=_91}
var _93=(_2
-(isc.isAn.Array(_10[k])?_10[k].sum():_10[k]));_15=1.0;for(var j=_14;j--;){if(j!=k){if(isc.isAn.Array(_10[j])){for(var l=_10[j].length;l--;){_10[j][l]=_93}}else{_10[j]=_93}}
_15*=(1+_7[j].utility(_9[j],_10[j],_8[j]))}}else{_15=(Math.min(_1-_3,0)+Math.min(_2-_4,0));var _94=_10[k]=Math.min(_10[k],_2),_95=0;for(var j=_14;j--;){if(j!=k){if(isc.isAn.Array(_9[j])){for(var l=_9[j].length;l--;){if(_1<_3){var w=_9[j][l]=Math.floor(_9[j][l]*_1/_3);_95+=w}}}else{if(_1<_3){var w=_9[j]=Math.floor(_9[j]*_1/_3);_95+=w}}
if(isc.isAn.Array(_10[j])){for(var l=_10[j].length;l--;){_10[j][l]=_2-_94}}else{_10[j]=_2-_94}}}
if(!(_1<_3)){_95=_3-_9[k]}
_9[k]=_1-_95}
return _15},isc.A.$106t=function isc_FacetChart__createAxis(_1,_2,_3){var _4=this.$179b(),_5=(this.chartType=="Scatter"||this.chartType=="Bubble"||(_1?this.hasYGradations():this.hasXGradations()));var _6=null;if(_5){if(this.$1057){var c=(isc.isAn.Array(_2)?_2[0]:_2),_8=(c.chartType=="Scatter"||c.chartType=="Bubble"),_9=!_8||_1,_10=(_9&&this.$159w(c)&&c.proportional);if(!_10&&_9&&this.shouldUseLogGradations(c)){_6=isc.FacetChart.$107u(_1)}else{_6=isc.FacetChart.$107v(_9,_1,(!_1&&(_8||this.hasXGradations())))}}else{_6=isc.FacetChart.$107w(_1)}}else{if(this.showDataLabels){if(_4=="numeric"){_6=isc.FacetChart.$107x(_1)}else if(_4=="time"){_6=isc.FacetChart.$107y(_1)}else if(_4=="sample"){_6=isc.FacetChart.$107z(_1)}}
if(_6==null){_6=isc.FacetChart.$1070(_1)}}
_6.rotateLabels=function(_11){return _11.$1071};_6.useGradations=function(_11){return _11.$1072};_6.logScale=function(_11){return _11.$1072&&_11.$1073};_6.init(this,_2,_3);return _6},isc.A.$120g=function isc_FacetChart__clickShape(){var _1=this;if(this.drawPane){_1=this.drawPane}
if(!_1.getNearestDrawnValues)return;var _2=_1.getNearestDrawnValues();if(_1.valueClick){_1.valueClick(_2[0])}});isc.B._maxIndex=isc.C+287;isc.A=isc.FacetChart;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.$133l=1000;isc.A.$134j=15000;isc.A.$134k=30000;isc.A.$133m=60000;isc.A.$134l=300000;isc.A.$133n=900000;isc.A.$133o=1800000;isc.A.$133p=3600000;isc.A.$133q=86400000;isc.A.$133r=604800000;isc.A.$133s=2592000000;isc.A.$133t=7776000000;isc.A.$133u=31536000000;isc.A.$155c={sumWidth:null,maxWidth:null,sumHeight:null,maxHeight:null,pairs:null};isc.B.push(isc.A.$140n=function isc_c_FacetChart__createChartRectTransform(_1,_2,_3,_4){return isc.AffineTransform.create({m00:_3,m01:0,m02:_1,m10:0,m11:-_4,m12:_2+_4,$140y:true,transformX:function(_5){return this.transform(_5,0)[0]},transformY:function(_5){return this.transform(0,_5)[1]}})},isc.A.$140o=function isc_c_FacetChart__stackTransforms(_1,_2){if(_1.$140u&&_2.$140u){return isc.AffineTransform.create({m00:_1.$140t,m01:0,m02:_1.$1270,m10:0,m11:_2.$140t,m12:_2.$1270,$140y:true,transformX:function(_3){return this.transform(_3,0)[0]},transformY:function(_3){return this.transform(0,_3)[1]}})}else{return{$140v:true,$1402:_1,$1403:_2,transform:function(_3,_4){return[this.$1402.transform(_3),this.$1403.transform(_4)]},transformX:function(_3){return this.$1402.transform(_3)},transformY:function(_3){return this.$1403.transform(_3)}}}},isc.A.$140r=function isc_c_FacetChart__createLogScaleTransform(_1,_2,_3){var _4=Math.log(_1),_5=(_2==0?0:Math.log(_2)/_4),_6=(_3==0?0:Math.log(_3)/_4),_7=Math.max(0,_6-_5),m=0,b=0;if(_7!=0){m=1/_4/_7;b=-_5/_7}
return{$140s:true,$140t:m,$1270:b,transform:function(_10){if(_10<=0){return 0}else{return this.$140t*Math.log(_10)+this.$1270}}}},isc.A.$140q=function isc_c_FacetChart__createLinearScaleTransform(_1,_2){var _3=_2-_1,m=0,b=0;if(_3!=0){m=1/_3;b=-_1/_3}
return{$140u:true,$140t:m,$1270:b,transform:function(_6){return this.$140t*_6+this.$1270}}},isc.A.$140p=function isc_c_FacetChart__createDateScaleTransform(_1,_2){var _3=_1.getTime(),_4=_2.getTime(),_5=_4-_3,m=0,b=0;if(_5!=0){m=1/_5;b=-_3/_5}
return{$1404:true,$140t:m,$1270:b,transform:function(_8){return this.$140t*_8.getTime()+this.$1270}}},isc.A.$1401=function isc_c_FacetChart__createRoundingTransform(_1){if(_1.$1405||_1.$1406){return _1}else if(_1.$140s||_1.$140u||_1.$1404){return{$1405:true,$1407:_1,transform:function(_3){return Math.round(this.$1407.transform(_3))},toString:function(){return"rounded("+this.$1407.toString()+")"}}}else if(_1.$140y||_1.$140v){return{$1406:true,$1407:_1,transform:function(_3,_4){var _2=this.$1407.transform(_3,_4);_2[0]=Math.round(_2[0]);_2[1]=Math.round(_2[1]);return _2},transformX:function(_3){return Math.round(this.$1407.transformX(_3))},transformY:function(_3){return Math.round(this.$1407.transformY(_3))},toString:function(){return"rounded("+this.$1407.toString()+")"}}}},isc.A.$105b=function isc_c_FacetChart__evenIndexOf(_1,_2,_3,_4){_3=_1.indexOf(_2,_3,_4);while(!(_3==-1||_3%2==0)){_3=_1.indexOf(_2,_3+1,_4)}
return _3},isc.A.$105c=function isc_c_FacetChart__oddIndexOf(_1,_2,_3,_4){_3=_1.indexOf(_2,_3,_4);while(!(_3==-1||_3%2==1)){_3=_1.indexOf(_2,_3+1,_4)}
return _3},isc.A.$102z=function isc_c_FacetChart__calculateOrdinaryLeastSquares(_1,_2){var _3=isc.Math.$101l(_1),L=isc.Math.$101n(_3);if(L==null){var _5=isc.Math.$101t(_1);if(_5==null){return null}else{var m=_5.length,n=_5[0].length,b=new Array(m);for(var i=m;i--;){var _10=_5[i],_11=0;for(var j=n;j--;){_11+=_10[j]*_2[j]}
b[i]=_11}
return b}}
var _13=isc.Math.$101m(_1,_2);var n=L.length,z=new Array(n);for(var i=0;i<n;++i){var _15=L[i],_11=0;for(var j=i;j--;){_11+=_15[j]*z[j]}
z[i]=(_13[i]-_11)/_15[i]}
var _16=new Array(n);for(var i=n;i--;){var _11=0;for(var j=i+1;j<n;++j){_11+=L[j][i]*_16[j]}
_16[i]=(z[i]-_11)/L[i][i]}
return _16},isc.A.$1020=function isc_c_FacetChart__generatePolynomial(_1){var _2=_1.length-1;var _3=isc.StringBuffer.create();_3.append("return ");for(var i=_2;i--;){_3.append("(")}
_3.append(_1[_2]);for(var i=_2;i--;){_3.append("*x+",_1[i],")")}
_3.append(";");return isc.$aq("x",_3.release(false))},isc.A.$102v=function isc_c_FacetChart__calculateBestFitPolynomial(_1,_2,_3){var m=_2.length,n=_1+1,M=new Array(m);for(var i=m;i--;){var _8=M[i]=new Array(n),_9=_2[i];for(var j=0,_11=1;j<n;++j,_11*=_9){_8[j]=_11}}
var _12=isc.FacetChart.$102z(M,_3);return(_12!=null?isc.FacetChart.$1020(_12):null)},isc.A.$102y=function isc_c_FacetChart__clipDrawPathToRect(_1,_2,_3){var n=_1.length;if(n==0){return[]}
var _5=[_2.left,_2.top,_2.left+_2.width,_2.top+_2.height],_6=[],_7=null,_8,_9=_1[0],_10=new Array(2);if(_5[0]<=_9[0]&&_9[0]<=_5[2]&&_5[1]<=_9[1]&&_9[1]<=_5[2]){_7=[_9]}
for(var i=1;i<n;++i){_8=_9;_9=_1[i];_10[0]=1/(_10[1]=(_9[1]-_8[1])/(_9[0]-_8[0]));var _12=_8,_13=_9;for(var m=0;m<4;++m){var k=m%2,l=(k+1)%2,s=(m<2?-1:1),_18=_5[s+1+k];var _19=!(s*_12[k]>s*_18),_20=!(s*_13[k]>s*_18);if(_19^_20){var _21=new Array(2);_21[k]=_18;_21[l]=_12[l]+(_18-_12[k])*_10[l];if(!_19){_12=_21}else{_13=_21}}else if(!(_19||_20)){_12=_13=null;break}}
if(_12==null){}else{if(_12===_8){}else{if(_3){_12[0]=Math.round(_12[0]);_12[1]=Math.round(_12[1])}
_7=[_12]}
if(_13===_9){_7.push(_9)}else{if(_3){_13[0]=Math.round(_13[0]);_13[1]=Math.round(_13[1])}
_7.push(_13);_6.push(_7);_7=null}}}
if(_7!=null){_6.push(_7)}
return _6},isc.A.$1074=function isc_c_FacetChart__bellCurve(_1,_2,_3){var z=(_3-_1)/_2;return Math.exp(-z*z/2.0)},isc.A.$107w=function isc_c_FacetChart__createEmptyAxis(_1){return{init:function(_3,_4,_17){this.$103y=_3;if(isc.isAn.Array(_4)){this.$104q=_4}else{_4=this.$104q=[_4];_17=[_17]}
this.$111d=new Array(_4.length);this.$111e=new Array(_4.length);for(var j=_4.length;j--;){this.$111d[j]=(_1?0:_17[j]);this.$111e[j]=(_1?_17[j]:0)}
this.$1408=(_1&&_3.$159w(_4[0])&&_4[0].proportional)},increaseScope:function(){return false},decreaseScope:function(){return false},measure:function(){var _3=this.$103y,_4=this.$104q,_5,_6;if(this.$1408){_5=0;_6=1}else{for(var j=_4.length;j--;){var c=_4[j],_8=_3.$107l(c),_9=_1?_8.minValue:_8.minDataValue,_10=_1?_8.maxValue:_8.maxDataValue;if(_9!=null){_5=(_5!=null?Math.min(_5,_9):_9)}
if(_10!=null){_6=(_6!=null?Math.max(_6,_10):_10)}}}
this.$1076=_5;this.$1077=_6;return[{parallel:this.$111d.duplicate(),perpendicular:this.$111e.duplicate(),$1071:false,$1072:true,$1073:this.$104q[0].logScale}]},utility:function(_17,_18,_19){return 1},getLabelDataPairs:function(_17){var _3=this.$103y,_4=this.$104q,_11=this.$1408,_5=this.$1076,_6=this.$1077;var _12=(_5==null||_6==null?[]:[_5,_6]);var _13=new Array(_4.length);for(var j=_4.length;j--;){var c=_4[j],_14=!(c!=_3&&c.showAxis==false);_13[j]=new Array(_12.length);for(var i=_12.length;i--;){var _16;if(_14){if(_11){_16=_3.formatProportion(_12[i],!_1)}else{_16=c.formatAxisValue(_12[i],!_1)}}else{_16=""}
_13[j][i]={label:_16,dataValue:_12[i]}}}
return _13},$127u:function(){var _4=this.$104q,_5=this.$1076,_6=this.$1077;if(_5==null||_6==null){return null}else if(_4[0].axisStartValue!=null){return _4[0].axisStartValue}else{return _5}},$128c:function(){var _4=this.$104q,_5=this.$1076,_6=this.$1077;if(_5==null||_6==null){return null}else if(_4[0].axisEndValue!=null){return _4[0].axisEndValue}else{return _6}}}},isc.A.$107v=function isc_c_FacetChart__createLinearGradationsAxis(_1,_2,_3,_4){return{init:function linearGradationsAxisInit(_25,_21,_111){this.$103y=_25;if(isc.isAn.Array(_21)){this.$104q=_21}else{_21=this.$104q=[_21];_111=[_111]}
var _5=(_25.chartType=="Scatter"||_25.chartType=="Bubble"),_6=_5,_7=(_5?(_1?_25.getYAxisMetric():_25.getXAxisMetric()):_25.getDefaultMetric());for(var j=_21.length;j--;){_6=_6&&_25.$133f(_21[j]==_25?_7:_21[j].$103o)}
this.$133v=_6;this.$111d=new Array(_21.length);this.$111e=new Array(_21.length);var _9=this.$1408=(_1&&_25.$159w(_21[0])&&_21[0].proportional),_10,_11;for(var j=_21.length;j--;){this.$111d[j]=(_2?0:_111[j]);this.$111e[j]=(_2?_111[j]:0);var _12,_13;if(_9){_12=0;_13=1}else if(_5){var _14=_25.$128d(_1,_21[j]);_12=_14.minValue;_13=_14.maxValue}else{var _15=_25.$107l(_21[j]);_12=_1?_15.minValue:_15.minDataValue;_13=_1?_15.maxValue:_15.maxDataValue}
if(_12!=null){if(_10==null){_10=_12}else if(_6){_10=isc.DateUtil.$1329(_10,_12)}else{_10=Math.min(_10,_12)}}
if(_13!=null){if(_11==null){_11=_13}else if(_6){_11=isc.DateUtil.$133a(_11,_13)}else{_11=Math.max(_11,_13)}}}
var _16=(_10==null||_11==null);if(!_16){var _17=_25.$127u(_1,_10,_11,null,_21[0]);if(_6){_16=(isc.isA.Date(_17)&&_17.getTime()>_11.getTime())}else{_16=(_17!=null&&_17>_11)}}
this.$1075=_16;if(_16){return}
this.$1076=_10;this.$1077=_11;if(_6){isc.addProperties(this,isc.FacetChart.$133w(_25,_21));this.$108a=isc.FacetChart.$133x(0)}else{if(_1||_25.showDataLabels){this.$1078=new Array(_21.length);this.$78r=new Array(_21.length);for(var j=_21.length;j--;){var c=_21[j],_19=!(c!=_25&&c.showAxis==false);if(_19){this.$1078[j]=c.gradationLabelProperties;this.$78r[j]=_25.$107a(c)}}}
this.$108a=_25.$127w(_1,_10,_11,_21[0])}
this.$76w=Math.floor((this.$108a.length-1)/2)},increaseScope:function linearGradationsAxisIncreaseScope(){if(this.$1075)return false;var _20=this.$76w<this.$108a.length-1;if(_20)++this.$76w;return _20},decreaseScope:function linearGradationsAxisDecreaseScope(){if(this.$1075)return false;var _20=this.$76w>0;if(_20)--this.$76w;return _20},measure:function linearGradationsAxisIncreaseMeasure(){var _6=this.$133v,_21=this.$104q;if(this.$1075){var _22=new Array(_21.length);for(var j=_21.length;j--;){_22[j]=[]}
var _23={parallel:this.$111d.duplicate(),perpendicular:this.$111e.duplicate(),$1071:false,$108b:_22,$127t:null,$1279:null,$1072:true,$1073:false};if(_3){_23.$1238=_23.$1239=0}
if(_6){var _24=new Array(_21.length);for(var j=_21.length;j--;){_24[j]=[]}
_23.$934=_24}
return[_23]}
var _25=this.$103y,_26=!_1&&_25.showInlineLabels,_9=this.$1408,_10=this.$1076,_11=this.$1077,_27=this.$108a[this.$76w];var _28=_25.$128f(_1,_10,_11,_27,_21[0]);var _29=_28.startValue,_30=_28.endValue,_31=_28.b,_32=_28.c,_33=_28.numGradations,_34=_28.oneGradationLabel,_35=_6&&_28.zero,_36=(_33>1&&(_6?0:(_30-_29)/((_32-_31)*_27)));var _37=(_1||_25.showDataLabels),_38=1.5*Math.max(_25.$106h(),_25.$106f()),_39=(_37&&_25.rotateLabels=="always"&&!_26),_40=(_37&&_25.$116c()),_41=(_2||(_40&&!_26)),_42=!(_2||_39),_43=!_41,_44=!_42;var _22=null,_45=null;if(_6){var _46=isc.FacetChart.$133i(_27,_29),_47=isc.FacetChart.$133g(_27,_30);_45=isc.FacetChart.$133y(this,_25,_27,_46,_47,_38,_41,_42,_37);_22=_45.pairs.getProperty("dataValue");_33=_22.length}else{_22=new Array(_33);for(var i=_33;i--;){_22[i]=((_31+i)*_27)}
if(_4){this.$181u(_22,_27)}}
var _49=_41&&new Array(_21.length),_50=_41&&new Array(_21.length),_51=_42&&new Array(_21.length),_52=_42&&new Array(_21.length),_53=_25.$1235(_2),_54=0,_55=0,_56=0,_57=0;for(var j=_21.length;j--;){var c=_21[j],_19=_37&&!(c!=this&&c.showAxis==false);if(!_19){if(_41){_49[j]=_50[j]=0}
if(_42){_51[j]=_52[j]=0}
continue}
var _58=this.$1078[j],_59=0,_60=0,_61=0,_62=0;if(_6){_59=_45.sumHeight[j];_60=_45.maxWidth[j];_61=_45.sumWidth[j];_62=_45.maxHeight[j]}else{var _63=_25.$107s(false,_58),_64=_25.$107s(true,_58),_65=this.$78r[j],_66=0,_67=0;if(!_43&&_33>1){_43=Math.ceil(_36*
Math.max(_25.pixelsPerGradation,_65+_64)*
(_33-1))>_38}
var _68=0;for(var i=0;i<_33;++i){var _69=_22[i];if(!(_43&&_44)&&!(_34&&i>0)){var _70=(_9?_25.formatProportion(_69,!_2):c.formatAxisValue(_69,!_2)),_71=_25.measureLabel(_70,_58).width;if(!_26){var _72=Math.ceil((_71+_68)/2);if(_72>_67){_67=_72}
_66=Math.max(_66,_71);_68=_71}else{if(i!=_33-1&&_71>_67){_67=_71}}
if(!_44&&_33>1){_44=Math.ceil(_36*
Math.max(_25.pixelsPerGradation,_67+_63)*
(_33-1))>_38}}}
if(_33>1){_59=Math.ceil(_36*
Math.max(_25.pixelsPerGradation,_65+_64)*
(_33-1));_61=Math.ceil(_36*
Math.max(_25.pixelsPerGradation,_67+_63)*
(_33-1))}else{_61=_59=0}
_60=_66;_62=_65}
_62=(_26?0:_62);if(_41){_54=_55=0;if(_3){_54=_55=Math.max(0,Math.ceil(_62/2)-_53)}
_49[j]=_54+_55+Math.max(_59,this.$111d[j]);_50[j]=Math.max(_60,this.$111e[j])}
if(_42){_56=_57=0;if(_3){var _73,_74;if(_6){_73=_45.pairs.first();_74=_45.pairs.last()}else if(_9){_73=_25.formatProportion(_22.first(),!_2);_74=_25.formatProportion(_22.last(),!_2)}else{_73=c.formatAxisValue(_22.first(),!_2);_74=c.formatAxisValue(_22.last(),!_2)}
var _75=_25.measureLabel(_73,_58).width,_76=_25.measureLabel(_74,_58).width;_56=Math.max(0,Math.ceil(_75/2)-_53);_57=Math.max(0,Math.ceil(_76/2)-_53)}
_51[j]=_56+_57+Math.max(_61,this.$111d[j]);_52[j]=Math.max(_62,this.$111e[j])}}
var _77;if(_41||_42){_77=new Array(_21.length);for(var j=_21.length;j--;){_77[j]=_22}}
var _23=[];if(_41){var m={parallel:_49,perpendicular:_50,$1071:!_2&&_40,$108b:_77,$1270:_31,$1271:_32,$127t:_29,$1279:_30,$117i:_34,$1072:true,$1073:false,$124b:(_43&&_44),$133v:_6};if(_3){m.$1238=_54;m.$1239=_55}
if(_6){m.$133z=_35;m.$108p=_45.pairs}
_23.push(m)}
if(_42){var m={parallel:_51,perpendicular:_52,$1071:false,$108b:_77,$1270:_31,$1271:_32,$127t:_29,$1279:_30,$117i:_34,$1072:true,$1073:false,$124b:(_43&&_44),$133v:_6};if(_3){m.$1238=_56;m.$1239=_57}
if(_6){m.$133z=_35;m.$108p=_45.pairs}
_23.push(m)}
return _23},$181u:function(_22,_27){var _25=this.$103y;var _79=_25.getDataLabelFacet();if(!_79||!_79.values)return;var _80=_79.values,_81=_27*0.95,_82=_22.length,_83=true,_84;for(var i=0,j=0;i<_82&&j<_80.length;i++){var _85=_22[i],_86=i<_82-1?_22[i+1]:null;if(_82<10||i==0){var _87=isc.FacetChart.$96c(_80,j,_80.length-1,"id",_85);j=_87>=0?_87:-_87-1}else{while(j<_80.length&&_80[j].id<_85)j++}
var _88=j>0?_80[j-1].id:null,_89=j<_80.length?_80[j].id:null,_90=_89!=null?_89-_85:NaN,_91=_88!=null?_85-_88:NaN;var _92=_89!=null&&(i==_82-1||_90/_27<1)&&(_84==null||_89-_84>_81);var _93=_88!=null&&_88!=_84&&(i==0||_91/_27<1)&&(_84==null||_88-_84>_81);if(_92&&_93){_93=_91<_90||_83&&_90>0;_92=!_93}
var _94=null;if(_92){_94=_80[j++].id;_83=false}else if(_93){_94=_88}else{_83=true}
if(_94!=null&&_84!=_94){_22[i]=_84=_94}else if(_84!=null&&j<_80.length){_22[i]=null}}
_22.removeEvery(null)},utility:function linearGradationsAxisUtility(_111,_112,_113){if(this.$1075)return 1.0;var _25=this.$103y,_22=_113.$108b[0],_33=_22.length,_6=_113.$133v;if(_6&&_25.showDataLabels){var _95=(1.0-this.$76w/this.$108a.length),_96=(_33>0?1:0);return(_95+_96)/2}
var _97=(_2?_112:_111)[0],_98=this.$1079;if(_3){_97-=_113.$1238+_113.$1239}
var _29=_113.$127t,b=_113.$1270,c=_113.$1271;var _100=_97,_101=1.0;if(c>b){var _27=_22[1]-_22[0],_30=_113.$1279,_102=(_6?_22.last().getTime()-_22.first().getTime():_22.last()-_22.first()),_103=(_6?_30.getTime()-_29.getTime():_30-_29),_104=_97*_102/_103;_100=_104/(_33-1);if(_6){var _105=isc.FacetChart.$1074(_25.pixelsPerGradation,10.0,_100);_101=_105*this.$76w/this.$108a.length}else{_101=(1-2/_27*Math.abs(_29-_27*Math.round(_29/_27)))}}
var _106=Math.abs(_100-_25.pixelsPerGradation),_107=Math.max(_25.pixelsPerGradation,_97-_25.pixelsPerGradation);var _95=(_113.$124b?0:1),_96=(_113.$1071?0:1),_108=isc.FacetChart.$1074(_25.pixelsPerGradation,3.0,_100),_109=1-_106/_107;return(_95+_96+_108+_109+_101)/5},getLabelDataPairs:function linearGradationsAxisGetLagelDataPairs(_111,_112,_113){var _25=this.$103y,_21=this.$104q,_9=this.$1408,_34=_113.$117i;if(_113.$133v){var _23=new Array(_21.length);for(var i=_21.length;i--;){_23[i]=_113.$108p}
return _23}else{var _37=_1||_25.showDataLabels;return _21.map(function(c,j){var _19=_37&&!(c!=_25&&c.showAxis==false);return _113.$108b[j].map(function(_69,i){var _110;if(_19&&(!_34||i==0)){if(_9){_110=_25.formatProportion(_69,!_2)}else{_110=c.formatAxisValue(_69,!_2)}}else{_110=""}
return{label:_110,dataValue:_69}})})}},$127u:function linearGradationsAxisGetAxisStartValue(_111,_112,_113){return _113.$127t},$128c:function linearGradationsAxisGetAxisEndValue(_111,_112,_113){return _113.$1279}}},isc.A.$107u=function isc_c_FacetChart__createLogGradationsAxis(_1){return{init:function(_12,_16,_40){this.$103y=_12;if(isc.isAn.Array(_16)){this.$104q=_16}else{_16=this.$104q=[_16];_40=[_40]}
this.$111d=new Array(_16.length);this.$111e=new Array(_16.length);var _2,_3;for(var i=_16.length;i--;){this.$111d[i]=(_1?0:_40[i]);this.$111e[i]=(_1?_40[i]:0);var _5,_6;if(_12.chartType=="Scatter"||_12.chartType=="Bubble"){var _7=_12.$128d(true,_16[i]);_5=_7.minValue;_6=_7.maxValue}else{var _8=_12.$107l(_16[i]);_5=_8.minValue;_6=_8.maxValue}
if(_5!=null){_2=(_2!=null?Math.min(_2,_5):_5)}
if(_6!=null){_3=(_3!=null?Math.max(_3,_6):_6)}}
this.$1075=(_2==null&&_3==null);this.$1078=new Array(_16.length);this.$108c=new Array(_16.length);this.$108d=new Array(_16.length);this.$108b=new Array(_16.length);this.$78r=new Array(_16.length);for(var i=_16.length;i--;){var c=_16[i],_10=!(c!=_12&&c.showAxis==false);if(_10){var _11=this.$1078[i]=c.gradationLabelProperties;this.$108c[i]=_12.$107s(false,_11);this.$108d[i]=_12.$107s(true,_11);this.$108b[i]=_12.getLogGradations(_3,_2,null,c);this.$78r[i]=_12.$107a(c)}}},increaseScope:function(){return false},decreaseScope:function(){return false},measure:function(){if(this.$1075){return[{parallel:this.$111d.duplicate(),perpendicular:this.$111e.duplicate(),$1071:false,$1072:true,$1073:true}]}
var _12=this.$103y,_13=_12.showInlineLabels,_14=(_12.rotateLabels=="always"&&!_13),_15=_12.$116c(),_16=this.$104q,_17=[];var _18=_16[0].$127t,_19=_16[0].$1279,_20=_12.logValue(_18,null,_16[0]),_21=_12.logValue(_19,null,_16[0]);for(var j=_16.length;j-->1;){_20=Math.min(_20,_12.logValue(_16[j].$127t,null,_16[j]));_21=Math.max(_21,_12.logValue(_16[j].$1279,null,_16[j]))}
if(_1||(_15&&!_13)){var _23=new Array(_16.length),_24=new Array(_16.length);for(var j=_16.length;j--;){var c=_16[j],_10=!(c!=_12&&c.showAxis==false);if(!_10){_23[j]=_24[j]=0;continue}
var _11=this.$1078[j],_25=this.$108b[j],_26=_25.getLength(),_27=this.$108c[j],_28=this.$108d[j],_29=this.$78r[j];var _30=c.logGradations,_31;for(var i=0;i<_30.getLength();++i){var d=_12.logValue(_25[i+1],null,c)
-_12.logValue(_25[i],null,c);if(_31==null||d<_31){_31=d}}
var _33=0;for(var i=0;i<_26;++i){_33=Math.max(_12.measureLabel(c.formatAxisValue(_25[i],!_1),_11).width,_33)}
_23[j]=Math.max(Math.ceil((_29+_28)*(_21-_20)/_31),this.$111d[j]);_24[j]=Math.max(_33,this.$111e[j])}
_17.push({parallel:_23,perpendicular:_24,$1071:!_1&&_15,$1072:true,$108b:this.$108b,$127t:_18,$1279:_19,$1073:true})}
if(!(_1||_14)){var _23=new Array(_16.length),_24=new Array(_16.length);for(var j=_16.length;j--;){var c=_16[j],_10=!(c!=this&&c.showAxis==false);if(!_10){_23[j]=_24[j]=0;continue}
var _11=this.$1078[j],_25=this.$108b[j],_26=_25.getLength(),_27=this.$108c[j],_28=this.$108d[j],_29=this.$78r[j];var _34=0.0,_35=_12.measureLabel(c.formatAxisValue(_25[0],!_1),_11).width,_36=_12.logValue(_25[0],null,c);for(var i=1;i<_26;++i){var w=_12.measureLabel(c.formatAxisValue(_25[i],!_1),_11).width,_38=_12.logValue(_25[i],null,c),_31=_38-_36,m;if(!_13){m=Math.ceil(((_35+w)/2.0+_27)*(_21-_20)/_31)}else if(i!=_26-1){m=Math.ceil((w+_27)*(_21-_20)/_31)}
_34=Math.max(_34,m);_35=w;_36=_38}
_23[j]=Math.max(_34,this.$111d[j]);_24[j]=Math.max((_13?0:_29),this.$111e[j])}
_17.push({parallel:_23,perpendicular:_24,$1071:false,$1072:true,$108b:this.$108b,$127t:_18,$1279:_19,$1073:true})}
return _17},utility:function(_40,_41,_42){return _42.$1071?0.5:1.0},getLabelDataPairs:function(_40,_41,_42){if(this.$1075){return[[]]}
var _12=this.$103y,_16=this.$104q;return this.$108b.map(function(_25,j){var c=_16[j],_10=!(c!=_12&&c.showAxis==false);return _25.map(function(_43){return{label:(_10?c.formatAxisValue(_43,!_1):""),dataValue:_43}})})},$127u:function(_40,_41,_42){return this.$104q[0].$127t},$128c:function(_40,_41,_42){return this.$104q[0].$1279}}},isc.A.$1070=function isc_c_FacetChart__createLabelCollapseModeNoneAxis(_1){return{init:function labelCollapseModeNoneAxisInit(_2,_35,_36){this.$103y=_2;this.$68q=_2.getOrderedData();this.$1078=_2.dataLabelProperties;this.$78r=(_2.showDataLabels?_2.getDataLabelHeight():0)},increaseScope:function(){return false},decreaseScope:function(){return false},measure:function labelCollapseModeNoneAxisMeasure(){var _2=this.$103y,_3=_2.showInlineLabels,_4=0,_5=this.$78r,_6=0,_7=0,_8=_2.$1235(_1),_9=(_1?0:Math.max(0,Math.ceil(_5/2)-_8)),_10=_9,_11=0,_12=0,_13=false,_14=false,_15=false;if(_2.showDataLabels){_13=(_2.rotateLabels=="always"&&!_3),_14=_2.$116c(),_15=!_1&&_14&&!_3;var _16=this.$68q,_17=this.$1078,_18=_16.getLength(),_19=this.$934=[],_20=0,_21=0,_22=0;for(var i=0;i<_18;++i){var _24=_2.$1811(_16[i].facetValueId,_16[i].title,!_1),_25=_2.measureLabel(_24,_17).width;if(_24!==_16[i].title)_19[i]=_24;if(i==0||i==_18-1){var _26=Math.ceil(_25/2);if(i==0){_11=Math.max(0,_26-_8)}else{_12=Math.max(0,_26-_8)}}
if(_25>_4)_4=_25;_20+=_25;if(_20>_21)_21=_20;_20-=_22;_22=_25}
var _27=_2.$107s(_1,_17),_28=Math.ceil(_27+_21/2);if(_2.chartType=="Area"||_2.chartType=="Line"){_6=(_18-1)*_28;_7=(_18-1)*_5}else{_6=_18*_28-_27;_7=_18*_5}}
if(_2.$116d()||_2.$116e()){_9=_10=_11=_12=0}
var _29=[];if(_1||_15){_29.push({parallel:_9+_10,perpendicular:_4,$1071:!_1&&_14,$1072:false,$108e:_7,$108f:_6,$1238:_9,$1239:_10})}
if(!(_1||_13)){_29.push({parallel:_11+(_15?_6:0)+_12,perpendicular:(_3?0:_5),$1071:false,$1072:false,$108e:_6,$1238:_11,$1239:_12})}
return _29},utility:function labelCollapseModeNoneAxisUtility(_35,_36,_37){var _30=(_1?_36:_35)-_37.$1238-_37.$1239,_31=_37.$108e,_32=_37.$1071,_33=_37.$108f,_13=(this.$103y.rotateLabels=="always"&&!this.$103y.showInlineLabels);if(_32&&!_13&&_33<_30){return 0.0}else if(_31>_30){return 0.5*isc.FacetChart.$1074(_30,0.1*_30,_31)}else{return 1.0}},getLabelDataPairs:function(_35,_36,_37){var _34,_16=this.$68q,_19=this.$934||[];return _16.map(function(_38,i){return{dataValue:_38.facetValueId,label:_19[i]!==_34?_19[i]:_38.title}})}}});isc.evalBoundary;isc.B.push(isc.A.$107x=function isc_c_FacetChart__createLabelCollapseModeNumericAxis(_1){return{init:function labelCollapseModeNumericAxisInit(_5,_28,_29){this.$103y=_5;this.$68q=_5.getOrderedData();this.$1078=_5.gradationLabelProperties;this.$78r=_5.$107a();var _2=_28.chartType,_3=isc.FacetChart.$107v(false,_1,!(_1||_5.$116d()||_5.$116e()),_2=="Column"&&!_1||_2=="Bar"&&_1);this.$108g=_3;_3.init(_5,_28,_29);while(_3.decreaseScope());this.$108h=0},increaseScope:function(){var _3=this.$108g;var _4=this.$108h==0||_3.increaseScope();if(_4)++this.$108h;return _4},decreaseScope:function(){var _3=this.$108g;var _4=this.$108h>0;if(_4){if(this.$108h!=1)_3.decreaseScope();--this.$108h}
return _4},measure:function labelCollapseModeNumericAxisMeasure(){var _5=this.$103y,_6=_5.showInlineLabels,_7=this.$1078,_8=this.$68q,_3=this.$108g,_9=this.$78r,_10=this.$108h!=0;if(!_10){var _11=_8.getLength(),_12=_9,_13=(_11-1)*_12,_14=0,_15=0,_16=_5.$1235(_1),_17=(_1?0:Math.max(0,Math.ceil(_12/2)-_16)),_18=_17,_19=0,_20=0;for(var i=0;i<_11;++i){var _22=_5.formatAxisValue(_8[i].title,!_1),_23=_5.measureLabel(_22,_7).width;if(!_6&&(i==0||i==_11-1)){var _24=Math.ceil(_23/2);if(i==0){_19=Math.max(0,_24-_16)}else{_20=Math.max(0,_24-_16)}
_15+=_24}else if(!_6||(i!=_11-1)){_15+=_23}
if(_23>_14)_14=_23}
if(_5.$116d()||_5.$116e()){_17=_18=_19=_20=0}
var _25=[],_26=(_5.rotateLabels=="always"&&!_6),_27=_5.$116c();if(_1||(_27&&!_6)){_25.push({parallel:_17+_13+_18,perpendicular:_14,$1071:!_1&&_27,$1072:_10,$1238:_17,$1239:_18})}
if(!(_1||_26)){_25.push({parallel:_19+_15+_20,perpendicular:(_6?0:_12),$1071:false,$1072:_10,$1238:_19,$1239:_20})}
return _25}else{return _3.measure().map(function(_28){_28.$1072=true;return _28})}},utility:function(_28,_29,_30){var _3=this.$108g,_10=_30.$1072;return!_10?1.0:0.5*_3.utility(_28,_29,_30)},getLabelDataPairs:function(_28,_29,_30){var _5=this.$103y,_8=this.$68q;_3=this.$108g,_10=_30.$1072;if(!_10){return _8.map(function(_31){return{label:_5.formatAxisValue(_31.title,!_1),dataValue:_31.title}})}else{return _3.getLabelDataPairs(_28,_29,_30)[0]}}}},isc.A.$133g=function isc_c_FacetChart__dateFloor(_1,_2){var _3=_2.getFullYear(),_4=_2.getMonth(),_5=_2.getDate(),_6=_2.getHours(),_7=_2.getMinutes(),_8=_2.getSeconds();if(_1==isc.FacetChart.$134j){return new Date(_3,_4,_5,_6,_7,15*Math.floor(_8/15),0)}else if(_1==isc.FacetChart.$134k){return new Date(_3,_4,_5,_6,_7,30*Math.floor(_8/30),0)}else if(_1==isc.FacetChart.$133m){return new Date(_3,_4,_5,_6,_7,0,0)}else if(_1==isc.FacetChart.$134l){return new Date(_3,_4,_5,_6,5*Math.floor(_7/5),0,0)}else if(_1==isc.FacetChart.$133n){return new Date(_3,_4,_5,_6,15*Math.floor(_7/15),0,0)}else if(_1==isc.FacetChart.$133o){return new Date(_3,_4,_5,_6,30*Math.floor(_7/30),0,0)}else if(_1==isc.FacetChart.$133p){return new Date(_3,_4,_5,_6,0,0,0)}else if(_1==isc.FacetChart.$133q){return new Date(_3,_4,_5)}else if(_1==isc.FacetChart.$133r){var _9=isc.DateChooser.getPrototype().firstDayOfWeek,_10=_5-((7+_2.getDay()-_9)%7);return new Date(_3,_4,_10)}else if(_1==isc.FacetChart.$133s){return new Date(_3,_4,1)}else if(_1==isc.FacetChart.$133t){return new Date(_3,3*Math.floor(_4/3),1)}else if(_1==isc.FacetChart.$133u){return new Date(_3,0,1)}},isc.A.$133i=function isc_c_FacetChart__dateCeil(_1,_2){var _3=_2.getFullYear(),_4=_2.getMonth(),_5=_2.getDate(),_6=_2.getHours(),_7=_2.getMinutes(),_8=_2.getSeconds(),_9=_2.getMilliseconds();if(_1==isc.FacetChart.$134j){if(_9>0)++_8;return new Date(_3,_4,_5,_6,_7,15*Math.ceil(_8/15),0)}else if(_1==isc.FacetChart.$134k){if(_9>0)++_8;return new Date(_3,_4,_5,_6,_7,30*Math.ceil(_8/30),0)}else if(_1==isc.FacetChart.$133m){if(_8+_9>0)++_7;return new Date(_3,_4,_5,_6,_7,0,0)}else if(_1==isc.FacetChart.$134l){if(_8+_9>0)++_7;return new Date(_3,_4,_5,_6,5*Math.ceil(_7/5),0,0)}else if(_1==isc.FacetChart.$133n){if(_8+_9>0)++_7;return new Date(_3,_4,_5,_6,15*Math.ceil(_7/15),0,0)}else if(_1==isc.FacetChart.$133o){if(_8+_9>0)++_7;return new Date(_3,_4,_5,_6,30*Math.ceil(_7/30),0,0)}else if(_1==isc.FacetChart.$133p){if(_7+_8+_9>0)++_6;return new Date(_3,_4,_5,_6,0,0,0)}else if(_1==isc.FacetChart.$133q){if(_6+_7+_8+_9>0)++_5;return new Date(_3,_4,_5)}else if(_1==isc.FacetChart.$133r){var _10=isc.DateChooser.getPrototype().firstDayOfWeek,_11=_2.getDay();if(_6+_7+_8+_9>0){++_5;_11=(_11+1)%7}
var _12=_5+((7-(_11-_10))%7);return new Date(_3,_4,_12)}else if(_1==isc.FacetChart.$133t){if(_8+_9+_7+_6+_5-1>0)++_4;return new Date(_3,3*Math.ceil(_4/3),1)}else{var _13=isc.FacetChart.$133g(_1,_2);if(_13.getTime()==_2.getTime()){return _13}else if(_1==isc.FacetChart.$133s){return new Date(_3,_4+1,1)}else if(_1==isc.FacetChart.$133u){return new Date(_3+1,0,1)}}},isc.A.$133k=function isc_c_FacetChart__dateAddScope(_1,_2,_3){var _4=_2.getFullYear(),_5=_2.getMonth(),_6=_2.getDate(),_7=_2.getHours(),_8=_2.getMinutes(),_9=_2.getSeconds();if(_1==isc.FacetChart.$134j){return new Date(_4,_5,_6,_7,_8,_9+15*_3,0)}else if(_1==isc.FacetChart.$134k){return new Date(_4,_5,_6,_7,_8,_9+30*_3,0)}else if(_1==isc.FacetChart.$133m){return new Date(_4,_5,_6,_7,_8+_3,0,0)}else if(_1==isc.FacetChart.$134l){return new Date(_4,_5,_6,_7,_8+5*_3,0,0)}else if(_1==isc.FacetChart.$133n){return new Date(_4,_5,_6,_7,_8+15*_3,0,0)}else if(_1==isc.FacetChart.$133o){return new Date(_4,_5,_6,_7,_8+30*_3,0,0)}else if(_1==isc.FacetChart.$133p){return new Date(_4,_5,_6,_7+_3,0,0,0)}else if(_1==isc.FacetChart.$133q){return new Date(_4,_5,_6+_3)}else if(_1==isc.FacetChart.$133r){return new Date(_4,_5,_6+7*_3)}else if(_1==isc.FacetChart.$133s){return new Date(_4,_5+_3,1)}else if(_1==isc.FacetChart.$133t){return new Date(_4,_5+3*_3,1)}else if(_1==isc.FacetChart.$133u){return new Date(_4+_3,0,1)}},isc.A.$133j=function isc_c_FacetChart__nextDate(_1,_2){return isc.FacetChart.$133k(_1,_2,1)},isc.A.$1330=function isc_c_FacetChart__prevDate(_1,_2){return isc.FacetChart.$133k(_1,_2,-1)},isc.A.$133h=function isc_c_FacetChart__dateSubtract(_1,_2,_3){var _4=Math.round((_2.getTime()-_3.getTime())/_1),_5=isc.FacetChart.$133k(_1,_3,_4),_6=_2.getTime();while(_5.getTime()<_6){_5=isc.FacetChart.$133j(_1,_5);++_4}
while(_5.getTime()>_6){_5=isc.FacetChart.$1330(_1,_5);--_4}
return _4},isc.A.$108m=function isc_c_FacetChart__detectInternationalization(){var _1=Date.getShortMonthNames(),_2=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],_3=Date.getShortDayNames(),_4=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];for(var i=0,_6=_1.getLength();i<_6;++i){if(_1[i]!=_2[i]){return true}}
for(var i=0,_6=_3.getLength();i<_6;++i){if(_3[i]!=_4[i]){return true}}
return false},isc.A.$133x=function isc_c_FacetChart__getPossibleDateScopes(_1){var _2=[isc.FacetChart.$134j,isc.FacetChart.$134k,isc.FacetChart.$133m,isc.FacetChart.$134l,isc.FacetChart.$133n,isc.FacetChart.$133o,isc.FacetChart.$133p,isc.FacetChart.$133q,isc.FacetChart.$133r,isc.FacetChart.$133s,isc.FacetChart.$133t,isc.FacetChart.$133u];if(_1>0){for(var i=0;i<_2.length-1;){if(_2[i]+_2[i+1]<2*_1){_2.splice(i,1)}else{++i}}}
return _2},isc.A.$177h=function isc_c_FacetChart__getUnscopedOrLogicalDateLabel(_1,_2){var _3=_1.logicalDate;if(!_3)return _1.toNormalDatetime();return _2>0?_1.getShortMonthName()+" "+_1.getDate():_1.toShortDate()},isc.A.$133w=function isc_c_FacetChart__getDateAxisConstants(_1,_2){var _3=isc.FacetChart.$108m(),_4=isc.isAn.Array(_2),_5=(_4?_2.length:1);var _6={$108l:_3,$1331:(_3?5:0),$1078:new Array(_5),$108c:new Array(_5),$108d:new Array(_5),$1595:new Array(_5),$146u:new Array(_5),_9999:new Array(_5),_2359pm:new Array(_5),_235900pm:new Array(_5)};var _7=isc.Time.parseInput("23:59pm"),_8=isc.Time.toTime(_7),_9=isc.Time.toShortTime(_7);for(var i=_5;i--;){var _11=(_4?_2[i]:_2),_12=_11.gradationLabelProperties;_6.$1078[i]=_12;_6.$108c[i]=_1.$107s(false,_12);_6.$108d[i]=_1.$107s(true,_12);_6.$1595[i]=_1.measureLabel("May 99",_12);_6.$146u[i]=_1.measureLabel("May 9999",_12);_6._9999[i]=_1.measureLabel("9999",_12);_6._2359pm[i]=_1.measureLabel(_9,_12);_6._235900pm[i]=_1.measureLabel(_8,_12)}
return _6},isc.A.$177i=function isc_c_FacetChart__getFormattedDateAxisLabels(_1,_2,_3){var _4="";if(_1<_2)_4=_3.getShortMonthName()+" "+_3.getDate();else _4=_3.getDate()+" "+_3.getShortMonthName();return _4},isc.A.$133y=function isc_c_FacetChart__getDateAxisLabels(_1,_2,_3,_4,_5,_6,_7,_8,_9){var _10=isc.isAn.Array(_1.$1078),_11=(_10?_1.$1078.length:1),_12=_1.$1331;var _13=_4.getTime(),_14=_5.getTime(),_15=this.$155c,_16=_15.pairs=[],_17=1+isc.FacetChart.$133h(_3,_5,_4),_18=isc.Date.getInputFormat();var _19=_18.indexOf("M"),_20=_18.indexOf("D");if(_9){_15.sumWidth=new Array(_11);_15.maxWidth=new Array(_11);_15.sumHeight=new Array(_11);_15.maxHeight=new Array(_11)}
if(_3==isc.FacetChart.$134j||_3==isc.FacetChart.$134k){var _21=isc.FacetChart.$133g(isc.FacetChart.$133q,_4).getTime();var _22=0,_23=0;if(_9){for(var i=_11;i--;){var _25=_1.$108c[i],_26=_1.$108d[i],_27=_1.$1595[i],_28=_1._235900pm[i],_29=Math.max(_27.width+_12,_28.width),_30=Math.max(_27.height,_28.height),_31=(_17-1)*(_29+_25),_32=(_17-1)*(_30+_26);_15.maxWidth[i]=_29;_15.maxHeight[i]=_30;_15.sumWidth[i]=_31;_15.sumHeight[i]=_32;_22+=_32;_23+=_31}}
if(!_9||(_7&&_22<=_6)||(_8&&_23<=_6))
{for(var i=0;i<_17;++i){var _33=isc.FacetChart.$133k(_3,_4,i),_34=_33.getTime(),_35;if(_9){if((_34-_21)%isc.FacetChart.$133q==0){_35=this.$177i(_19,_20,_33)}else{_35=isc.Time.toTime(_33)}}
_16.push({dataValue:_33,label:_35})}}}else if(_3==isc.FacetChart.$133m||_3==isc.FacetChart.$134l||_3==isc.FacetChart.$133n||_3==isc.FacetChart.$133o||_3==isc.FacetChart.$133p)
{var _21=isc.FacetChart.$133g(isc.FacetChart.$133q,_4).getTime();var _22=0,_23=0;if(_9){for(var i=_11;i--;){var _25=_1.$108c[i],_26=_1.$108d[i],_27=_1.$1595[i],_28=_1._2359pm[i],_29=Math.max(_27.width+_12,_28.width),_30=Math.max(_27.height,_28.height),_31=(_17-1)*(_29+_25),_32=(_17-1)*(_30+_26);_15.maxWidth[i]=_29;_15.maxHeight[i]=_30;_15.sumWidth[i]=_31;_15.sumHeight[i]=_32;_22+=_32;_23+=_31}}
if(!_9||(_7&&_22<=_6)||(_8&&_23<=_6))
{for(var i=0;i<_17;++i){var _33=isc.FacetChart.$133k(_3,_4,i),_34=_33.getTime(),_35;if(_9){if((_34-_21)%isc.FacetChart.$133q==0){_35=this.$177i(_19,_20,_33)}else{_35=isc.Time.toShortTime(_33)}}
_16.push({dataValue:_33,label:_35})}}}else if(_3==isc.FacetChart.$133q||_3==isc.FacetChart.$133r){var _23=0,_22=0;if(_9){for(var i=_11;i--;){var _25=_1.$108c[i],_26=_1.$108d[i],_36=_1.$1595[i],_29=_36.width+_12,_30=_36.height,_31=(_17-1)*(_36.width+_12+_25),_32=(_17-1)*(_36.height+_26);_15.maxWidth[i]=_29;_15.maxHeight[i]=_30;_15.sumWidth[i]=_31;_15.sumHeight[i]=_32;_23+=_31;_22+=_32}}
if(!_9||(_7&&_22<=_6)||(_8&&_23<=_6))
{for(var i=0;i<_17;++i){var _33=isc.FacetChart.$133k(_3,_4,i),_35;if(_9){_35=this.$177i(_19,_20,_33)}
_16.push({dataValue:_33,label:_35})}}}else if(_3==isc.FacetChart.$133s||_3==isc.FacetChart.$133t){var _37=isc.Date.getShortMonthNames(),_38=_4.getMonth(),_39=_4.getFullYear();var _23=0,_22=0;if(_9){for(var i=_11;i--;){var _25=_1.$108c[i],_26=_1.$108d[i],_36=_1.$146u[i];_31=(_17-1)*(_36.width+_12+_25),_32=(_17-1)*(_36.height+_26),_29=_36.width+_12,_30=_36.height;_15.maxWidth[i]=_29;_15.maxHeight[i]=_30;_15.sumWidth[i]=_31;_15.sumHeight[i]=_32;_23+=_31;_22+=_32}}
if(!_9||(_7&&_22<=_6)||(_8&&_23<=_6))
{for(var i=0;i<_17;++i){var m=(_38+(_3==isc.FacetChart.$133s?i:3*i))%12,_35;if(_9){if(i!=0&&m==0)++_39;_35=(((i==0&&(_17==1||m!=(_3==isc.FacetChart.$133s?11:9)))||m==0)?""+_39:_37[m])}
_16.push({dataValue:isc.FacetChart.$133k(_3,_4,i),label:_35})}}}else if(_3==isc.FacetChart.$133u){var _39=_4.getFullYear();if(_9){for(var i=_11;i--;){var _25=_1.$108c[i],_26=_1.$108d[i],_36=_1._9999[i],_31=(_17-1)*(_36.width+_25),_32=(_17-1)*(_36.height+_26),_29=_36.width,_30=_36.height;_15.maxWidth[i]=_29;_15.maxHeight[i]=_30;_15.sumWidth[i]=_31;_15.sumHeight[i]=_32}}
for(var i=0;i<_17;++i){var _35;if(_9){_35=""+_39;++_39}
_16.push({dataValue:isc.FacetChart.$133k(_3,_4,i),label:_35})}}
return _15},isc.A.$107y=function isc_c_FacetChart__createLabelCollapseModeTimeAxis(_1){var _2=0,_3=isc.FacetChart.$133l,_4=isc.FacetChart.$134j,_5=isc.FacetChart.$134k,_6=isc.FacetChart.$133m,_7=isc.FacetChart.$134l,_8=isc.FacetChart.$133n,_9=isc.FacetChart.$133o,_10=isc.FacetChart.$133p,_11=isc.FacetChart.$133q,_12=isc.FacetChart.$133r,_13=isc.FacetChart.$133s,_14=isc.FacetChart.$133t,_15=isc.FacetChart.$133u;return{init:function(_43,_112,_113){this.$103y=_43;var _16=this.$68q=_43.getOrderedData();var _17=this.$102j=_43.$1068();var _18=this.$108i=_43.$107l();this.$1075=(_18.minDataValue==null&&_18.maxDataValue==null);var _19=this.$115u=(_43.chartType=="Column");isc.addProperties(this,isc.FacetChart.$133w(_43,_43));var _20=_18.minDataValue,_21=_18.maxDataValue,_22=_17[0].index,_23=1+_17[1].index,_24=_23-_22,_25;if(_24<2){_25=[_2]}else{var _26=0;if(_19){var i=_22,_28=_16[i].facetValueId.getTime(),_29=_16[i+1].facetValueId.getTime();for(;i<_23-1;_28=_29,_29=_16[++i].facetValueId.getTime()){var _30=_29-_28;if(_30>0&&(_26==null||_30<_26)){_26=_30}}}else{_26=(_21.getTime()-_20.getTime())/(_24-1)}
_25=isc.FacetChart.$133x(_26);_25.push(_2)}
this.$108s=_25;this.$76w=_25.indexOf(_2)},increaseScope:function(){if(this.$108n)return false;var _25=this.$108s,_31=this.$76w<_25.getLength()-1;if(_31)++this.$76w;return _31},decreaseScope:function(){if(this.$1075)return false;var _31=this.$76w>0;if(_31)--this.$76w;return _31},$115v:function(_48,_73){var _29=_73.getTime(),_32=isc.FacetChart.$133g(_48,_73),_33=_32.getTime(),_34=isc.FacetChart.$133i(_48,_73),_35=_34.getTime();if(_29-_33<_35-_29){return _32}else{return _34}},$181v:function(_48,_73,_112){var _36=this.$115v(_48,_73);return _36<=_112?_36:_73},$115y:function(_43,_16,_65,_112,_113){var _37=0,_38=Math.max(_112/_113*_65),_39={},_40=1;for(var i=1000;(_38-_37>_40)&&i--;){var _41=Math.round((_37+_38)/2);_39=_43.$115t(_43,_16,_65,_41+2*_43.dataMargin,0,_39);var _42=_113*_39.clusterSize+(_113-1)*_39.clusterGap;if(_42<=_112){_37=_41}else{_38=_41}}
return _38},measure:function(){var _43=this.$103y,_19=this.$115u,_44=_19&&_43.isMultiFacet()&&!_43.isStacked(),_45=_43.showInlineLabels,_46=Math.max(_43.$106h(),_43.$106f()),_47=1.5*_46,_48=this.$108s[this.$76w],_49=(!_19&&_48!=_2),_50=(_43.rotateLabels=="always"&&!_43.showInlineLabels),_51=_43.$116c(),_52=(_1||(_51&&!_43.showInlineLabels)),_53=!(_1||_50),_54;var _55=this.$1331;var _56=0,_57=0,_58=0,_59=0;var _18=this.$108i,_16=this.$68q;var _60=_43.$1235(_1),_61=0,_62=0,_63=0,_64=0;if(_19){var _17=this.$102j,_22=_17[0].index,_23=1+_17[1].index,_65=_23-_22;var k=(_48==_2?1:null),_67=0,_68=null,_69=true;var _70=_48!=_2&&this.$181v(_48,_16[_22].facetValueId,_16[_23-1].facetValueId),_71=_22;_54=[];for(var i=_22,_72=false;i<_23;){var _73;if(_48==_2){_73=_70=_16[i].facetValueId}else{var j=isc.FacetChart.$96c(_16,i,_23-1,"facetValueId",_70,_43.$107o);if(j<0){var _75=-(1+j);if(_75==i&&!_72){_72=true;_70=this.$181v(_48,_16[i].facetValueId,_16[_23-1].facetValueId);continue}else if(_75==_23){break}else{var _29=_70.getTime(),_76=false,_77,_78,_79=false,_80,_81,_82=isc.FacetChart.$133g(_48,_70);var _83=_75>i;if(_83){var _84=_16[_75-1].facetValueId,_28=isc.FacetChart.$1330(_48,_70).getTime();_77=(_29-_84.getTime())/(_29-_28);_78=isc.FacetChart.$133g(_48,_84);_76=0<=_77&&_77<1&&isc.Date.compareDates(_82,_78)==0}
var _85=_75<_23;if(_85){var _86=_16[_75].facetValueId,_87=isc.FacetChart.$133j(_48,_70).getTime();_80=(_86.getTime()-_29)/(_87-_29),_81=isc.FacetChart.$133g(_48,_86);_79=0<=_80&&_80<1&&isc.Date.compareDates(_82,_81)==0}
if(_76&&_79){_76=(_77<_80);_79=!_76}
if(_76){i=_75-1}else if(_79){i=_75}else{if(!_72){_72=true;_70=this.$181v(_48,_16[i].facetValueId,_16[_23-1].facetValueId)}else{_72=false;_70=isc.FacetChart.$133j(_48,_70);++i}
continue}}}else{i=j}
var _88=i-_71;if(_71!=_22&&(k==null||_88<k)){k=_88}
_73=_16[i].facetValueId}
var _89=this.$115z(_73,_48,_69);_54.push({dataValue:_73,label:_89});if(_48==_2){var _90=_89.length;if(_90>_67){_67=_90;_68=_89}}else{_72=false;_70=isc.FacetChart.$133j(_48,_70)}
_69=false;_71=i;++i}
var _91=this.$1078[0],_92=this.$108c[0],_93=this.$108d[0];if(_48==_2){_59=_43.measureLabel("Xy",_91).height;_57=_43.measureLabel(_68||"",_91).width;_61=_62=(_1?0:Math.max(0,Math.ceil(_59/2)-_60));_63=_64=Math.max(0,Math.ceil(_57/2)-_60)}else if(_48==_4||_48==_5){var _94=this.$1595[0],_95=this._235900pm[0];_57=Math.max(_94.width+_55,_95.width);_59=Math.max(_94.height,_95.height)}else if(_48==_6||_48==_7||_48==_8||_48==_9||_48==_10)
{var _94=this.$1595[0],_95=this._2359pm[0];_57=Math.max(_94.width+_55,_95.width);_59=Math.max(_94.height,_95.height)}else if(_48==_11||_48==_12){var _96=this.$1595[0];_57=_96.width+_55;_59=_96.height}else if(_48==_13||_48==_14){var _96=this.$146u[0];_57=_96.width+_55;_59=_96.height}else if(_48==_15){var _96=this._9999[0];_57=_96.width;_59=_96.height}
if(_52){if(k!=null&&_65>1){_58=this.$115y(_43,_16,_65,_59+_93,k)}else{_58=0}}
if(_53){if(k!=null&&_65>1){_56=this.$115y(_43,_16,_65,_57+_92,k)}else{_56=0}}}else if(_48==_2){var _91=this.$1078[0],_92=this.$108c[0],_93=this.$108d[0],_17=this.$102j,_22=_17[0].index,_23=1+_17[1].index,_24=_23-_22;_59=_43.measureLabel("Xy",_91).height;_58=(_24-1)*(_59+_93);_56=(_24-1)*_92;_61=_62=(_1?0:Math.max(0,Math.ceil(_59/2)-_60));var _97=isc.FacetChart.$177h(_16[_22].facetValueId);_63=Math.max(0,Math.ceil(_43.measureLabel(_97,_91).width/2)-
_60);var _98=isc.FacetChart.$177h(_16[_23-1].facetValueId);_64=Math.max(0,Math.ceil(_43.measureLabel(_98,_91).width/2)-
_60);var _99=(!_52||_58>_47),_100=(!_53||_56>_47),i=_22,_101=_58,_102=_56;_54=[];for(;i<_23&&!(_99&&_100);++i){var _73=_16[i].facetValueId,_89=isc.FacetChart.$177h(_73),_103=_43.measureLabel(_89,_91).width;if(!_45&&(i==_22||i==_23-1)){_56+=Math.ceil(_103/2)}else if(!_45||i!=_23-1){_56+=_103}
if(_103>_57)_57=_103;_54.push({dataValue:_73,label:_89});_100=(!_53||_56>_47)}
if(_53&&_56>_47){_56=(_102+Math.ceil((_56-_102)/Math.max(1,i-_22)*_24))}
if(_52&&_58>_47){_58=(_101+Math.ceil((_58-_101)/Math.max(1,i-_22)*_24))}
if(_99&&_100){_54=[]}}else{var _104=_18.minDataValue,_105=_18.maxDataValue,_20,_21;if(_19){_20=_104;_21=_105}else{_20=isc.FacetChart.$133i(_48,_104);_21=isc.FacetChart.$133g(_48,_105);if(Date.compareDates(_20,_21)<=0){_20=isc.FacetChart.$133g(_48,_104);_21=isc.FacetChart.$133i(_48,_105);if(Date.compareDates(_20,_21)<=0){_20=isc.FacetChart.$133g(_48,new Date(_20.getTime()-1));_21=isc.FacetChart.$133i(_48,new Date(_21.getTime()+1))}}}
var _106=(_105.getTime()-_104.getTime()),_107=(_21.getTime()-_20.getTime()),_108=Math.max(1.0,Math.min(1.1,(_107==0?1:(_106/_107)))),_39=isc.FacetChart.$133y(this,_43,_48,_20,_21,_47,_52,_53,true);_54=_39.pairs;_58=Math.ceil(_108*_39.sumHeight[0]);_57=_39.maxWidth[0];_56=Math.ceil(_108*_39.sumWidth[0]);_59=_39.maxHeight[0]}
if(_43.$116d()||_43.$116e()){_61=_62=_63=_64=0}
var _109=[];if(_52){_109.push({parallel:_61+_58+_62,perpendicular:_57,$1071:!_1&&_51,$1072:_49,$1073:false,$108p:_54,$1238:_61,$1239:_62})}
if(_53){_109.push({parallel:_63+_56+_64,perpendicular:(_45?0:_59),$1071:false,$1072:_49,$1073:false,$108p:_54,$1238:_63,$1239:_64})}
return _109},utility:function(_112,_113,_114){var _25=this.$108s;if(_25[this.$76w]==_2){return 1.0}
var _110=_114.$108p.length;return 0.5*(1.0-1/(_110-this.$76w/_25.getLength()+2))},getLabelDataPairs:function(_112,_113,_114){return _114.$108p},$115z:function(_73,_48,_112){if(_48==_2||_48<_11&&_73.logicalDate){return isc.FacetChart.$177h(_73,_48)}else if(_48==_4||_48==_5){if(_73.getHours()==0&&_73.getMinutes()==0&&_73.getSeconds()==0){return _73.getShortMonthName()+" "+_73.getDate()}else{return isc.Time.toTime(_73)}}else if(_48==_6||_48==_7||_48==_8||_48==_9||_48==_10)
{if(_73.getHours()==0&&_73.getMinutes()==0){return _73.getShortMonthName()+" "+_73.getDate()}else{return isc.Time.toShortTime(_73)}}else if(_48==_11||_48==_12){return _73.getShortMonthName()+" "+_73.getDate()}else if(_48==_13||_48==_14){var _111=_73.getMonth();if(_112||(_111==0)){return""+_73.getFullYear()}else{return isc.Date.getShortMonthNames()[_111]}}else if(_48==_15){return""+_73.getFullYear()}else{return""}}}},isc.A.$107z=function isc_c_FacetChart__createLabelCollapseModeSampleAxis(_1){return{init:function(_19,_40,_41){this.$103y=_19;var _2=this.$68q=_19.getOrderedData(),_3=_19.getDataLabelFacet(),_4=this.$934=[];var _5=_19.$1068(),_6=this.$d=_5[0].index,_7=_5[1].index,_8=this.$108q=_7-_6+1;var _9=_19.$1235(_1);var _10="",_11=0;for(var i=_6;i<=_7;++i){var _13=_19.$1811(_2[i].facetValueId,_2[i].title,_3).toString();if(_13!==_2[i].title)_4[i]=_13;if(i==_6){var d=_19.measureLabel(_13,_19.dataLabelProperties);this.$124c=Math.max(0,Math.ceil(d.height/2)-_9);this.$124d=Math.max(0,Math.ceil(d.width/2)-_9)}
if(i==_7){var d=_19.measureLabel(_13,_19.dataLabelProperties);this.$124e=Math.max(0,Math.ceil(d.height/2)-_9);this.$124f=Math.max(0,Math.ceil(d.width/2)-_9)}
if(_13.length>_11){_10=_13;_11=_13.length}}
this.$108r=_19.measureLabel(_10,_19.dataLabelProperties).width;this.$78r=_19.getDataLabelHeight();this.$108c=_19.$107s(false,_19.dataLabelProperties);this.$108d=_19.$107s(true,_19.dataLabelProperties);var _15=_1?_19.$106f():_19.$106h();this.$108s=_8<2?[1]:[];for(var i=_8-1;i>=1;--i){var n=1+Math.floor((_8-1)/i);if(this.$108s.indexOf(n)==-1){this.$108s.push(n)}}
this.$109v=this.$109w(_8);this.$76w=this.$108s.length-1},$102j:function(_40,_41){var _8=_41-_40+1,r=new Array(_8);for(var i=0;i<_8;++i){r[i]=_40+i}
return r},$109w:function(n){if(n>2){return isc.FacetChart.$108v(n-1).sort(function(_40,_41){return _40-_41}).map(function(d){return d+1})}else{return[n]}},increaseScope:function(){var _18=(this.$76w<this.$108s.getLength()-1);if(_18)++this.$76w;return _18},decreaseScope:function(){var _18=this.$76w>0;if(_18)--this.$76w;return _18},measure:function(){var _19=this.$103y,_20=_19.showInlineLabels,_21=(_19.$116d()||_19.$116e()),_22=!(_1||_21),_23=this.$108s[this.$76w],_24=this.$78r,_25=this.$108c,_26=this.$108d,_27=(_19.rotateLabels=="always"&&!_20),_28=_19.$116c(),_29=[];var _30=0,_31=0;if(_23>2){if(_21||_19.chartType=="Area"||_19.chartType=="Line"){_30=(_23-1)*(this.$108r+_25);_31=(_23-1)*(_24+_26)}else{_30=_23*(this.$108r+_25)-_25;_31=_23*(_24+_26)-_26}}
if(_1||(_28&&!_20)){_32=(_22?this.$124c:0),_33=(_22?this.$124e:0);_29.push({parallel:_32+_33+_31,perpendicular:this.$108r,$1071:!_1&&_28,$108f:_32+_30+_33,$1072:false,$1238:_32,$1239:_33})}
if(!(_1||_27)){var _32=(_22?this.$124d:0),_33=(_22?this.$124f:0);_29.push({parallel:_32+_33+_30,perpendicular:(_20?0:_24),$1071:false,$1072:false,$1238:_32,$1239:_33})}
return _29},utility:function(_40,_41,_42){var _34=((_1?_41:_40)-_42.$1238-_42.$1239),_27=(this.$103y.rotateLabels=="always"&&!this.$103y.showInlineLabels);if(_42.$1071&&!_27&&_42.$108f<_34)
{return 0.0}
var j=this.$109v.indexOf(this.$108s[this.$76w]);if(j!=-1){return(j+1)/(this.$109v.getLength()+1)}else{return 0.2*(this.$76w+1)/(this.$108s.getLength()+1)}},getLabelDataPairs:function(_40,_41,_42){var _19=this.$103y,_2=this.$68q,_4=this.$934,n=this.$108s[this.$76w],_6=this.$d,_8=this.$108q,_36;var _37=_8>2?Math.floor((_8-1)/(n-1)):1,_38=[];for(var i=0;i<n-1;++i){var j=_6+_37*i;_38.push({dataValue:_2[j].facetValueId,label:_4[j]!==_36?_4[j]:_2[j].title})}
var _39=_6+_8-1;_38.push({dataValue:_2[_39].facetValueId,label:_4[_39]!==_36?_4[_39]:_2[_39].title});return _38}}});isc.evalBoundary;isc.B.push(isc.A.$108v=function isc_c_FacetChart__getDivisors(_1){var _2=isc.FacetChart.$108w,_3=[],_4=[],_5=[];if(_1!=1){var _6=[_1];while(!_6.isEmpty()){var m=_6.pop();var p=_2(m);if(p==1){_3.push(m)}else{_6.push(p);_6.push(m/p)}}}
for(var i=0,_10=0,_11=_3.getLength();i<_11;++i){var j=i-_10;var _13=_3[j];var _14=1;var _15=0;for(var k=j+1;k<_11;++k){var l=k-_10-_15;if(_3[l]==_13){++_14;++_15;_3.splice(l,1)}}
_11-=_15;_4[j]=_14}
var _18=1;var _19=[];for(var i=0,_11=_4.getLength();i<_11;++i){_19.push(_18);_18*=(_4[i]+1)}
_19.push(_18);for(var i=0;i<_18;++i){var _20=1;for(var j=0,_11=_3.getLength();j<_11;++j){_20*=Math.pow(_3[j],Math.floor(i/_19[j])%(_4[j]+1))}
_5.push(_20)}
return _5},isc.A.$108w=function isc_c_FacetChart__findFactor(_1){var _2=isc.FacetChart.$108x(1,_1);if(_2!=null)return _2;_2=isc.FacetChart.$108x(8,_1);if(_2!=null)return _2;if(_1==4){return 2}else if(_1==5713){return 197}else if(_1==8927){return 113}else if(_1==42733){return 283}else if(_1==51379){return 269}
return 1},isc.A.$108x=function isc_c_FacetChart__pollardRho(_1,_2){var _3=isc.Math.$108y,x=2,y=2,d=1;while(d==1){x=(x*x+_1)%_2;var _7=(y*y+_1)%_2;y=(_7*_7+_1)%_2;d=_3(Math.abs(x-y),_2)}
return(d==_2?null:d)},isc.A.$111b=function isc_c_FacetChart__objective(_1,_2,_3,_4,_5,_6,_7,_8,_9){var _10=isc.isAn.Object(_9),_11=isc.FacetChart.$111f(_2,_5);if(!_10&&_11!=null){return _11}
var _12=_3.length;for(var i=_12;i--;){if(_1[i][_5[i]]==null){_1[i][_5[i]]=_3[i].measure()}}
var _14=null,k=_3.indexOf(_4);var i=1;for(var j=_12;j--;){i*=_1[j][_5[j]].length}
var _17=new Array(_12),_18=new Array(_12),_19=new Array(_12);for(;i--;){var _20=false,_21=0,_22=0,_23=0,_24=null;for(var j=_12,n=i;j--;){var m=_1[j][_5[j]],d=n%m.length,_28=_17[j]=m[d],_29=_28.parallel,_30=_28.perpendicular,_31,_32;if(j==k){if(isc.isAn.Array(_29)){_18[j]=_29.duplicate();_31=_29.max()}else{_31=_18[j]=_29}
if(isc.isAn.Array(_30)){_19[j]=_30.duplicate();_32=_30.sum()}else{_32=_19[j]=_30}
_21=_31;_23=_32}else{if(isc.isAn.Array(_30)){_18[j]=_30.duplicate();_31=_30.sum()}else{_31=_18[j]=_30}
if(isc.isAn.Array(_29)){_19[j]=_29.duplicate();_32=_29.max()}else{_32=_19[j]=_29}
_22+=_31;if(_24==null){_24=_32}else{_24=Math.max(_24,_32)}}
n=(n-d)/m.length}
var _33=(_21+_22),_34=(_23+(_24||0));var _35=_8(_6,_7,_33,_34,_22,_23,_3,_17,_18,_19,k,_9);if(_14==null||_35>_14){_20=true;_14=_35}
if(_20&&_10){isc.addProperties(_9,{axisMeasures:_17.duplicate(),axisWidths:_18.map(function(_36){return(isc.isAn.Array(_36)?_36.duplicate():_36)}),axisHeights:_19.map(function(_36){return(isc.isAn.Array(_36)?_36.duplicate():_36)})})}}
isc.FacetChart.$111g(_2,_5,_14);return _14},isc.A.$111f=function isc_c_FacetChart__getCacheByAxes(_1,_2){var _3=_2.length;for(var i=0;i<_3-1;++i){if(_1[_2[i]]==null){return null}else{_1=_1[_2[i]]}}
return _1[_2[_3-1]]},isc.A.$111g=function isc_c_FacetChart__setCacheByAxes(_1,_2,_3){var _4=_2.length;for(var i=0;i<_4-1;++i){if(_1[_2[i]]==null){_1=_1[_2[i]]=[]}else{_1=_1[_2[i]]}}
_1[_2[_4-1]]=_3;return _3},isc.A.$111c=function isc_c_FacetChart__localSearch(_1,_2,_3,_4,_5){var _6=isc.FacetChart.$1083,_7=isc.FacetChart.$108z,_8=isc.FacetChart.$1080,_9=isc.FacetChart.$96c,_10=this,_11=_1.length,_12=Math.pow(1.3,_11);var _13=new Array(2*_11);for(var i=2*_11;i--;)_13[i]=null;var _15=[];var _16=_3.duplicate();var _17=_2(_3);isc.FacetChart.$111g(_15,_3,_17);var _18=this.$1081();var _19=new Array(_11);for(var _20=0,_21=0;_20<_5&&_21<_4;++_20){var _22=_3.duplicate(),_23=isc.FacetChart.$111f(_15,_3),_24;if(_23==null){_24=isc.FacetChart.$111g(_15,_3,_2(_3))}else{_24=_23}
var _25=null,_26=null;for(var i=_11;i--;){_19[i]=0}
var _27=true,_28=true,_29=0,_30=0;for(var i=_11;i--;){var _31=true,_32=true;for(var _33=-1;_33<=1;_33+=2){_19[i]=_33;var _34=_6(_1,_19,_3,_13);if(_34){var u=_2(_3);_18.addEdge(_22,_24,_3,u);_27=_27&&_24>=u;_28=_28&&_24<=u;_31=_31&&_24>u;_32=_32&&_24<u;isc.FacetChart.$111g(_15,_3,u);if(_25==null||u>_25){_25=u;_26=_3.duplicate()}}
_7(_1,_3,_22,_13)}
if(!(_32&&_31)){if(_32)++_30;if(_31)++_29}
_19[i]=0}
if(_25!=null&&_25>_17){_17=_25;_16=_26}
var _36=Math.min(0,_12*(1-_20/20)),_37=(_27&&_17>=_36);_27=_27&&_29==_11;var _38=!_27&&(_11<2||(_30>1&&_29>1));_28=_28&&!(_27||_38);if(_37){break}else if(_17>=0){++_21;if(_21>=_4){break}}
_18.visit(_22,_24,_27,_28,_38);var _39=_18.getNewLead();if(_39!=null){_7(_1,_3,_39)}else{break}}
_7(_1,_3,_16);return(_17>=0.0?_3:null)},isc.A.$1081=function isc_c_FacetChart__createLocationGraph(){return{vertices:[],leads:new isc.FacetChart.$159q(),$1085:function(_15){return _15.join(",")},$1086:function(_1){return _1.split(",").map(parseInt,10)},$1087:function(_15){var _1=this.$1085(_15);var j=isc.FacetChart.$96c(this.vertices,0,this.vertices.length-1,"key",_1);if(j<0){var _3={key:_1,visited:false,priority:0,index:0,forward:[],reverse:[]};this.vertices.addAt(_3,-(1+j));this.leads.enqueue(_3);return _3}else{return this.vertices[j]}},getNewLead:function(){var _4=this.leads.dequeue();return(_4!=null?this.$1086(_4.key):null)},$137u:function(_4){var _5=10e-6;var _6=1/(1+Math.exp(_5*-_4.utility));var _7=_4.forward,_8=_4.reverse,_9=0;for(var i=_8.length;i--;){var _11=_8[i];if(_11.saddle){_9=5;break}else if(_11.minimum){_9=Math.max(_9,4)}else{_9=Math.max(_9,3)}}
if(_9==0){for(var i=_7.length;i--;){var _11=_7[i];if(_11.saddle){_9=2;break}else if(_11.maximum){_9=Math.max(_9,1)}}}
_9/=5;return(_6+_9)/2},addEdge:function(_15,_16,_17,_18){var _12=this.$1087(_15),_13=this.$1087(_17);_12.utility=_16;_13.utility=_18;if(!(_12.visited||_13.visited)){if(_16<=_18){_12.forward.push(_13);_13.reverse.push(_12)}
if(_16>=_18){_12.reverse.push(_13);_13.forward.push(_12)}}},visit:function(_15,_16,_17,_18,_19){var _4=this.$1087(_15);_4.visited=true;_4.utility=_16;_4.maximum=_17;_4.minimum=_18;_4.saddle=_19;var _14=this.leads;_14.remove(_4);var _7=_4.forward,_8=_4.reverse;for(var i=_7.length;i--;){var _11=_7[i];if(!_11.visited){_14.changePriority(_11,this.$137u(_11))}}
for(var i=_8.length;i--;){var _11=_8[i];if(!_11.visited){_14.changePriority(_11,this.$137u(_11))}}}}},isc.A.$159q=function isc_c_FacetChart__priorityQueue(){isc.addProperties(this,{priorityProperty:"priority",indexProperty:"index",dequeue:function(){var _1=this.$68q.length;if(_1==0){return null}else{var _2=this.$68q[0],_3=this.$68q.pop();delete _2[this.indexProperty];if(_1>1){this.$68q[0]=_3;_3[this.indexProperty]=0;this.$137v(0)}
return _2}},enqueue:function(_2){this.$68q.push(_2);var _1=this.$68q.length;_2[this.indexProperty]=_1-1;this.$137w(_1-1)},changePriority:function(_2,_17){var _4=this.priorityProperty,_5=_2[_4];if(_17!=_5){var _6=this.$137x(_2);if(_6!=-1){_2[this.priorityProperty]=_17;if(_17<_5){this.$137v(_6)}else{this.$137w(_6)}}}},remove:function(_2){if(this.contains(_2)){this.changePriority(_2,2);this.dequeue()}},contains:function(_2){return(this.$137x(_2)!=-1)},$137x:function(_2){var _6=_2[this.indexProperty];if(!(0<=_6&&_6<this.$68q.length)){return-1}else{return _6}},$68q:[],$137w:function(_6){var _4=this.priorityProperty,_7=this.indexProperty,_8=this.$68q,_2=_8[_6],_9=_2[_4];while(_6>0){var _10=(_6-1)>>>1,_11=_8[_10];if(_11[_4]<_9){_8[_6]=_11;_11[_7]=_6;_6=_10}else{break}}
_8[_6]=_2;_2[_7]=_6},$137v:function(_6){var _4=this.priorityProperty,_7=this.indexProperty,_8=this.$68q,_1=_8.length,_12=(_1>>>1),_2=_8[_6],_9=_2[_4];while(_6<_12){var _13=(_6<<1)+1,_14=_13+1,_15=((_14<_1&&_8[_13][_4]<_8[_14][_4])?_14:_13);var _16=_8[_15];if(_16[_4]>_9){_8[_6]=_16;_16[_7]=_6;_6=_15}else{break}}
_8[_6]=_2;_2[_7]=_6}})},isc.A.$1083=function isc_c_FacetChart__move(_1,_2,_3,_4){var _5=_1.length,_6=true;if(_4!=null){for(var i=_5;_6&&i--;){var _8=_4[i],_9=_4[_5+i],_10=_3[i]+_2[i];_6=(_8==null||_8<=_10)&&(_9==null||_10<=_9)}
if(!_6){return null}}
for(var i=_5;_6&&i--;){var _11=Math.abs(_2[i]),_12=(_2[i]>0?1:-1),_13=_1[i],_14=_2[i]>0?"increaseScope":"decreaseScope";for(var j=0;_6&&j<_11;++j){_6=_13[_14].call(_13);if(_6){_3[i]+=_12}else if(_4!=null){_4[Math.max(_12,0)*_5+i]=_3[i]}}}
return _6?_3:null},isc.A.$108z=function isc_c_FacetChart__moveTo(_1,_2,_3,_4){var _5=_1.length,_6=new Array(_5);for(var i=_5;i--;){_6[i]=_3[i]-_2[i]}
return isc.FacetChart.$1083(_1,_6,_2,_4)},isc.A.$96c=function isc_c_FacetChart__binarySearch(_1,_2,_3,_4,_5,_6){if(!isc.isA.Function(_6))_6=null;if(_1.isEmpty())return-1;if(_6!=null&&_4!=null){while(_2+1<_3){var k=Math.floor((_2+_3)/2),_8=_6(_5,_1[k][_4]);if(_8<0){_3=k}else if(_8>0){_2=k}else{return k}}
var k;var _9=_6(_5,_1[_2][_4]);if(_9<0){k=_2}else if(!(_9>0)){return _2}else{var _10=_6(_5,_1[_3][_4]);if(_2!=_3&&_10<0){k=_3}else if(_2!=_3&&!(_10>0)){return _3}else{k=_3+1}}
return-(1+k)}else if(_6==null&&_4!=null){while(_2+1<_3){var k=Math.floor((_2+_3)/2),v=_1[k][_4];if(_5<v){_3=k}else if(_5>v){_2=k}else{return k}}
var k;if(_5<_1[_2][_4]){k=_2}else if(!(_5>_1[_2][_4])){return _2}else if(_2!=_3&&_5<_1[_3][_4]){k=_3}else if(_2!=_3&&!(_5>_1[_3][_4])){return _3}else{k=_3+1}
return-(1+k)}else if(_6==null&&_4==null){while(_2+1<_3){var k=Math.floor((_2+_3)/2),v=_1[k];if(_5<v){_3=k}else if(_5>v){_2=k}else{return k}}
var k;if(_5<_1[_2]){k=_2}else if(!(_5>_1[_2])){return _2}else if(_2!=_3&&_5<_1[_3]){k=_3}else if(_2!=_3&&!(_5>_1[_3])){return _3}else{k=_3+1}
return-(1+k)}},isc.A.$1775=function isc_c_FacetChart__getSvgTranslation(_1){return"'translate("+_1.getLeft()+" "+_1.getTop()+")'>"});isc.B._maxIndex=isc.C+45}else{isc.defineClass("FacetChart","Canvas","Chart");isc.A=isc.FacetChart;isc.A.invalidClass=true;isc.A.invalidErrorMessage="FacetChart class requires optional Drawing module which is not loaded. Please make sure the Drawing module is included in this page before the Charts module.";isc.A=isc.FacetChart.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.B.push(isc.A.initWidget=function isc_FacetChart_initWidget(){this.logWarn(isc.FacetChart.invalidErrorMessage);this.Super("initWidget",arguments)});isc.B._maxIndex=isc.C+1}
isc.A=isc.FacetChart;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.allChartTypes=["Area","Bar","Bubble","Column","Doughnut","Line","Pie","Radar","Scatter"];isc.A.$1340=["Area","Column","Line"];isc.A.$138v=["Area","Bar","Column","Doughnut","Line","Pie","Radar"];isc.A.proportionalContextMenuItemTitle="Proportional";isc.A.regressionLinesContextMenuItemTitle="Regression Lines";isc.A.hideRegressionLinesContextMenuItemTitle="None";isc.A.linearRegressionLinesContextMenuItemTitle="Straight Line";isc.A.polynomialRegressionLinesContextMenuItemTitle="Polynomial Curve";isc.A.polynomialDegreeRegressionLinesContextMenuItemTitle="Polynomial Degree...";isc.A.polynomialDegreePrompt="Enter a degree for the polynomial regression curve (must be a positive integer):";isc.A.invalidPolynomialDegreeMessage="The regression polynomial degree must be a positive integer.";isc.A.chartTypeContextMenuItemTitle="Chart Type";isc.A.fillContextMenuItemTitle="Fill";isc.A.fillFilledContextMenuItemTitle="Filled";isc.A.fillUnfilledContextMenuItemTitle="Unfilled";isc.A.fillAutoContextMenuItemTitle="Auto";isc.A.stackContextMenuItemTitle="Stack";isc.A.stackStackedContextMenuItemTitle="Stacked";isc.A.stackUnstackedContextMenuItemTitle="Unstacked";isc.A.stackAutoContextMenuItemTitle="Auto";isc.A.swapFacetsContextMenuItemTitle="Swap Facets";isc.A.chartTypeAreaTitle="Area";isc.A.chartTypeColumnTitle="Column";isc.A.chartTypeBarTitle="Bar";isc.A.chartTypeLineTitle="Line";isc.A.chartTypeRadarTitle="Radar";isc.A.chartTypePieTitle="Pie";isc.A.chartTypeDoughnutTitle="Doughnut";isc.A.chartTypeScatterTitle="Scatter";isc.A.chartTypeBubbleTitle="Bubble";isc.A.chartTypeHistogramTitle="Histogram";isc.B.push(isc.A.getChartTypeTitle=function isc_c_FacetChart_getChartTypeTitle(_1){var _2=this["chartType"+_1+"Title"];return _2||_1});isc.B._maxIndex=isc.C+1;isc.A=isc.FacetChart;isc.A.$127c=100;isc.Page.setEvent("load",function(){if(isc.FacetChart){isc.FacetChart.$127b=new Date().getTime();isc.Timer.setTimeout("isc.FacetChart.addClassProperties({$127a: true});isc.Log.logDebug('Marked FacetChart safe for VML redraws','drawing')",isc.FacetChart.$127c);isc.Log.logDebug("Kicked off VML safety delay timer","drawing")}});isc._nonDebugModules=(isc._nonDebugModules!=null?isc._nonDebugModules:[]);isc._nonDebugModules.push('Charts');isc.checkForDebugAndNonDebugModules();isc._moduleEnd=isc._Charts_end=(isc.timestamp?isc.timestamp():new Date().getTime());if(isc.Log&&isc.Log.logIsInfoEnabled('loadTime'))isc.Log.logInfo('Charts module init time: '+(isc._moduleEnd-isc._moduleStart)+'ms','loadTime');delete isc.definingFramework;if(isc.Page)isc.Page.handleEvent(null,"moduleLoaded",{moduleName:'Charts',loadTime:(isc._moduleEnd-isc._moduleStart)});}else{if(window.isc&&isc.Log&&isc.Log.logWarn)isc.Log.logWarn("Duplicate load of module 'Charts'.");}
